"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69345,21563,55803],{934980:(e,t,n)=>{n.d(t,{CC:()=>o,Ll:()=>l,XF:()=>a});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),o=(e,t)=>i(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,l=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},279812:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(616550),o=n(196074),a=n(410150);function l(){let e=(0,i.k6)(),t=(0,a.HG)();return n=>{t?(0,o.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},212515:(e,t,n)=>{n.d(t,{Q:()=>s,Z:()=>c});var i=n(667294),o=n(488792),a=n(477058),l=n(972147),r=n(730212);function s(e,t){let{setViewContextData:n}=(0,a.sV)(),{requestIdentifier:s}=(0,r.B)(),c=(0,o.Z)(),{viewData:d}=(0,a.SU)();(0,i.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:s}))},[t])}function c(e){let{children:t,log:n}=e;return s(n),t||null}},644845:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>{let n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},705492:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},349969:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);let o=(0,i.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,i.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:"ï£¿"})})})},225771:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),o=n(883119),a=n(491850),l=n(793874),r=n(107941),s=n(144326),c=n(635284),d=n(730212),u=n(272109),_=n(1006),p=n(410150),h=n(830017),g=n(785893);let m=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function b({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:b=!1,children:x,closeOnOutsideClick:y=!0,footer:w,heading:v,isOpen:j,mobileAccessibilityCloseIconLabel:k,mobileHeadingSize:P,mobileHideCloseIcon:A,mobileIsFooter:S,mobileIsFullscreen:C,mobileIsFullpage:Z,mobileIsSlideUp:z,onDismiss:E,subHeading:T,type:I,zIndex:L}){let M=(0,s.ZP)(),{isRTL:O}=(0,d.B)(),B=(0,i.useRef)(!1),[R,F]=(0,i.useState)(!1),{setAppFocusState:U}=(0,h.I)(),$=(0,p.ZP)(),D=(0,l.vs)();return((0,i.useEffect)(()=>(B.current=(0,a.Z)(()=>{B.current&&F(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&B.current&&(window.cancelAnimationFrame(B.current),B.current=null)}),[]),(0,i.useEffect)(()=>(j?(c.Z.pause(),U(!1),(0,_.My)(`mweb_unauth.mobile_modal.${I||"unknown_type"}.did_mount.is_open.true`)):(c.Z.resume(),U(!0)),()=>{j&&(c.Z.resume(),U(!0),(0,_.My)(`mweb_unauth.mobile_modal.${I||"unknown_type"}.did_mount.is_open.false`))}),[U,j]),(0,i.useEffect)(()=>{let e=j&&!b;return e&&m(),()=>{e&&f()}},[j,b]),j)?(0,g.jsx)(u.Z,{allowClickAndDrag:n,children:(0,g.jsx)(o.mh,{children:(0,g.jsxs)(o.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:L||r.ZM,children:[(0,g.jsx)(o.iP,{accessibilityLabel:M._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${I||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),y&&E()},tapStyle:"none",children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new o.Ry(1)})}),(0,g.jsxs)(o.xu,{color:"default",dangerouslySetInlineStyle:z?(0,r.Vf)({isFullscreen:C,isTablet:"tablet"===$,isShowing:R,isRelatedInterestsModal:"related_interests_modal"===I,isDarkMode:D}):(0,r.JN)({isDarkMode:D,variant:Z?"fullpage":C?"fullscreen":"euPrompt"===I?"euPrompt":"tablet"===$?"tablet":S?"footer":"signup"===I?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,g.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[k&&!A?(0,g.jsx)(o.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,g.jsx)(o.hU,{accessibilityLabel:k,icon:"cancel",iconColor:D?"gray":"darkGray",onClick:E,padding:4,size:"sm"})}):null,v?(0,g.jsx)(o.kC.Item,{flex:"grow",children:(0,g.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:k&&!A?{marginRight:O?-10:50,marginLeft:O?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[C?v:(0,g.jsx)(o.xv,{align:t,size:P||"400",weight:"bold",children:v}),T?(0,g.jsx)(o.xv,{align:t,children:T}):null]})})}):null]}),(0,g.jsxs)(o.xu,{overflow:"auto",children:[x,w]})]})]})})}):null}},887103:(e,t,n)=>{n.d(t,{Di:()=>l,Jl:()=>i,R:()=>o,aU:()=>r,j2:()=>a,pN:()=>s});let i=1e4,o="permanent_account_closure",a="account_deletion_email_sent",l="account_deactivated",r="unlink_successful",s="account_switch_to_settings"},26473:(e,t,n)=>{n.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:o}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let a=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),l=Object.keys(a);return o&&"orig"===l[l.length-1]&&l.pop(),a[l.pop()]||""}},323437:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e}){return(0,i.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,i.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,i.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,i.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,i.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},765963:(e,t,n)=>{n.d(t,{Z:()=>i});let i={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9}},863266:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(191855),o=n(609326),a=n(914896),l=n(786525),r=n(635258),s=n(868808),c=n(937304);let d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"",_=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,p=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==o.MM)return null;let n=(0,l.qn)(o.MM);return(0,l.L_)(o.MM),n};function h(e,t){let n;if(!d){t.error?.({message:"Window is undefined"});return}let o=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),l=async e=>{if(!e.isTrusted)return;let r=e instanceof MessageEvent?_(e):p(e),d=(0,s.mB)(r);if(d.state&&d.code&&d.state===o){t.fetching?.(),n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(a.U2(i.fS))}`},method:"POST",body:(0,c.Z)({code:d.code,redirect_uri:u})}),{id_token:n,access_token:o}=await e.json();n&&o?t.success({line_id_token:n,line_access_token:o}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",l),window.removeEventListener("storage",l),t.complete?.()}}};window.addEventListener("message",l),window.addEventListener("storage",l),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.zal}&redirect_uri=${encodeURIComponent(u)}&state=${o}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},894789:(e,t,n)=>{n.d(t,{Z:()=>o});let i=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),o=e=>JSON.parse(decodeURIComponent(atob(i(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},369081:(e,t,n)=>{n.d(t,{GH:()=>s,JF:()=>f,Jb:()=>p,MI:()=>g,_V:()=>c,fi:()=>b,sl:()=>u,we:()=>_});var i=n(705492),o=n(400416),a=n(680369),l=n(685667),r=n(1006);let s="274266067164",c=()=>["public_profile","email","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,r.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,r.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,r.dy)({event:"global_object_not_found",provider:"facebook"}):(0,r.My)("pcons.non_autologin.fb.global_object_not_found")},_=(e,t)=>(t&&(0,r.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,l.Z)(e),"FACEBOOK").then(()=>u(t))),p=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),h=({userID:e,accessToken:t,data:{birthday:n,email:o,first_name:a,gender:l,last_name:r,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:o,first_name:a,gender:l,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:r});async function g(e){let t=(await (0,o.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:d}})).resource_response.data||{};return(0,r.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let m=(e,t)=>new Promise((n,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:o,accessToken:a}=e.authResponse;g(a).then(e=>{n({creds:{facebook_id:o,facebook_token:a,facebook_autologin:t?.autologin||!1},signupOptions:h({userID:o,accessToken:a,data:e})})},i)}),f=()=>new Promise(e=>{window.FB.login(e,{scope:c().join(",")})}).then(e=>m(e)),b=async(e,t)=>{await _(e,!1);let n=await p(),i=t?"dweb":"mweb";if("connected"===n.status){(0,r.My)(`${i}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=n.authResponse;try{let n=await (0,o.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(n?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:o}=n.resource_response.data,a=e||t;return(0,r.My)(`${i}.login_data_from_fb_token.success`),{isGoogleConnected:a,hasPassword:o,isFBAuthOnly:!a&&!o}}(0,r.My)(`${i}.login_data_from_fb_token.no_data`)}catch{(0,r.My)(`${i}.login_data_from_fb_token.error`)}}return null}},685667:(e,t,n)=>{n.d(t,{Z:()=>o});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},o=e=>`//connect.facebook.net/${i(e)}/sdk.js`},32121:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(955937),a=n(235838);let l=(e="throttle")=>{let[t,n]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let t="throttle"===e?(0,a.Z)(()=>n(window.scrollY),10):(0,o.Z)(()=>n(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},722952:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(573706),o=n(297728),a=n(730212),l=n(61218),r=n(970067),s=n(151817),c=n(868808),d=n(415787);let u="http://play.google.com/store/apps/details?id=com.pinterest",_=["access_token","new_password","new_password_confirm","password","next"],p=(e,t)=>t?(0,c.ru)(e,{invite_code:t}):e,h=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?p(e,n):"ios"===t||"ipad"===t?p(e.iOS,n):"android"===t?p(e.android,n):null},g=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:o,app_upsell_type:a})=>({deeplink_path:h(e,n,t),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:o,utm_source:140,utm_medium:2152,app_upsell_type:a,...i?{af_r:i}:null}),m=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:o})=>{let a=JSON.stringify({deeplink_path:h(e,n,t),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:i});return{referrer:(0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:o})}},f=({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}),b=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,logContextEvent:o,platform:a,redirectToLite:l,unauthId:r,userAgent:_,app_upsell_type:p})=>{if(o?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),t){let h=g({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,platform:a,unauthId:r,userAgent:_,app_upsell_type:p});if((0,d.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:a}}),i&&(0,d.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,d.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!r}}),l){(0,d.nP)("mweb.deeplink.lite_link",{sampleRate:1}),o?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}});let e=f({unauthId:r,app_upsell_type:p});window.location.href=(0,c.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){let e=m({deeplinkUri:t,invite_code:i,platform:a,unauthId:r,app_upsell_type:p});(0,s.v)()?(0,s.Z)().then(n=>{if(n.length>0){let e=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof t?t:t.android):window.location.href,n=(0,c.ru)(e,h);o?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.open(n)||o?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}})}else o?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.location.href=(0,c.ru)(u,e)}).catch(()=>{(0,d.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(o?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.location.href=(0,c.ru)(u,e))}else{if((0,d.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,c.ru)("https://pinterest.com/pinterest-predicts",h);return}o?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:p}}),window.location.href=(0,c.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var x=n(785893);function y({children:e,invite_code:t}){let{isAuthenticated:n,isBot:l,unauthId:s,userAgent:{platform:c,raw:d}}=(0,a.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:_}=(0,o.F)();return e(async(e,i,o)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),b({isAuthenticated:n,checkExperiment:_,deeplinkUri:e,fallbackUrl:o,invite_code:t,logContextEvent:u,platform:c,redirectToLite:(0,r.Rp)({isBot:l,platform:c,userAgent:d}),unauthId:s,userAgent:d,app_upsell_type:i})})}let w=e=>(0,x.jsx)(l.ty,{children:t=>(0,x.jsx)(y,{...e,invite_code:t})});w.displayName="DeepLinkNavigator";let v=w},343931:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),o=n(144326),a=n(785893);let l=({isInModal:e})=>{let t=(0,o.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),children:(0,a.jsx)(i.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},410287:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:l,fullWidth:r=!1,pressState:s="none",accessibilityLabel:c,role:d,dataTestId:u}){let _=(Array.isArray(s)?s:[s]).includes("compress");return(0,o.jsx)(i.iP,{accessibilityLabel:c,dataTestId:u,fullWidth:r,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),role:d,rounding:l,tapStyle:_?"compress":"none",children:e})}},441482:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ti});var i=n(667294),o=n(545007),a=n(616550),l=n(191855),r=n(833602),s=n(573706),c=n(914896),d=n(602185),u=n(801925),_=n(282999),p=n(730212),h=n(750077),g=n(873095),m=n(978993),f=n(1006),b=n(868808),x=n(410150),y=n(969119),w=n(116897),v=n(252071),j=n(194093),k=n(355483),P=n(445330),A=n(720802),S=n(883119),C=n(346645);function Z({children:e}){return!(0,C.Z)()&&e}var z=n(476198),E=n(144326),T=n(267005),I=n(765963),L=n(901450),M=n(72766),O=n(785893);let B="keychainAutologinDisabled",R="mweb.unauth.ios_keychain_autologin";function F(){let[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),l=(0,i.useRef)(!1),r=!!e&&!!n,s=(0,i.useRef)(null),c=(0,M.f)(),d=(0,a.k6)(),u=(0,a.TH)(),_=(0,E.ZP)(),{showToast:p}=(0,L.F9)();(0,i.useEffect)(()=>{s.current&&s.current.focus()},[]);let h=({errorReason:e,errorCode:t,errorMessage:n})=>{let i=e||t===T.oP?"invalid_password":t===T.hU?"invalid_email":"login";(0,f.My)(`${R}.failure.${i}`),(0,m.Nh)(B,!0),d.push({pathname:"/login",state:{keychainiOSAutologinError:{code:t,message:n}}})};(0,i.useEffect)(()=>{l.current!==r&&(l.current=r,(0,m.Nh)(B,!0),c({username_or_email:e,password:n},d,u.pathname,{isAutologin:!0},{event_type:7534,view_type:9,view_parameter:63,aux_data:{signup_login_method:I.Z.EMAIL,upsell_reason:"autologin_keychain"}}).then(()=>{p(({hideToast:e})=>(0,O.jsx)(z.Z,{onHide:e,text:_._('You\'re logged in!', 'mweb.unauth.ios_keychain_autologin.login_success_toast', 'Toast to alert user they are being logged in')})),(0,f.My)(`${R}.login_success`)}).catch(e=>{h({errorCode:(0,j.Z)(e,"api_error_code"),errorMessage:(0,j.Z)(e,"message")})}))});let g=({value:e,type:n})=>{if(1===e.length){h({errorReason:"manual_input_attempt"});return}"email"===n?t(e):o(e)},b=()=>{r||(0,f.My)(`${R}.failure.user_dismissed_prompt`),(0,m.Nh)(B,!0)};return(0,O.jsx)(S.xu,{dangerouslySetInlineStyle:{__style:{zIndex:-100}},opacity:0,position:"absolute",top:!0,children:(0,O.jsxs)("form",{"aria-hidden":"true",autoComplete:"on",onSubmit:e=>{e.preventDefault()},children:[(0,O.jsx)(S.nv,{ref:s,autoComplete:"username",id:"username",onBlur:b,onChange:({value:e})=>g({value:e,type:"email"}),size:"lg",type:"email",value:e}),(0,O.jsx)(S.nv,{autoComplete:"current-password",id:"current-password",onBlur:b,onChange:({value:e})=>g({value:e,type:"password"}),size:"lg",type:"password",value:n})]})})}let U=()=>{let e=(0,a.TH)(),{isBot:t,userAgent:{browserName:n}}=(0,p.B)();return!t&&"Mobile Safari"===n&&((0,_.bo)(e)||(0,_.E0)(e)||(0,_.dr)(e)||(0,_.gT)(e)||(0,_.uM)(e)||(0,_.am)(e))&&!(0,m.qn)(B,!1)};function $(){return U()&&(0,O.jsx)(F,{})}function D(){return(0,O.jsx)(Z,{children:(0,O.jsx)($,{})})}var N=n(166408),H=n(812477);let G="susdst",W="susdd",Y=e=>{N.ZP.getItem(W)||N.ZP.setItem(W,e),N.ZP.setItem(G,new Date().getTime())},X=()=>{if("undefined"==typeof window)return!1;let e=N.ZP.getItem(G),t=N.ZP.getItem(W);return!!e&&!!t&&new Date().getTime()-e<=t},J=(e,t)=>e===t||!!e&&!!t&&e.pathname===t.pathname,K=e=>e&&!!e.key,q=({newLocation:e,oldLocation:t})=>K(e)&&(0,_.L6)(e)&&((0,_.L6)(t)||(0,_.am)(t)||(0,H.Z)(t)||(0,_.En)(t))&&!(0,m.qn)("openUnauthType",void 0)&&!X();var V=n(872965);let Q=e=>e.includes("_created")||e.includes("boards"),ee="SEEN_NAV_UPSELL",et=({mobileSignupModalContext:e})=>{let t=(0,a.TH)(),n=(0,i.useRef)(t);(0,i.useEffect)(()=>{let i=n.current,o="?source=swipe"===t.search;if(i!==t&&!J(i,t)&&!Q(t.pathname)){(0,V.C)(t);let{showMobileSignupModal:n,dismissMobileSignupModal:a,incrementUpsellEligibleNavigationCount:l,upsellIsEnabledGlobally:r,upsellEligibleNavigationCount:s,modal:{isShown:c}}=e,d=s+1;c?a():r()&&q({newLocation:t,oldLocation:i})&&!o&&(s>=3&&!N.ZP.getItem(ee)&&(n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_${d}`,navigationTriggeredUpsell:{newLocation:t,oldLocation:i},headingType:"none"}),N.ZP.setItem(ee,!0),(0,f.My)(`mweb.nav.upsell.show.${d}`)),l())}n.current=t},[t,e])};function en({context:e}){return et({mobileSignupModalContext:e}),null}var ei=n(335108),eo=n(192820),ea=n(529264),el=n(154785),er=n(383399),es=n(129746),ec=n(55463);let ed=()=>{let e=(0,er.Z)(),t=e&&e.isAuth,{referrerFromCookie:n}=(0,p.B)(),i=(0,ea.Xn)((0,ea.an)(n??"")),a=(0,o.v9)(({session:e})=>e.unauthSavePinId&&!t),{unauthCommentPinId:l,removeUnauthCommentPinId:r}=(0,es.C)(),s=l&&t,{unauthFollowUserId:c,removeUnauthFollowUserId:d}=(0,ec.f)(),u=c&&t,_=(0,o.I0)(),h=(0,el.Z)();return()=>{a&&_((0,ei.n1)()),s&&r(),u&&d(),(0,f.NC)("hide_dismissable_modal"),h({action:"dismiss",item:"signup-modal"});let e=(0,N.Nl)(),t=e.getItem(eo.lf)||0;t+=1,e.setItem(eo.lf,t);let n=1===t;i&&n&&Y(6e4)}};var eu=n(559028),e_=n(240760),ep=n(635258),eh=n(410287),eg=n(1856),em=n(191512),ef=n(415787);function eb(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ex={visible:{transform:"translateY(0)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},hiding:{transform:"translateY(350px)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},wash:{backgroundColor:"rgba(0, 0, 0, 0.5)",height:"100%",touchAction:"none",width:"100%",zIndex:10001,position:"fixed",top:0,left:0},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",width:"100%",zIndex:1}}};class ey extends i.PureComponent{constructor(...e){super(...e),eb(this,"state",{visible:!1,hiding:!1,showWash:!1}),eb(this,"getTitle",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.first_name;return(this.props.i18n._('Join {{ name }} on Pinterest for more ideas', 'Prompt user to signup to access all Pinterest features', 'Prompt user to signup to access all Pinterest features')).replace("{{ name }}",n||"")}),eb(this,"getAvatar",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.image_medium_url,i=t&&t.full_name;return(0,O.jsx)(eu.qE,{name:i||"",size:"sm",src:n||""})}),eb(this,"handleHide",()=>{let{onDismiss:e}=this.props;(0,ef.nP)("mweb_facebook_social_upsell.close"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),eb(this,"handleHideOutsideTap",()=>{let{onDismiss:e}=this.props;(0,ef.nP)("mweb_facebook_social_upsell.close.outside.modal"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),eb(this,"handleFBConnect",e=>{(0,ef.nP)(`mweb_facebook_social_upsell.fb_connect_button_click.${e}`)}),eb(this,"handleSignupClick",()=>{let e=this.props.location.state?.attributionLabel;(0,ef.nP)("mweb_facebook_social_upsell.signup_button_click"),this.props.history.push({pathname:"/",state:{from:this.props.location.pathname,next:this.props.location.pathname,attributionLabel:e}})}),eb(this,"initializeShowAnimation",()=>{(0,ef.nP)("mweb_facebook_social_upsell.shown"),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{this.setState({visible:!0})},1e3)})})}componentDidMount(){(0,ef.nP)("mweb_facebook_social_upsell.land");let{invite:e}=this.props,t=e?e.invite_channel:null;t&&(0,ef.nP)(`mweb_social_unauth.invite_channel.${t}`),this.initializeShowAnimation()}componentWillUnmount(){void 0!==this.slideInAnimation&&window.cancelAnimationFrame(this.slideInAnimation)}renderDefaultLoginHeader(){return(0,O.jsxs)(S.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginBottom:2,children:[(0,O.jsxs)(S.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,children:[(0,O.jsx)(S.xu,{children:(0,O.jsx)(S.xv,{align:"start",size:"400",weight:"bold",children:this.props.i18n._('Sign up to see more', 'Title on mobile web signup modal to prompt users to signup for Pinterest.', 'Title on mobile web signup modal to prompt users to signup for Pinterest.')})}),(0,O.jsx)(S.xu,{marginBottom:1}),(0,O.jsx)(S.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,O.jsx)(S.xv,{align:"start",children:this.props.i18n._('Free, unlimited access to ideas', 'First value prop on mobile web sign up modal', 'First value prop on mobile web sign up modal')})})]}),(0,O.jsx)(S.iz,{})]})}renderInviterHeader(){return(0,O.jsxs)(S.xu,{alignItems:"center",display:"flex",flex:"grow",marginBottom:2,children:[(0,O.jsxs)(S.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:3,children:[(0,O.jsx)(S.xu,{children:(0,O.jsx)(S.xv,{align:"start",size:"400",weight:"bold",children:this.getTitle()})}),(0,O.jsx)(S.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"26%"}},children:this.getAvatar()})]}),(0,O.jsx)(S.iz,{})]})}render(){let{location:e,invite:t}=this.props,{visible:n,hiding:i,showWash:o}=this.state,a=ep.ZEf,l=t?t.sender:null,r=n&&!i?ex.visible:ex.hiding;return(0,O.jsxs)(S.xu,{dangerouslySetInlineStyle:{__style:o?ex.wash:{}},children:[n&&!i?(0,O.jsx)(eh.Z,{onTouch:this.handleHideOutsideTap,pressState:"none",children:(0,O.jsx)(S.xu,{dangerouslySetInlineStyle:{__style:ex.mask.baseStyles},left:!0,opacity:1,position:"fixed",top:!0})}):null,(0,O.jsx)(S.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{...r,boxShadow:"0 1px 5px 0 rgba(0,0,0,0.25)",paddingBottom:"5%",paddingTop:"2%",touchAction:"none"}},paddingX:6,position:"fixed",width:"100%",zIndex:new S.Ry(10001),children:(0,O.jsxs)(S.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:400,children:[(0,O.jsx)(S.xu,{paddingY:2}),(0,O.jsx)(S.xu,{left:!0,marginStart:4,marginTop:2,position:"absolute",top:!0,children:(0,O.jsx)(S.hU,{accessibilityLabel:this.props.i18n._('Close modal', 'Close the modal for facebook upsell', 'Close the modal for facebook upsell'),icon:"cancel",iconColor:"gray",onClick:this.handleHide,size:"sm"})}),(0,O.jsx)(S.xu,{paddingY:2}),l?this.renderInviterHeader():this.renderDefaultLoginHeader(),(0,O.jsx)(S.xu,{height:40,marginBottom:1,children:(0,O.jsx)(eg.Z,{attributionLabel:e.state?.attributionLabel,facebook:!1,fbConnectHandler:this.handleFBConnect,from:e.pathname,next:e.pathname})}),(0,O.jsx)(S.xu,{marginBottom:1,marginTop:2,children:(0,O.jsx)(S.zx,{color:"gray",fullWidth:!0,onClick:this.handleSignupClick,text:this.props.i18n._('Sign Up', 'Button to redirect user to Signup Page on mweb', 'Button to redirect user to Signup Page on mweb')})}),(0,O.jsx)(S.xu,{marginTop:3,children:(0,O.jsx)(S.xv,{align:"center",color:"subtle",size:"100",children:(0,e_.nk)(this.props.i18n._('Have an account? {{ logIn }}', 'Asking users if they already have an account', 'Asking users if they already have an account'),{logIn:(0,O.jsx)(S.rU,{display:"inlineBlock",href:a,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:(0,O.jsx)(S.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:this.props.i18n._('Log in', 'Mobile web link to log in page', 'Mobile web link to log in page')})})})})}),(0,O.jsx)(S.xu,{marginTop:3,children:(0,O.jsx)(em.Z,{size:"xs"})})]})})]})}}function ew(e){let t=(0,a.k6)(),n=(0,a.TH)(),i=(0,E.ZP)();return(0,O.jsx)(ey,{...e,history:t,i18n:i,location:n})}var ev=n(477058),ej=n(49985),ek=n(225771);let eP=({children:e,isOpen:t,onDismiss:n,type:i})=>(0,O.jsx)(ek.default,{accessibilityModalLabel:"",isOpen:t,mobileAllowScroll:!0,mobileHideCloseIcon:!0,mobileIsFooter:!0,onDismiss:n,type:i,children:(0,O.jsx)(S.xu,{padding:4,children:e})});var eA=n(887525);class eS extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="handleJoinBoardClick",n=({event:e})=>{e.stopPropagation();let{history:t,socialCollabGroupBoardPath:n}=this.props;(0,ef.nP)("mweb.social.group_board.public.modal.display"),t.push({pathname:"/signup/step1/",state:{next:n||"",isFromGroupBoardsInvite:!0}})},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){let{inviteObject:e}=this.props,t=e?e.invite_channel:null;(0,ef.nP)("mweb.social.group_board.public.modal.display"),t&&(0,ef.nP)(`mweb.social.group_board.public.invite_channel.${t}`)}render(){let{viewType:e,viewParameter:t,inviteObject:n,board:i}=this.props,o=n?n.sender:null,a=o?o.first_name:"",l=o?o.image_medium_url:"",r=o?o.full_name:"",s=a?(this.props.i18n._('{{ name }} invited you to join their board', 'Mobile Modal prompting users to join a friends({{ name }}) board', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",a):this.props.i18n._('Your friends invited you to join their board', 'Mobile Modal prompting users to join a friends board', 'Mobile Modal prompting users to join a friends board'),c=this.props.i18n._('Join board', 'Join Board Button', 'Join Board Button');return(0,O.jsx)(ej.Z,{component:13196,viewParameter:t,viewType:e||202,children:(0,O.jsx)(eP,{isOpen:!0,onDismiss:()=>{},type:"groupboard_join",children:i?(0,O.jsxs)(S.xu,{padding:3,children:[(0,O.jsxs)(S.xu,{children:[(0,O.jsxs)(S.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,O.jsx)(S.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"5%"}},width:"48px",children:(0,O.jsx)(eu.qE,{name:r||"",src:l||""})}),(0,O.jsx)(S.xu,{maxWidth:"74%",children:(0,O.jsx)(S.xv,{align:"start",overflow:"normal",weight:"bold",children:s})})]}),(0,O.jsx)(S.xu,{marginBottom:4})]}),(0,O.jsx)(S.zx,{color:"red",fullWidth:!0,onClick:this.handleJoinBoardClick,text:c,type:"button"})]}):(0,O.jsx)(S.xu,{padding:3,children:(0,O.jsx)(S.$j,{accessibilityLabel:this.props.i18n._('Loading Board', 'Accessiblity label for Spinner searching for board', 'Accessiblity label for Spinner searching for board'),show:!0})})})})}}function eC({inviteObject:e,socialCollabGroupBoardPath:t}){let n=(0,E.ZP)(),i=(0,a.k6)(),{country:l}=(0,p.B)(),{viewType:r,viewParameter:s}=(0,ev.SU)(),c=t&&t.split("?")[0]||"",d=(0,o.v9)(e=>(0,eA.Z)(e)[c]);return(0,O.jsx)(eS,{board:d,country:l,history:i,i18n:n,inviteObject:e,socialCollabGroupBoardPath:t,viewParameter:s,viewType:r})}var eZ=n(488792),ez=n(793874),eE=n(26473),eT=n(297728),eI=n(32121),eL=n(923421),eM=n(804576),eO=n(65895),eB=n(66560),eR=n(904945);function eF({children:e}){let t=(0,el.Z)();return(0,O.jsx)(eR.Z,{app_upsell_type:"unauth-floating-upsell",componentType:14156,children:({handleOpenApp:n})=>(0,O.jsx)(S.iP,{onTap:()=>{t({action:"click",item:"floating-app-upsell"}),n()},children:e})})}var eU=n(927371),e$=n(994634);let eD=new S.Ry(1e4),eN=()=>{let e=(0,a.TH)(),t=(0,a.UO)(),{countryFromIp:n,isBot:i,userAgent:{isMobile:l}}=(0,p.B)(),r=(0,eB.S6)(),s=t.id?r(t.id):void 0;return(0,o.v9)(t=>{let o=(0,eA.Z)(t)[e.pathname],a=o?.cover_pin?.pin_id,c=a&&s&&r(a),d=s||c,{session:{isSocialBot:u}}=t,_=(0,eM.Z)(n||"",i||u,!l)&&["Dialup","Cellular"].includes(d?.pinner?.connection_type),p=(0,eE.Z)({imagesUrls:d?.images?Object.keys(d.images).reduce((e,t)=>t&&d.images?.[t]?.url?{...e,[t]:d.images[t].url}:e,{}):void 0,embedSrc:d?.embed?.src,embedType:d?.embed?.type,preferredResolution:_&&"236x"||"736x",excludeOriginals:!i&&!u})||o&&o.image_cover_url||"";return p?{color:(d||{}).dominant_color,src:p}:null})},eH=({onDismiss:e})=>{let t=(0,E.ZP)(),{viewType:n,viewParameter:o}=(0,ev.SU)(),a=(0,eU.Z)().length,l=eN(),r=(0,eZ.Z)(),s=(0,el.Z)(),c=(0,x.Wb)(),d=(0,ez.vs)();return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(S.xu,{alignSelf:c?"end":void 0,dangerouslySetInlineStyle:{__style:{flexGrow:c?void 0:0}},"data-test-id":"cancel-button",display:"flex",children:(0,O.jsx)(S.hU,{accessibilityLabel:t._('Cancel', 'unauth.mweb.floating_app_modal.cancel_button', 'Cancel IconButton on the floating app install modal prompting the users to download the app'),icon:"cancel",iconColor:c?"gray":"darkGray",onClick:({event:t})=>{(0,f.tj)("mweb_unauth.float_app_upsell.dismiss_tap",{x:t?.pageX||-1,y:t?.pageY||-1}),(0,f.My)(`pcons_dismiss_floating_app_upsell_after_${a}_rp_clicks`),(0,f.NC)("click_dismiss_float_app_upsell"),r({component:14156,element:75,event_type:102,view_type:n,view_parameter:o}),s({action:"click",item:"close-button",within:"unauth-floating-upsell"}),t.stopPropagation(),e()},size:"sm"})}),(0,O.jsx)(S.xu,{dangerouslySetInlineStyle:{__style:{flexGrow:c?void 0:1}},children:(0,O.jsxs)(S.xu,{"data-test-id":"interest-image",display:"flex",margin:c?2:0,children:[c?l&&(0,O.jsx)(S.xu,{height:64,marginEnd:4,minWidth:48,overflow:"hidden",rounding:2,children:(0,O.jsx)(S.Ee,{alt:"image",color:l.color||"white",fit:"cover",naturalHeight:64,naturalWidth:48,src:l.src})}):(0,O.jsx)(S.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:16}},children:(0,O.jsx)(S.xu,{color:d?"inverse":"default",dangerouslySetInlineStyle:{__style:{padding:"6px"}},rounding:1,children:(0,O.jsx)(S.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:28})})}),(0,O.jsxs)(S.kC,{alignItems:"stretch",direction:"column",justifyContent:c?"start":"center",children:[(0,O.jsx)(S.xu,{children:(0,O.jsx)(S.xv,{weight:c?"bold":void 0,children:t._('Loving these ideas?', 'unauth.mweb.floating_app_modal.main_text', 'Top text on the floating app install modal prompting the users to download the app')})}),(0,O.jsx)(S.xv,{weight:c?void 0:"bold",children:c?t._('Get the free Pinterest app to see more', 'unauth.mweb.floating_app_modal.main_text', 'Top text on the floating app install modal prompting the users to download the app'):t._('Get the app to see more', 'unauth.mweb.floating_app_modal.main_text.experimental', 'Top text on the floating app install modal prompting the users to download the app')})]})]})})]})},eG=()=>{let e=(0,E.ZP)(),t=(0,a.TH)();return(0,O.jsxs)(S.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:2,paddingY:4,children:[(0,O.jsx)(S.xu,{flex:"grow",children:(0,O.jsxs)(S.xu,{marginBottom:6,children:[(0,O.jsx)(S.xu,{marginBottom:2,children:(0,O.jsx)(S.X6,{align:"center",overflow:"normal",size:"400",children:e._('You are signed out', 'Heading on the bottom right upsell suggesting user is not signed in', 'Heading on the bottom right upsell suggesting user is not signed in')})}),(0,O.jsx)(S.xv,{align:"center",overflow:"normal",children:e._('Sign in to get the best experience', 'Subheader value prop on the bottom right upsell', 'Subheader value prop on the bottom right upsell')})]})}),(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(eg.Z,{attributionLabel:t.state?.attributionLabel,facebook:!1,google:!0,line:!0,next:(0,eL.Z)(t),showEmailButton:!0}),(0,O.jsx)(S.xu,{marginTop:-3,paddingX:6,children:(0,O.jsx)(em.Z,{})})]})]})};function eW({onDismiss:e}){let{checkExperiment:t}=(0,eT.F)(),n=(0,el.Z)(),o=(0,eO.a)(),l=(0,ez.vs)(),r=!!o?.hasScrolledPastMainContent,s=!!o?.hasDraggedDrawerToFullScreen,c=(0,x.Wb)(),d=(0,a.TH)(),u=(0,eI.Z)(),[_,p]=(0,i.useState)(!1),{viewType:h,viewParameter:g}=(0,ev.SU)(),m=(t("mweb_better_related_pins_drawer").group||"").includes("draggable"),f=(0,i.useRef)(u);return(0,i.useEffect)(()=>{c?u>200?p(!0):c&&p(!1):(p(u>700&&u>f.current),f.current=u)},[u,c,r,m,s,t]),(0,i.useEffect)(()=>{n({action:"trigger",item:_?"show-floating-app-upsell":"hide-floating-app-upsell"})},[_,d,n]),(0,O.jsx)(ej.Z,{component:13130,viewParameter:g,viewType:h||202,children:(0,O.jsx)(eF,{children:(0,O.jsx)(S.xu,{alignItems:c?"center":void 0,borderStyle:"shadow",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?ez.N$:"#fff",marginTop:c?void 0:16,transition:"transform 225ms ease-in-out",transform:c?`translateY(${_?0:c?145:-120}%)`:`translateY(${_?"-84px":"120%"})`,marginBottom:c?84:void 0,paddingRight:c?void 0:"8px",flexDirection:c?void 0:"row-reverse"}},"data-test-id":"floating-app-upsell",direction:"column",display:"flex",justifyContent:c?"center":void 0,left:!c,marginEnd:4,marginStart:c?0:4,maxHeight:c?void 0:96,maxWidth:c?350:void 0,opacity:1,padding:4,position:"fixed",right:!0,rounding:c?6:4,top:!1,zIndex:c?eD:new S.Ry(2),children:c?(0,O.jsx)(eG,{}):(0,O.jsx)(eH,{onDismiss:e})})})})}function eY(){let{viewType:e,viewParameter:t}=(0,ev.SU)(),[n,o]=(0,i.useState)(!1),a=(0,e$.Z)();return(0,O.jsx)(ej.Z,{component:13198,viewParameter:t,viewType:e||202,children:(0,O.jsx)(S.xu,{children:a&&!n&&(0,O.jsx)(eW,{onDismiss:()=>{o(!0)}})})})}var eX=n(290863),eJ=n(961754),eK=n(61218);let eq=e=>{let t=(0,eK.vE)(),n=(0,a.TH)(),[o]=(0,i.useState)(n),l=n.pathname===o.pathname&&n.search===o.search&&((0,_.ey)(n)&&((0,_.fY)(n)&&"pin"||(0,_.am)(n)&&"board"||(0,H.Z)(n)&&"profile")||null)||null,[r,s]=(0,i.useState)(null),{isLoaded:c,data:d}=(0,eJ.Z)(!e&&t&&l?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,i.useEffect)(()=>{c&&d&&s(d??null)},[c,d]),t&&l?{invite:r,pageType:l}:null},eV=[5,18,17,6,19],eQ=(0,i.lazy)(()=>Promise.all([n.e(86780),n.e(86560)]).then(n.bind(n,932712))),e0=()=>{let e=ed(),t=(0,x.ZP)(),n=(0,g.l)();if(!n||!n.modal.isShown)return null;let{dismissMobileSignupModal:i,modal:{displayProps:o,pinId:a}}=n;return(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_SignupModal",children:(0,O.jsx)(h.Z,{fallback:(0,O.jsx)(S.xu,{}),children:(0,O.jsx)(eQ,{displayProps:o,isTablet:"tablet"===t,onDismiss:()=>{i(),e()},pinId:a})})})};function e1(){let e=(0,a.TH)(),t=eq(),n=(0,o.I0)(),l=(0,o.v9)(({session:e})=>e.unauthInterstitialDismissed),r=(0,eX.Z)(),s=(0,g.l)(),[c,u]=(0,i.useState)(!1),_=!!s?.modal.isShown;(0,i.useEffect)(()=>{_&&(u(!0),n((0,ei.W)()))},[_,n]);let p=_&&(0,O.jsx)(e0,{});if(!p&&t&&t.invite){let{invite:n,pageType:i}=t;"board"===i&&n.sender?.invite_category===4?p=(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_GroupBoardsJoinModal",children:(0,O.jsx)(h.Z,{children:(0,O.jsx)(eC,{inviteObject:n,socialCollabGroupBoardPath:`${e.pathname}${e.search}`})})}):eV.includes(n.invite_channel??0)&&!c&&(p=(0,O.jsx)(ew,{invite:n,onDismiss:()=>u(!0)}))}return(0,O.jsxs)(i.Fragment,{children:[r&&!l&&(0,O.jsx)(eY,{}),(0,O.jsx)(S.xu,{children:p})]})}var e2=n(380819),e3=n(768259),e4=n(186181),e5=n(541791);let e8=["CA","VA","CO","CT"];var e7=n(748327),e6=n(803792);let e9=(0,i.lazy)(()=>n.e(24742).then(n.bind(n,624742))),te=(0,i.lazy)(()=>n.e(13377).then(n.bind(n,713377))),tt=(e,t,n)=>{let i={...n.getStatslogData()},o={...i.core,...i.counts,browserEventName:t,event:e};return Object.keys(i).forEach(n=>{(0,f.My)(`lop_unauth_user_state.${e}.${t}.${n}`,i[n])}),o},tn=()=>{let{unauthUserState:e,unauthUserStateDispatch:t}=(0,A.R)(),{logContextEvent:n}=(0,s.v)(),i=(0,a.TH)(),d=(0,o.I0)(),{isBot:_,userAgent:{raw:h}}=(0,p.B)(),g=t=>{n({event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(tt("site_entry",t,e)),unauth_revisitation:e.revisitationState.count,unauth_previously_logged_out:c.U2(l.e7)}})};(0,y.Z)(()=>{let t=t=>{(0,P.Vd)({count:(0,P.iU)().count??1,time:new Date().getTime()}),n({event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(tt("site_exit",t,e)),unauth_revisitation:e.revisitationState.count,unauth_previously_logged_out:c.U2(l.e7)}})},i=!0,o=()=>{let{visibilityState:e}=document;if("visible"===e&&!i){i=!0,g("visibilitychange");return}i=!1,t("visibilitychange")},a=()=>{i=!1,t("beforeunload")};return _?()=>{}:(document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",a),()=>{document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",a)})}),(0,y.Z)(()=>{if((i.search||"").includes("amp_client_id")&&(0,f.My)("amp_duplo_redirect"),!_){d((0,u.pz)([1000180],_)),(function(){let e=v.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let i=e.resource_response.data,o=!!c.U2(l.x3);return i?((0,k.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,f.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${o?"true":"false"}`),t(i)):((0,f.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${o?"true":"false"}`),n({}))}).catch(e=>{let t=(0,j.Z)(e,"message");if(t){let e=t.replace(/\s/g,"_").toLowerCase();(0,f.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${e}`)}else(0,f.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})})().then(e=>{d((0,ei.iW)(e))},()=>{d((0,ei.iW)())});let{revisitationState:n}=e;n&&!(n.count<1)&&n.time?new Date().getTime()-n.time>6e5&&(n={...n,count:n.count+1},(0,P.Vd)(n)):(n=(0,P.K7)(),(0,P.Vd)(n)),g("onMount"),t({type:"UPDATE"})}(0,r.$K)(h)&&(0,m.Nh)("openUnauthType",w.zu)})};function ti(){let e=(0,x.HG)(),t=(0,a.TH)(),n=(0,e6.U)();(0,i.useEffect)(()=>{n&&setTimeout(()=>{n.preload?.(e7.ke("login.js"))},500)},[]);let{referrerFromCookie:o,userAgent:l}=(0,p.B)(),r=(0,g.l)(),s=t&&t.search?(0,b.mB)(t.search):"",c=!!s&&"1"===s.ur,u=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{!u.current&&c&&(0,V.C)(t),u.current=c,"GSA"===l.browserName&&"ios"===l.platform?(0,f.My)("pcons.gsa_and_ios_session.platform"):"GSA"===l.browserName&&"iOS"===l.osName&&(0,f.My)("pcons.gsa_and_ios_session.osName")}),(0,i.useEffect)(()=>{(0,f.My)("mweb.unauth_seo.referrer",{referrer:o,docReferrer:document.referrer})},[o]),!function(){let{country:e,countryFromHostName:t,countryFromIp:n,isBot:o,regionFromIp:a,unauthId:l}=(0,p.B)(),r=new Set(e3.Z),s=r.has(e)||r.has(t)||r.has(n),c=e8.includes(a),d=ep.nBl.includes(a),u="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;(0,i.useEffect)(()=>{s||c||u&&d||((0,e4.NR)({country:e,isBot:o})&&(0,e5.kQ)({unauthId:l}),(0,e4.c_)({country:e,isBot:o})&&(0,e5.X)({id:e2.Un,eventName:"Mobile"}),(0,e4.$r)({country:e,regionFromIp:a,isBot:o})&&(0,e5.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,e4.Fc)({country:e,isBot:o})&&l&&(0,e5.o4)({unauthId:l}))},[e,s,l,o,a,c,d,u])}(),tn(),(0,O.jsxs)(i.Fragment,{children:[!(0,_.re)(t)&&!(0,_.FO)(t)&&(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_AutoLogin",children:(0,O.jsx)(h.Z,{children:(0,O.jsx)(e9,{})})}),(0,O.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_GoogleOneTap",children:(0,O.jsx)(h.Z,{children:(0,O.jsx)(te,{})})}),(0,O.jsx)(D,{}),!e&&(0,O.jsx)(e1,{}),r&&(0,O.jsx)(en,{context:r})]})}},49985:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(488792),a=n(1006);let l=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),r=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:o,component:r,clientTrackingParams:s,element:c},d)=>{let u=l({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:o,component:r,clientTrackingParams:s,element:c});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),d(u)};function s(e){let{auxData:t,clientTrackingParams:n,children:a,component:l,element:s,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,p=(0,o.Z)(),h=JSON.stringify(t),g=JSON.stringify(d);return(0,i.useEffect)(()=>{r(e,p)},[p,h,n,l,s,c,g,u,_]),i.Children.only(a)}},904945:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(616550),a=n(573706),l=n(477058),r=n(730212),s=n(1006),c=n(154785),d=n(463057),u=n(999836),_=n(722952),p=n(415787),h=n(785893);function g({children:e,componentType:t,app_upsell_type:n}){let g=(0,o.TH)(),{flushContextEvents:m,logContextEvent:f}=(0,a.v)(),{viewType:b,viewParameter:x}=(0,l.SU)(),y=(0,c.Z)(),{userAgent:{platform:w}}=(0,r.B)();(0,i.useEffect)(()=>{y({action:"view",item:"download-button",within:n})},[g,n,y]);let v=(0,i.useRef)(!1);(0,i.useEffect)(()=>{b&&202!==b?(f({component:t||13106,element:10308,event_type:9976,view_type:b,view_parameter:x,aux_data:{app_upsell_type:n,app_upsell_is_dupe:v.current}}),v.current=!0):(0,p.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:b,view_parameter:x,app_upsell_type:n,app_upsell_is_dupe:v.current}})},[t,f,x,b,n]);let j=(0,u.Z)();return(0,i.useEffect)(()=>{j||(0,s.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[j,n]),(0,h.jsx)(_.Z,{children:i=>e({handleOpenApp:e=>{y({action:"click",item:"download-button",within:n}),(0,s.NC)("press_open_app",!0),f({component:t||13106,element:10308,event_type:102,view_type:b||202,view_parameter:x,aux_data:{app_upsell_type:n}}),f({component:t||13106,element:10308,event_type:9977,view_type:b||202,view_parameter:x,aux_data:{app_upsell_type:n}}),m(!0),i&&(f({component:t||13106,element:10308,event_type:1701,view_type:b||202,view_parameter:x,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??(0,d.Z)(g,"android"===w),n))}})})}},463057:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(282999);function o(e,t){return"/"===e.pathname?"/":(0,i.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1)}},728891:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(375182),o=n(1006);async function a(e){let t=await (0,i.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,o.tj)(`mweb_multiple_accounts_${e}`,n)}},715153:(e,t,n)=>{n.d(t,{eN:()=>d,_:()=>_,kB:()=>u});var i=n(635258),o=n(868808),a=n(723184),l=n(616550);let r=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],s=(e,t)=>{let n=new URL(e,t);return r.some(e=>!!(0,l.LX)(n.pathname,{path:e,exact:!0}))};var c=n(415787);let d=e=>e&&(0,o.Qg)(e)&&i.lfe!==e?(0,o.Qc)(e).relative:"/",u=(e,t)=>{let n=(0,o.Jx)(e);return s(n,t)||(0,a.Z)(n)===o.vx.TRUSTED_DIFFERENT_ORIGIN},_=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i,origin:a})=>{let l=(0,o.Jx)(n);u(n,a)||!t||e?(e&&(0,c.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(l)):i?t.push(d(l)):t.replace(d(l))}},923421:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},430575:(e,t,n)=>{n.d(t,{Z:()=>x,u:()=>f});var i=n(667294),o=n(616550),a=n(883119),l=n(449112),r=n(349969),s=n(476198),c=n(144326),d=n(786525),u=n(1006),_=n(154785),p=n(901450),h=n(923421),g=n(72766),m=n(785893);let f="web_siwa_redirect_path",b="id_token=";function x(){let e=(0,c.ZP)(),t=(0,o.TH)(),n=(0,g.f)(),x=(0,o.k6)(),{showToast:y}=(0,p.F9)(),[w,v]=(0,i.useState)(!1),j=(0,_.Z)(),k=t.hash.indexOf(b),P=k>=0?t.hash.substring(k+b.length):null,A=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=async i=>{(0,u.My)("in_app_oauth.login.siwa.returned_with_token"),v(!0),n({apple_token:i},x,t.pathname,{noImmediateRedirect:!0},{event_type:7534,view_type:10}).then(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_success");let e=(0,d.qn)(f);(0,d.L_)(f),(0,l.Z)(e||"/")}).catch(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_failure"),y(({hideToast:t})=>(0,m.jsx)(s.Z,{onHide:t,text:e._('Oops! You do not have an account connected with Apple. Please try another method.', 'mweb.unauth.oauth_apple_login.login_failure_toast', 'Toast to alert user they failed to login with Apple'),type:"error"}))})};A.current!==P&&P&&i(P),A.current=P},[x,e,P,t,n,y]),w?(0,m.jsx)(a.$j,{accessibilityLabel:e._('Loading...', 'Loading', 'Loading'),show:!0}):(0,m.jsx)(a.iP,{onTap:()=>{j({action:"click",item:"apple-connect-button"});let e=t.state?.next||(0,h.Z)(t),n=e?decodeURIComponent(e):null;(0,d.Nh)(f,n),(0,l.Z)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,m.jsxs)(a.xu,{alignItems:"center",color:"dark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,m.jsx)(a.xu,{marginStart:-3,marginTop:-2,children:r.Z}),(0,m.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",children:(0,m.jsx)(a.xv,{color:"light",weight:"bold",children:e._('Continue with Apple', 'mweb.unauth.oauth_apple_login.login_button', 'Text on button allowing users to login with their Apple account')})})]})})}},45719:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(883119),a=n(758339),l=n(144326),r=n(1006),s=n(785893);function c({onDismiss:e}){let t=(0,l.ZP)();(0,i.useEffect)(()=>{(0,r.My)("unauth_mweb.login_rate_limited.view")},[]);let n=t._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times');return(0,s.jsxs)(a.ZP,{accessibilityModalLabel:n,heading:(0,s.jsxs)(o.xu,{"data-test-id":"login-rate-limited-header",children:[(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,s.jsx)(o.JO,{accessibilityLabel:t._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:40})}),(0,s.jsx)(o.X6,{accessibilityLevel:1,align:"center",size:"500",children:n})]}),isOpen:!0,onDismiss:e,children:[(0,s.jsx)(o.xu,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,s.jsx)(o.xv,{align:"center",children:t._('You have reached the maximum number of login attempts. Try again in 30 minutes.', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})}),(0,s.jsx)(o.xu,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,s.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:e,text:t._('Okay', 'LoginRateLimitedModal.Modal.OkButton', 'Okay button used to close modal')})})]})}},171707:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),o=n(883119),a=n(894789),l=n(391731),r=n(260134),s=n(297728),c=n(730212),d=n(1006),u=n(154785),_=n(144326),p=n(297726),h=n(323437),g=n(244734),m=n(785893);function f(){let e=(0,_.ZP)(),[t,n]=(0,i.useState)();return(0,p.q)()?null:(0,m.jsxs)(o.xu,{position:"relative",children:[(0,m.jsx)(o.iP,{onTap:()=>n(!0),children:(0,m.jsxs)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,m.jsx)(o.xu,{height:24,marginTop:1,width:24,children:(0,m.jsx)(h.Z,{size:20})}),(0,m.jsx)(o.xu,{marginStart:2,children:(0,m.jsx)(o.xv,{weight:"bold",children:e._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),t&&(0,m.jsx)(g.Z,{onDismiss:()=>n(!1),type:"google"})]})}function b({onGoogleConnectSuccess:e,onTouch:t}){let{locale:n}=(0,c.B)(),s=(0,i.useRef)(null),_=(0,r.M)(),p=(0,i.useRef)(e),h=(0,u.Z)();return(0,i.useEffect)(()=>{p.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,d.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,d.NC)("press_google_connect_button");let n=(0,a.Z)(e);p.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await _?.ensureInit("button",e),(0,l.ru)({buttonRef:s,isDesktop:!1,locale:n,onTouch:t})})(),()=>{_?.removeButtonCallback(e)}},[_,n]),(0,m.jsx)(o.xu,{position:"relative",children:(0,m.jsx)(o.iP,{onTap:()=>{h({action:"click",item:"google-connect-button"}),(0,d.EX)({event:"start",provider:"google"})},children:(0,m.jsx)(o.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,m.jsx)(o.xu,{ref:s,width:"100%"})})})})}function x({onGoogleConnectSuccess:e,onTouch:t}){let{checkExperiment:n}=(0,s.F)(),{anyEnabled:i}=n("mweb_google_disabled");return i?(0,m.jsx)(f,{}):(0,m.jsx)(b,{onGoogleConnectSuccess:e,onTouch:t})}},249997:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(883119),a=n(934980),l=n(512541);let r={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},s="DelightfulBubbles__",c=(e,t)=>{let n=e.length,i=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[i]},d=[`${s}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${s}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${s}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(()=>{let e=Object.keys(r);return e.map(t=>{let n=c(e,t);return`${s}colorChange_${t} {
      0% {
        background-color: ${r[t]};
      }
      50% {
        background-color: ${r[n]};
      }
    }
    `})})()],u=(0,a.Ll)(d),_=(e,t,n,i,o,a,l,c)=>({bubblePositionStyles:{position:"absolute",marginLeft:`${a/2-o}px`,marginTop:`${n/2-o}px`,left:`${l}px`,top:`${c}px`},bubbleSwirlStyles:{animation:`${s}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${s}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${s}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${s}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:r[i],opacity:0,animation:`${s}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${s}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${s}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${s}fadeIn 3s linear ${e}s 1 forwards`}});var p=n(785893);function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=e=>{let{delay:t,diameter:n,height:i,initialColor:a,width:l,xOffset:r,yOffset:s}=e,c=Math.floor(n/2),d=_(t,n,i,a,c,l,r,s);return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubblePositionStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleSwirlStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleGrowShrinkStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleShapeStyles}})})})})};class m extends i.Component{constructor(...e){super(...e),h(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:i,numBubbles:o,xRadiusAdjustment:l,yRadiusAdjustment:s}=this.props,c=e+2*s,d=t+2*l,u=[],_=Object.keys(r);for(let l=0;l<o;l+=1){let o=16+(0,a.XF)(-4,4),r=_[l%_.length],{x:s,y:h}=(0,a.CC)(c,d);u.push((0,p.jsx)(g,{delay:l*n+i,diameter:o,height:e,initialColor:r,width:t,xOffset:s,yOffset:h},l))}return u}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,p.jsxs)(o.xu,{height:t,position:"relative",width:n,children:[(0,p.jsx)(l.Z,{unsafeCSS:u}),(0,p.jsxs)(o.xu,{ref:e=>this.containerElement=e,position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,p.jsx)(o.xu,{position:"relative",children:this.props.children})]})]})}}h(m,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let f=m},578266:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(883119),a=n(952522),l=n(212515),r=n(144326),s=n(730212),c=n(343931),d=n(249997),u=n(844745),_=n(785893);function p({isReducedHeader:e,progressBarAnimationDuration:t}){let n=(0,r.ZP)(),{country:p}=(0,s.B)(),h=(0,u.Z)(p);return(0,_.jsx)(i.Fragment,{children:h?(0,_.jsx)(l.Z,{log:{view_type:10,view_parameter:259},children:(0,_.jsxs)(o.xu,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,_.jsx)(a.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,_.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,_.jsxs)(o.xu,{"data-test-id":"account-creation-heading",margin:10,children:[(0,_.jsx)(o.X6,{overflow:"normal",size:e?"500":"600",children:n._('Your account is being created!', 'account created heading', 'account created heading')}),(0,_.jsx)(o.xv,{overflow:"normal",children:n._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})]}),(0,_.jsx)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(d.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(o.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(o.JO,{accessibilityLabel:n._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(c.Z,{})})}},844745:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(116897);let o=e=>new Set([...i.EU,...i.rT,...i.IO]).has(e)},804576:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(116897);let o=(e,t,n)=>!t&&!n&&i.ZR.has(e)},72766:(e,t,n)=>{n.d(t,{f:()=>I,l:()=>L});var i=n(667294),o=n(545007),a=n(191855),l=n(252071),r=n(609326),s=n(488792),c=n(914896),d=n(418256),u=n(744920),_=n(591692),p=n(887103),h=n(76367),g=n(297728),m=n(484777),f=n(103741),b=n(730212),x=n(235581),y=n(864723),w=n(786525),v=n(1006),j=n(711120),k=n(356801),P=n(116897),A=n(728891),S=n(715153),C=n(227984),Z=n(814779),z=n(592305),E=n(415787);let T=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),I=()=>{let e=(0,s.Z)(),t=(0,g.F)(),n=(0,o.I0)(),{country:I,countryFromHostName:L,countryFromIp:M,regionFromIp:O,userAgent:{isTablet:B,isMobile:R}}=(0,b.B)(),F=(0,m.Z)(),U=(0,j.Z)();return(0,i.useCallback)(async(i,o,s="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},m)=>{F();let b=!B&&!R,{isAutologin:j,isSwitchAccount:$,noLocationReplace:D,recaptchaV3Token:N,noImmediateRedirect:H,useAlternativeResourceCall:G,trigger:W,accountUnlinked:Y}=g;(0,y.M0)().setItem(r.V6,(0,h.nY)(i));let X=t=>{e({...m,event_type:t,aux_data:{...m.aux_data,upsell_reason:m.aux_data?.upsell_reason||(j?"autologin":(0,y.M0)().getItem(r.bg)),upsell_view_count:(0,y.M0)().getItem(r.w0)??0}}),7536===t&&(0,y.M0)().setItem(r.w0,0)},J={get_user:!0,...i,app_type_from_client:6,recaptchaV3Token:N},K=(0,z.t_)();K&&(J={...J,visited_pages_before_login:K});let q=(0,C.O)();q&&(J={...J,referrer:q});let V=l.Z.create("UserSessionResource",J).callCreate();if(G&&i.username_or_email&&i.password){let e=new FormData;e.append("username",i.username_or_email),e.append("password",i.password),V=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,d._V)()||"","X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>Promise.reject(e))}try{j?(0,v.dy)({event:"login_api_call_start",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_start",provider:(0,h.nY)(i)}),X(7534),U({action:j?"autologin":"login",event:"attempt",type:(0,h.lp)(i),trigger:W});let e=await V;j?(0,v.dy)({event:"login_api_call_success",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_success",provider:(0,h.nY)(i)}),n(T(e.resource_response.data.user));let l=e.client_context,r=e.resource_response.data.user.gatekeeper_experiments;if(r){let{active:e,triggerable:n}=r;e&&n||(0,E.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,E.nP)("webapp.authentication.updateExperimentsFailed");l&&l.placed_experiences&&n((0,u.OD)(l.placed_experiences)),(0,A.Z)("authentication.login_success"),h.ZP.storeLoginCredentialsToBrowser(i),X(7536),U({action:j?"autologin":"login",event:"success",type:(0,h.lp)(i),trigger:W}),(0,_.Z)(),c.zN(a.e7.name),c.zN(a.x3.name),(0,w.Nh)(P.AA,1),"/"!==s&&(0,Z.E)(!0),$?(0,x.Z)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(Y?`?message=${p.aU}`:"");window.location.href=t}):j&&!b||H||(!i.google_open_id_token&&b&&t.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,k.I9)(),(0,S._)({forceFullPageNavigation:b,history:o,next:s,noLocationReplace:D,origin:window.location.toString()})),"facebook"===(0,h.nY)(i)&&!b&&t.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,k.I9)(),(0,f.ko)({country:I,countryFromHostName:L,countryFromIp:M,regionFromIp:O,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(j?(0,v.dy)({event:"login_api_call_failure",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_failure",provider:(0,h.nY)(i)}),1201!==e.api_error_code||j||b)throw X(7535),U({action:j?"autologin":"login",event:"fail",type:(0,h.lp)(i),trigger:W}),$&&(0,A.Z)("authentication.login_error"),e;if(o){let t={creds:i,next:s,phoneNumber:e?.data?.phone_number_end};o.push({pathname:"/login/mfa/",state:t})}}},[n,I,L,M,F,t,R,B,e,O,U])},L=()=>{let e=(0,g.F)(),t=(0,o.I0)(),n=(0,m.Z)();return({client_context:i,resource_response:o})=>{let{data:a}=o;a&&(n(),t(T(a.user)));let l=a.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,E.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,E.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");i&&t((0,u.OD)(i.placed_experiences))}}},834945:(e,t,n)=>{n.d(t,{m:()=>E});var i=n(545007),o=n(191855),a=n(252071),l=n(609326),r=n(259232),s=n(488792),c=n(914896),d=n(194093),u=n(744920),_=n(591692),p=n(677657),h=n(267005),g=n(844543),m=n(297728),f=n(484777),b=n(103741),x=n(730212),y=n(235581),w=n(864723),v=n(978993),j=n(1006),k=n(711120),P=n(728891),A=n(227984),S=n(844745),C=n(592305),Z=n(415787);let z=e=>({type:"REGISTER_USER",payload:{user:e}}),E=()=>{let e=(0,m.F)(),t=(0,i.I0)(),{country:n,countryFromHostName:E,countryFromIp:T,regionFromIp:I,isAuthenticated:L}=(0,x.B)(),M=(0,f.Z)(),O=(0,s.Z)(),B=(0,k.Z)();return(i,{signupAttemptContextEvent:s})=>{let m=(0,g.yV)(i),f=(0,w.M0)(),x=e=>{O({...s,event_type:e,aux_data:{...s.aux_data,upsell_reason:s.aux_data?.upsell_reason||f.getItem(l.bg)||null,upsell_view_count:f.getItem(l.w0)||0}}),7487===e&&f.setItem(l.w0,0)};x(7537),B({action:"signup",event:"attempt",type:m}),M();let k=0,R=(0,S.Z)(n),F=new Promise(e=>{R?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((s,f)=>{let S=()=>{let M=(0,C.t_)(),O=(0,A.O)(),R={...i,user_behavior_data:function(){let e=(0,w.M0)().getItem(l.E9);return JSON.stringify(e?{LOCALSTORAGE_UNAUTH_TOPICS_FOLLOWED:e}:{})}(),visited_pages:M},U=(0,p.Z)({checkExperiment:e.checkExperiment});U.length>0&&(R={...R,privacy_disclaimer_acknowledge:U}),O&&(R={...R,referrer:O}),(0,Z.nP)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,g.Eh)(R,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,g.Eh)(R,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,g.Eh)(R,"DEPRECATED_CHECK_TRUTHY")}}),a.Z.create("UserRegisterResource",{...R,get_user:!0}).callCreate().then(o=>F.then(()=>{(0,v.L_)("d_pif_invite");let a=o.client_context;t(z(o.resource_response.data.user));let l=o.resource_response.data.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,Z.nP)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,Z.nP)("webapp.registration.updateExperimentsFailed");a&&a.placed_experiences&&t((0,u.OD)(a.placed_experiences)),L&&(0,P.Z)("registration.signup_success");let{email:c,username:d,password:p}=i,h=c||d||null,g=p||null,{credentials:f}=navigator;if(f&&h&&g)try{let e=new window.PasswordCredential({id:h,password:g});(0,j.My)("unauth_mweb.navigatorCredentials.store.attempt"),f.store(e).then(()=>{(0,j.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,j.My)("unauth_mweb.navigatorCredentials.store.error")}x(7487),B({action:"signup",event:"success",type:m}),(0,r.Z)(),(0,_.Z)(!0),L&&(0,y.Z)(),(0,b.ko)({country:n,countryFromHostName:E,countryFromIp:T,regionFromIp:I,deviceType:"Mobile",eventCategory:"NewUsers"}),s()})).catch(e=>{let t=(0,d.Z)(e,"api_error_code");t===h.tz&&((0,j.My)("multi_step_set_age_restrict_cookie"),c.t8(o.It,"1",(0,c.kZ)(o.It))),k<3&&[h.dO,h.cZ].includes(t??0)?(k+=1,S()):(x(7488),B({action:"signup",event:"fail",type:m}),L&&(0,P.Z)("registration.signup_error"),f(e))})};S()})}}},887525:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(0,n(442279).P1)(e=>e.boards,e=>Object.keys(e).reduce((t,n)=>{let i=e[n];t[i.url??""]=i;let{oldSlugUrl:o}=i;return o&&(t[o]=i),t},{}))},244734:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(758339),a=n(144326),l=n(785893);function r({type:e,onDismiss:t}){let n=(0,a.ZP)(),r="facebook"===e?n._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):n._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),s="facebook"===e?n._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):n._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,l.jsx)(o.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,l.jsxs)(i.xu,{padding:5,children:[(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:r})}),(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.xv,{children:s})}),(0,l.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,l.jsx)(i.xu,{paddingY:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:n._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),color:"red",onClick:t,size:"lg",text:n._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})})]})})}},1856:(e,t,n)=>{n.d(t,{Z:()=>H});var i=n(667294),o=n(545007),a=n(616550),l=n(883119),r=n(279812),s=n(488792),c=n(644845),d=n(194093),u=n(476198),_=n(144326),p=n(267005),h=n(719174),g=n(844543),m=n(765963),f=n(297728),b=n(730212),x=n(1006),y=n(154785),w=n(896612),v=n(901450),j=n(383399),k=n(343931),P=n(430575),A=n(369081),S=n(244734),C=n(785893);let Z="rgb(0, 116, 232)";function z(e){let t=(0,i.useRef)(null),n=(0,_.ZP)(),{locale:o}=(0,b.B)(),{checkExperiment:a}=(0,f.F)(),{anyEnabled:r}=a("mweb_facebook_disabled"),s=a("mweb_unauth_turn_on_personalized_fb_button").anyEnabled?"true":void 0,[c,d]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{r||(t.current&&(t.current.style.backgroundColor=Z),(async()=>{await (0,A.we)(o),d(!0)})(),(0,x.My)("pcons.facebook_connect_button_renderd"))},[o,r]);let h=()=>{(0,x.EX)({event:"start",provider:"facebook"}),e.onTouch(),r?p(!0):c&&(async()=>{try{let{creds:t,signupOptions:n}=await (0,A.JF)();e.onConnectSuccess(t,n)}catch(t){e.onConnectError()}})()};return(0,C.jsxs)(l.xu,{"data-test-id":"FacebookConnectContainer",position:"relative",width:"100%",children:[(0,C.jsx)(()=>(0,C.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,rounding:5,top:!0,children:(0,C.jsx)("div",{className:"fb-login-button","data-auth-type":e.isRerequest?"rerequest":void 0,"data-auto-logout-link":"false","data-button-type":"continue_with","data-layout":"rounded","data-max-rows":"1","data-scope":(0,A._V)().join(","),"data-show-faces":"false","data-size":"large","data-use-continue-as":s,"data-width":"100%"})}),{}),(0,C.jsx)(l.iP,{"data-test-id":"FacebookConnectButton",fullWidth:!0,onTap:()=>h(),children:(0,C.jsx)(l.xu,{ref:t,height:40,paddingX:3,rounding:"pill",width:"100%",children:(0,C.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,C.jsx)(()=>{let e=(0,i.useRef)(null),t="facebook";return(0,i.useEffect)(()=>{if(e.current){let n=e.current.children||[],i=Array.prototype.find.call(n,e=>e.ariaLabel===t);i&&(i.style.color=Z)}}),(0,C.jsx)(l.xu,{ref:e,color:"light",dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px"}},marginEnd:1,rounding:"circle",children:(0,C.jsx)(l.JO,{accessibilityLabel:n._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),icon:t,size:19})})},{}),(0,C.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:n._('Continue with Facebook', 'Login page button', 'Login page button')})]})})}),u&&(0,C.jsx)(S.Z,{onDismiss:()=>p(!1),type:"facebook"})]})}var E=n(863266);function T(e){let t=(0,_.ZP)(),{locale:n}=(0,b.B)();return(0,C.jsx)(l.iP,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,E.Z)(n,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,C.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,C.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,C.jsx)(l.xu,{height:32,width:32,children:(0,C.jsx)(l.Ee,{alt:t._('line', 'accessible label for line icon', 'accessible label for line icon'),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-a34b3f23.png"})}),(0,C.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:t._('Continue with LINE', 'Login page button', 'Login page button')})]})})})}var I=n(45719),L=n(171707),M=n(578266),O=n(72766),B=n(834945),R=n(335108),F=n(812477),U=n(904945);function $({app_upsell_type:e}){let t=(0,_.ZP)(),n=(0,a.TH)(),{userAgent:{platform:i}}=(0,b.B)(),o=(0,y.Z)(),{trackConversionUpsell:r}=(0,w.Z)(),{pathname:s}=n;return(0,C.jsx)(l.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,C.jsx)(U.Z,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:a})=>(0,C.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{r({element:10308,eventType:14689}),o({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),s&&a({deepLinkUri:"/"===s?"/":(0,F.Z)(n)&&("ios"===i||"ipad"===i)?"user"+s:s.substr(1)})},text:t._('Get Pinterest App', 'unauth.modal.get_app.button_text', 'App download button text')})})})}var D=n(748327),N=n(803792);function H({apple:e,facebook:t,fbConnectHandler:n,footer:A,from:S,google:Z,isBusiness:E,isRerequest:F,line:U,next:H="/",noImmediateRedirect:G,disableFBSignup:W,onFacebookTouch:Y,onLoginTouch:X,onSignupTouch:J,showAppInstallButton:K,showEmailButton:q,showTextDivider:V,viewParameter:Q,app_upsell_type:ee,attributionLabel:et,disableGoogleSignup:en}){let ei=(0,a.k6)(),eo=(0,a.TH)(),{country:ea}=(0,b.B)(),el=(0,_.ZP)(),{showToast:er}=(0,v.F9)(),es=(0,s.Z)(),ec=(0,y.Z)(),ed=(0,o.I0)(),eu=(0,O.f)(),e_=(0,N.U)(),{flush:ep}=(0,f.F)(),eh=(0,B.m)(),eg=(0,r.Z)(),{isAuth:em,isLimitedLogin:ef}=(0,j.Z)(),[eb,ex]=(0,i.useState)(null),[ey,ew]=(0,i.useState)(!1),[ev,ej]=(0,i.useState)("default"),{trackConversionUpsell:ek}=(0,w.Z)(),eP="facebook"===ev&&5e3||"google"===ev&&4e3||void 0;(0,i.useEffect)(()=>{e_&&(A&&e_.preload?.(D.ke("login.js")),q&&e_.preload?.(D.ke("signup.js")))},[]);let eA=em?{login_state:ef?h.Z.LIMITED:h.Z.DEFAULT}:Object.freeze({}),eS=e=>{es({view_type:10,view_parameter:Q,element:e,event_type:102,aux_data:eA})},eC=e=>{ek({viewType:10,viewParameter:Q,eventType:14689,element:e})},eZ=(e,t)=>{let n,i;switch(t){case"facebook":n=3205,i=m.Z.FACEBOOK;break;case"google":n=3204,i=m.Z.GPLUS;break;case"line":n=3556,i=m.Z.LINE}return{event_type:e,view_type:10,view_parameter:n,element:i===m.Z.GPLUS?12981:void 0,aux_data:{...eA,signup_login_method:i,upsell_reason:et}}},ez=(e,t,n,i)=>{ex(null);let o=()=>er(({hideToast:e})=>(0,C.jsx)(u.Z,{onHide:e,text:(0,d.Z)(t,"api_error_code")&&(0,d.Z)(t,"message")||el._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.')}));if(t){if((0,x.My)(`unauth_mweb.login_error.api_error_code.${String((0,d.Z)(t,"api_error_code"))}`),[p.xN,p.lg,p.Pv].includes((0,d.Z)(t,"api_error_code")??-1)){if("facebook"===n.type){W?.();return}if(en&&"google"===n.type){(0,x.My)("unauth_mweb.account_recovery.google_account_already_not_linked"),er(({hideToast:e})=>(0,C.jsx)(u.Z,{onHide:e,text:el._('This Google account is not linked to Pinterest. Try another one', 'account_recovery.error.google_account_not_linked', 'Error toast when user tries to login with a Google account that is not linked to Pinterest'),type:"error"}));return}(0,x.Rp)({event:"start",provider:i}),(()=>{(0,x.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,x.My)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,c.Z)(e)){ep(),ei.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===n.type?{...n,email_source_site:g.E_.FACEBOOK}:n,progressBarAnimationDuration:eP,attributionLabel:et}});return}ex("signup"),ej(i);let t="facebook"===n.type?{...n,email_source_site:g.E_.FACEBOOK,birthday_source_site:g.E_.FACEBOOK,birthday:e}:{...n,birthday:e};(0,x.Rp)({event:"signup_api_call_start",provider:i}),eh(t,{signupAttemptContextEvent:eZ(7537,i)}).then(()=>{(0,x.NC)("signup_via_login_buttons"),(0,x.Rp)({event:"signup_api_call_success",provider:i}),["facebook","google"].includes(i)&&eg(H||"/"),ex(null)},e=>{(0,x.Rp)({event:"signup_api_call_failure",provider:i});let t=(0,d.Z)(e,"api_error_code");"line"===n.type&&(t===p.iZ?ei.push({pathname:"/signup/line-email-collect/",state:{signupOptions:n,attributionLabel:et}}):t===p.NF&&ei.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:n,attributionLabel:et}})),er(({hideToast:n})=>(0,C.jsx)(u.Z,{onHide:n,text:t&&(0,d.Z)(e,"message")||el._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on')})),ex(null)})})()}else p.ik.includes((0,d.Z)(t,"api_error_code")??0)&&ew(!0);o()}else(0,x.My)("unauth_mweb.login.unexpected_error"),o()},eE=e=>(t,i)=>{let o="google"===e?"gsi_btn":"other",a=eo.state?.switch_account==="true"?{isSwitchAccount:!0,trigger:o}:{noImmediateRedirect:G,trigger:o};"facebook"===e&&(n?.("success"),(0,x.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,x.NC)(e+"_login_success"),eu(t,ei,H,a,eZ(7534,e)).catch(n=>{ez(t,n,i,e)}),ex("login"),ej(e)},eT=({event:e})=>{e.stopPropagation(),e.preventDefault(),X?.(),S&&ed((0,R.rm)(S)),ec({action:"click",item:"login-button"}),eS(30),(0,x.My)(`unauth_mweb.login_buttons.footer.${A?.type||"button"}`),(0,x.NC)("press_login"),ek({eventType:14689,element:30,viewType:10,viewParameter:Q}),ek({eventType:14688,component:14213,upsellReason:et,incrementUpsellReasonCounter:!1}),ei.push({pathname:E?"/business/login/":"/login/",search:eo.search,state:{next:H,attributionLabel:et}})};return(0,C.jsxs)(l.xu,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:E?-5:0,maxWidth:en?502:400,children:[ey&&(0,C.jsx)(I.Z,{onDismiss:()=>ew(!1)}),V&&(0,C.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,C.jsx)(l.xv,{align:"center",size:"100",weight:"bold",children:el._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,C.jsx)(l.xu,{marginBottom:6,children:(0,C.jsxs)(i.Fragment,{children:[K&&(0,C.jsx)($,{app_upsell_type:ee}),q&&(0,C.jsx)(l.xu,{"data-test-id":"continue-email-button",marginBottom:E?-2:2,children:(0,C.jsx)(l.zx,{color:K?"gray":"red",fullWidth:!0,onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,x.NC)("press_email_signup"),(0,x.Rp)({event:"start",provider:"email"}),ec({action:"click",item:"email-signup-button"}),J?.(),S&&ed((0,R.rm)(S)),eC(13506),eS(31),ek({eventType:14688,component:14215,upsellReason:et,incrementUpsellReasonCounter:!1}),ei.push({pathname:E?"/business/signup/step1/":"/signup/step1/",search:eo.search,state:{next:H,attributionLabel:et}})},text:E?el._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'):el._('Continue with email', 'Sign up button', 'Sign up button')})}),t&&(0,C.jsx)(l.xu,{"data-test-id":"facebook-connect-button",marginBottom:2,children:(0,C.jsx)(z,{isRerequest:F??!1,onConnectError:()=>{n?.("error"),(0,x.EX)({event:"receive_no_credential_response_from_provider",provider:"facebook"}),er(({hideToast:e})=>(0,C.jsx)(u.Z,{onHide:e,text:el._('Unable to connect to Facebook', 'Error logging on with Facebook', 'Error logging on with Facebook')}))},onConnectSuccess:eE("facebook"),onTouch:()=>{Y?.(),eC(13505),ec({action:"click",item:"facebook-connect-button"}),eS(68)}})}),Z&&(0,C.jsx)(l.xu,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,C.jsx)(L.Z,{onGoogleConnectSuccess:eE("google"),onTouch:()=>{eC(13504),en&&es({event_type:15392,component:15214,element:13504})}})}),U&&"JP"===ea&&(0,C.jsx)(l.xu,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,C.jsx)(T,{onConnectError:()=>er(({hideToast:e})=>(0,C.jsx)(u.Z,{onHide:e,text:el._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line')})),onConnectSuccess:eE("line"),onTouch:()=>{eC(13507),eS(12277),ec({action:"click",item:"line-connect-button"})}})}),e&&(0,C.jsx)(l.xu,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,C.jsx)(P.Z,{})})]})}),A&&("member_link"===A.type?(0,C.jsx)(l.xu,{"data-test-id":"login-member",marginTop:A.isUnauthHomepageOnMobile?10:-4,children:(0,C.jsx)(l.iP,{onTap:({event:e})=>eT({event:e}),tapStyle:"none",children:(0,C.jsx)(l.xu,{marginBottom:A.increasedSpaceBelow?-1:-2,paddingY:A.noPadding?0:4,children:(0,C.jsx)(l.xv,{align:"center",color:A.textColorIsLight?"light":"default",size:"200",weight:"bold",children:el._('Already a member? Log in', 'Link on mobile web sign up modal to direct unauth users to the login page', 'Link on mobile web sign up modal to direct unauth users to the login page')})})})}):(0,C.jsx)(l.xu,{"data-test-id":"login-button",marginBottom:5,children:(0,C.jsx)(l.zx,{color:"transparent",fullWidth:!0,onClick:eT,text:el._('Log in', 'Login page button', 'Login page button')})})),eb&&("signup"===eb?(0,C.jsx)(M.Z,{progressBarAnimationDuration:eP}):(0,C.jsx)(k.Z,{}))]})}},191512:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),o=n(488792),a=n(477058),l=n(793874),r=n(144326),s=n(240760),c=n(297728),d=n(635258),u=n(154785),_=n(785893);function p({isMobileHomepage:e,isBusiness:t=!1,alignText:n="center",isSignupStep:p=!1}){let h=(0,r.ZP)(),g=(0,o.Z)(),m=(0,u.Z)(),{checkExperiment:f}=(0,c.F)(),{viewType:b,viewParameter:x}=(0,a.SU)(),y=(0,l.vs)(),w=e?"default":"subtle";!y&&e&&(w="inverse");let v=(0,_.jsx)(i.xu,{"data-test-id":"business-tos",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:t?d.V$B:d.U5h,onClick:()=>{m({action:"click",item:"business-tos"}),b&&g({view_type:b,view_parameter:x,element:8012,event_type:102})},target:"blank",underline:"hover",children:t?h._('Business Terms of Service', 'termOfService.link.termsOfService.business', 'Mobile web business terms of service link for partners'):h._('Terms of Service', 'termOfService.link.termsOfService.pinner', 'Mobile web terms of service link')})})},"termsOfService"),j=(0,_.jsx)(i.xu,{"data-test-id":"privacy",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:d.R_9,onClick:()=>{m({action:"click",item:"privacy-policy"}),b&&g({view_type:b,view_parameter:x,element:8004,event_type:102})},target:"blank",underline:"hover",children:h._('Privacy Policy', 'termOfService.link.privacyPolicy', 'Mobile web privacy policy link')})})},"privacyPolicy");return(0,_.jsx)(i.xu,{alignItems:"left"===n?"start":"center",alignSelf:"center","data-test-id":"business-terms-of-service",direction:"row",display:"flex",justifyContent:"center",paddingX:4,wrap:!0,children:(0,_.jsx)(i.xv,{align:"left"===n?"start":"center",color:w,inline:!0,overflow:"normal",size:"100",children:p&&f("fdbr_teen_compliance").anyEnabled?(0,s.nk)(h._('By continuing, you agree to Pinterest\'s {{ termsOfService }} and acknowledge you\'ve read our {{ privacyPolicy }}. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{deleteYourAccount}}.', 'termOfService.text.floridaCompliance', 'Agreement to legal texts for new users termsOfService:Link to Terms of service privacyPolicy:Link to the Privacy Policy deleteYourAccount:Link to the Delete yout account article'),{termsOfService:v,privacyPolicy:j,deleteYourAccount:(0,_.jsx)(i.xu,{"data-test-id":"deleteYourAccount",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:d.QA0,target:"blank",underline:"hover",children:h._('delete your account', 'termOfService.link.deleteYourAccount', 'Link to delete your account')},"deleteYourAccount")})},"deleteYourAccount")}):(0,s.nk)(h._('By continuing, you agree to Pinterest\'s {{ termsOfService }} and acknowledge you\'ve read our {{ privacyPolicy }}. {{ noticeAtCollection }}.', 'termOfService.text.default', 'Agreement to legal texts for new users termsOfService:Link to Terms of service privacyPolicy:Link to the Privacy Policy noticeAtCollection:Link to the Notice at collection article'),{termsOfService:v,privacyPolicy:j,noticeAtCollection:(0,_.jsx)(i.xu,{"data-test-id":"noticeAtCollection",display:"inlineBlock",children:(0,_.jsx)(i.xv,{color:w,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(i.rU,{display:"inlineBlock",href:d.cvl,onClick:()=>{m({action:"click",item:"notice-at-collection"})},target:"blank",underline:"hover",children:h._('Notice at collection', 'Mobile web notice at collection link', 'termOfService.link.noticeAtCollection')})})},"noticeAtCollection")})})})}},994634:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(545007),o=n(616550),a=n(833602),l=n(282999),r=n(730212),s=n(978993),c=n(410150),d=n(999836),u=n(970067),_=n(872965),p=n(415787);let h=e=>!!(0,a.dh)(e)&&((0,s.qn)("ufausfiiab",null)||((0,p.nP)("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,s.Nh)("ufausfiiab","1")),!0),g=()=>{let{isBot:e}=(0,r.B)(),t=(0,o.TH)(),{userAgentPlatform:n,userAgent:a}=(0,i.v9)(e=>e.session),s=(0,d.Z)();return!((0,c.ml)()&&!s)&&!(0,u.Rp)({isBot:e,platform:n,userAgent:a})&&((0,l.uM)(t)||(0,l.am)(t))&&!(0,_.P)()&&!h(a)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-PageWrapper-UnauthPageWrapperFooter-cc14e4a425ad9c8c.mjs.map