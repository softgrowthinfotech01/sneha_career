(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865],{17314:(e,a,l)=>{"use strict";l.d(a,{Z:()=>d});var t,n,i=l(813653),r=l(861470),s=0,o=0;let d=function(e,a,l){var d=a&&l||0,u=a||Array(16),c=(e=e||{}).node||t,g=void 0!==e.clockseq?e.clockseq:n;if(null==c||null==g){var p=e.random||(e.rng||i.Z)();null==c&&(c=t=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==g&&(g=n=(p[6]<<8|p[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:o+1,_=m-s+(h-o)/1e4;if(_<0&&void 0===e.clockseq&&(g=g+1&16383),(_<0||m>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,o=h,n=g;var y=((268435455&(m+=122192928e5))*1e4+h)%4294967296;u[d++]=y>>>24&255,u[d++]=y>>>16&255,u[d++]=y>>>8&255,u[d++]=255&y;var f=m/4294967296*1e4&268435455;u[d++]=f>>>8&255,u[d++]=255&f,u[d++]=f>>>24&15|16,u[d++]=f>>>16&255,u[d++]=g>>>8|128,u[d++]=255&g;for(var S=0;S<6;++S)u[d+S]=c[S];return a||(0,r.Z)(u)}},214172:(e,a,l)=>{"use strict";var t;l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="610a35d46510240eb58e262c1909310c";let i=n},727128:(e,a,l)=>{"use strict";var t,n,i;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardBody_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{args:null,kind:"FragmentSpread",name:"RecipeMetadata_recipe"}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useNormalizePinData_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardAttribution_pin"}],type:"Pin",abstractKey:null};r.hash="833cd5d58bc1ac105444aa923e882675";let s=r},543978:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExperimentalScrollableOneBar_oneBarModules",selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"OneBarModule_oneBarModules"}],type:"OneBarModule",abstractKey:null};t.hash="7570d981c88358e1f608e0af521e5254";let n=t},365402:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightCropperContainer_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightSpotlightDots_pin"},{args:null,kind:"FragmentSpread",name:"StelaCutouts_pin"}],type:"Pin",abstractKey:null};t.hash="4c094b2f5fd711f63313c83eac8ecfc5";let n=t},604733:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightResultGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};t.hash="0e18466f59f891e9ea12d1c056d9f627";let n=t},646920:(e,a,l)=>{"use strict";var t;l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="cabaa35ed7d59dee006897bf3ef32e3d";let i=n},530118:(e,a,l)=>{"use strict";var t,n,i,r,s,o,d,u,c,g,p,m,h,_,y,f,S,k,x,v,b,w,P,T,F,I,E,A,C,K,L,j,O,R,D,M,N,Z,z,U,H,V,B,G,W,$,Y,q,Q,X,J,ee;l.r(a),l.d(a,{default:()=>el});let ea=(t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},n={defaultValue:null,kind:"LocalArgument",name:"pinId"},i=[{kind:"Variable",name:"pin",variableName:"pinId"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s=[{kind:"Literal",name:"spec",value:"736x"}],g={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},S=[c={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],k=[{kind:"Literal",name:"spec",value:"236x"}],x=[{kind:"Literal",name:"spec",value:"474x"}],v={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},C={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},K=[p,b={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},y,P={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],L={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},D=[r],N=[{kind:"Literal",name:"spec",value:"564x"}],Z={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},U={alias:"image236x",args:k,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:z=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:M=[d,o,u],storageKey:null},g],storageKey:'additionalImagesPerSpec(spec:"236x")'},H={alias:"image474x",args:x,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:z,storageKey:'additionalImagesPerSpec(spec:"474x")'},V={alias:"image564x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:z,storageKey:'additionalImagesPerSpec(spec:"564x")'},B={alias:"image736x",args:s,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:z,storageKey:'additionalImagesPerSpec(spec:"736x")'},G={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},W={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null},r],storageKey:null}],storageKey:null},$=[o],Y=[P,y],ee=[q={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},O,m,o],{fragment:{argumentDefinitions:[t,n],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t],kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"imageSpec_736x",args:s,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[o,d,u,c],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},c,g,p,{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[m],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},o,_,y,{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[p,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},m,u],storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:k,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:x,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"474x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[c,d,o,u,r],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},v,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[p,b,y,w,P,T,F,I,E,A,C,r],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[h,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[p,_,h,o,y,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},b,y,P,I,T,F,A,C,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[p,b,y,P,r,w,F,I,E],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:K,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},y,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[L,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[d,j,u,o],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[p,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[R,d,u,o,r],storageKey:null},r,{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[r,d,j,o,u],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:D,storageKey:null}],storageKey:null},y,r,R],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[h,o,y,p,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[O,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},v,g,{alias:"image236x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"236x")'},{alias:"image474x",args:x,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"474x")'},{alias:"image564x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"564x")'},{alias:"image736x",args:s,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},L,r,{alias:"imagesSpec_236x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"236x")'}],storageKey:null},y,p,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[O,f,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:D,storageKey:null}],storageKey:null},Z,U,H,V,B,r,h,G,{alias:"additionalImageSpec_236x",args:k,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:x,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:s,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:D,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},r,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},Z,U,H,V,B,r,G,h,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[r,L,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:M,storageKey:null},v],storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},W],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[o,u,d],storageKey:'images(spec:"750x")'},v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},y,p],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:"image236x",args:k,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"236x")'},{alias:"image474x",args:x,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"474x")'},{alias:"image564x",args:N,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"564x")'},{alias:"image736x",args:s,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:M,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:"imageSpec_564x",args:N,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:$,storageKey:'images(spec:"564x")'},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:$,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:$,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},W,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[w,P,T,F,I,E,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},A,b,C,y,p],storageKey:null},y,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Y,storageKey:null},y],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:Y,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:Y,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},y],storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},y,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[r,q,Q,o,X,J,O,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ee,storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2c287e5c45225dc72984c8a1723485f1d4d3706287a624aaf1b89a45eb6236bb",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});ea.hash="607770115a4a49c823d7c8aed6ca092d";let el=ea;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(ea.default||ea)},660036:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPage_pin"}],type:"Pin",abstractKey:null};t.hash="df8cf9d2521b1a82156cc4ecd7b04884";let n=t},149234:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPage_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};t.hash="6959fdb863ed1f2749999c0b8cc6bcce";let n=t},206146:(e,a,l)=>{"use strict";var t;l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RecipeMetadata_recipe",selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"RecipeMetadata",abstractKey:null};n.hash="12f77507a9fdec344b44b7e659fa5ac1";let i=n},306569:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsImageContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"}],type:"Pin",abstractKey:null};t.hash="d3343cbed0df46adae9a256f0fc6f167";let n=t},761650:(e,a,l)=>{"use strict";var t,n,i,r,s;l.r(a),l.d(a,{default:()=>d});let o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"RelatedProductsPageQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"RelatedProductsPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"RelatedProductsPageQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[i,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"03eb828de8d2e9a4c8e1d3c0a94f7ea7fe306fd1717cc09995da1518d6549cf1",metadata:{},name:"RelatedProductsPageQuery",operationKind:"query",text:null}};o.hash="0a96a1ee859bcb7fedbf477060a5beb3";let d=o;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(o.default||o)},4738:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsPage_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchPageWithPinData_pin"}],type:"Pin",abstractKey:null};t.hash="91d05676e413b7b47653c2f8fa609093";let n=t},441089:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsUnifiedFeed_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="395dd0c72ba79e629fa9cf482a4b73d6";let n=t},431696:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StelaCutouts_pin",selections:[{args:null,kind:"FragmentSpread",name:"StelaCutout_pin"}],type:"Pin",abstractKey:null};t.hash="aa969bf48facf77e13c5fc82deaa909e";let n=t},572394:(e,a,l)=>{"use strict";var t,n,i,r,s,o,d,u,c,g,p,m,h,_,y,f,S,k,x,v;l.r(a),l.d(a,{default:()=>w});let b=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],n=[{kind:"Variable",name:"pin",variableName:"pinId"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c=[o={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],g=[u,d,o],p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],y={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:_=[i],storageKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r,{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},s],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"564x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"orig")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:g,storageKey:'images(spec:"736x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:g,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:g,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},r,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[p,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[m,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:h,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,p,y,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:_,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[p,y,{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},k,i],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},m,{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:v=[d],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:v,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:v,storageKey:'images(spec:"170x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:v,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[x,p,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},d,k],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[x,S,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},f,k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},k],storageKey:null},k],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"6cdf0568ef4791ef0418ee1fe441fb842acf50d89807fd6a9eb18334133da65a",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});b.hash="3904efe87290878b8559da8f51b4bd16";let w=b;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(b.default||b)},925517:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopFlashlightPage_pin"}],type:"Pin",abstractKey:null};t.hash="01839fc3bcd9cdaf206873364167d157";let n=t},407303:(e,a,l)=>{"use strict";var t;l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardBody_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"}],type:"Pin",abstractKey:null};n.hash="80808af4cef3901a9ce9bec48f33c09b";let i=n},574554:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualLiveSearchProductFeedResourceContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"}],type:"Pin",abstractKey:null};t.hash="b69967adff40ae068eb5d3aad8f106f3";let n=t},941845:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualLiveSearchResourceContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"}],type:"Pin",abstractKey:null};t.hash="9d37ca13b584492c1fba958c00317b73";let n=t},187962:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"useGetViewLog_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsImageContent_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightResultGrid_pin"}],type:"Pin",abstractKey:null};t.hash="ecc8a2a34b852db42ada7b81f966ef5a";let n=t},383855:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchPageWithPinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"VisualLiveSearchProductFeedResourceContainer_pin"},{args:null,kind:"FragmentSpread",name:"VisualLiveSearchResourceContainer_pin"},{args:null,kind:"FragmentSpread",name:"VisualSearchUnifiedResourceContainer_pin"}],type:"Pin",abstractKey:null};t.hash="559409b5cdf594ceadec1100a8e980f8";let n=t},376194:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchUnifiedResourceContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"}],type:"Pin",abstractKey:null};t.hash="7074039637fc6e2b8dd0bdad128d63c8";let n=t},478976:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetInitialCropArea_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="120ad104e33b94ab10be1098dc10d74b";let n=t},682230:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetViewLog_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="4d2dba5ab4f3957f62edf10d66e5a060";let n=t},312296:(e,a,l)=>{"use strict";var t;l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNormalizePinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null};n.hash="01a93671cde480baa2cfd8b781589acd";let i=n},373462:(e,a,l)=>{"use strict";var t;l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="b7ea441f2c20a68b323088ebe3847835";let i=n},354174:(e,a,l)=>{"use strict";l.d(a,{Z:()=>k});var t,n=l(667294),i=l(167912),r=l(616550),s=l(883119),o=l(5629),d=l(99641),u=l(955937),c=l(144326),g=l(635284),p=l(774980),m=l(297728),h=l(730212),_=l(453854),y=l(211397),f=l(785893);let S=void 0!==t?t:t=l(543978);function k({hasProductFiltersApplied:e,hrefOverride:a,itemHeight:l=o.Lu,marginBottom:t=o.JC,paddingBottom:k=o.uS,paddingX:x=o.jf,oneBarModulesKey:v,oneBarModulesRest:b,onFilterButtonClick:w,setIsEducationModalOpen:P,viewParameter:T,viewType:F}){let I=(0,n.useRef)(null),E=I.current?.firstElementChild?.firstElementChild?.firstElementChild,[A,C]=(0,n.useState)(0),[K,L]=(0,n.useState)(0),[j,O]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),[M,N]=(0,n.useState)(0),Z=(0,r.TH)(),z=(0,c.ZP)(),{checkExperiment:U}=(0,m.F)(),{isRTL:H}=(0,h.B)(),V=(0,n.useRef)(!1),B=(0,y.Z)(),G=e=>{U("dweb_search_resource_fast_fetch_non_product_one_bar_searches").anyEnabled&&e&&B({url:e})},W=new p.ZP,$=(0,i.useFragment)(S,v),Y=$&&[$]||b;(0,n.useEffect)(()=>{let e=e=>{"Tab"===e.key&&(V.current=!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]),(0,n.useEffect)(()=>{C(0)},[Z]),(0,n.useEffect)(()=>{L(E?.clientWidth||0);let e=(0,u.Z)(()=>{L(E?.clientWidth||0)},200);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[E]),(0,n.useEffect)(()=>{let e=I.current;return e&&g.Z.addObstruction("top",e),()=>{e&&g.Z.removeObstruction("top",e)}}),(0,n.useEffect)(()=>{let e=E?.scrollWidth||0,a=0;for(let e=0;e<A;e+=1)a+=E?.children[e]?.offsetWidth||0;let l=e-a,t=K>=e;O(A>0&&!t),D(l>K&&A<Y.length&&!t),N(a)},[E,A,Y.length,K,M,H]);let q=()=>{A+3<Y.length?C(A+3):C(Y.length-1)},Q=()=>{A-3>=0?C(A-3):C(0)};return Y.length>0&&(0,f.jsx)(_.q,{children:({hovered:n,onMouseEnter:i,onMouseLeave:r})=>(0,f.jsxs)(s.xu,{ref:I,color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:k}},"data-root-margin":"search-one-bar","data-test-id":"scrollable-one-bar-root",marginBottom:t,onMouseEnter:i,onMouseLeave:r,position:"relative",children:[(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},paddingX:x,position:"relative",children:(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{[H?"right":"left"]:`-${M}px`,transition:"left 0.3s, right 0.3s"}},position:"relative",children:(0,f.jsx)(s.kC,{alignItems:"center",gap:{row:2,column:0},height:l,children:Y.map((l,t)=>(0,f.jsx)(s.xu,{onFocus:()=>{V.current||C(t)},onMouseDown:()=>V.current=!0,children:(0,f.jsx)(d.Z,{earlyFetchSearchResource:G,hasProductFiltersApplied:e,hrefOverride:a,impressionsFramework:W,index:t,module:l,oneBarModulesKey:$??null,onFilterButtonClick:w,setIsEducationModalOpen:P,viewParameter:T,viewType:F})},`OneBarModule-${l.entityId||l.id||""}`))})})}),n&&(0,f.jsxs)(s.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{background:(0,o.KC)(H,j,R),paddingBottom:o.uS,paddingLeft:o.EA,paddingRight:o.EA,pointerEvents:"none"}},"data-test-id":"one-bar-navigation-arrows",display:"flex",justifyContent:"between",left:!0,position:"absolute",right:!0,top:!0,children:[(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:j&&(0,f.jsx)(s.hU,{accessibilityLabel:z._('Back', 'oneBar.navArrow.back', 'Accessibility laber for a button that navigates back to previous search guides'),bgColor:"white",icon:"arrow-back",onClick:Q})}),(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:R&&(0,f.jsx)(s.hU,{accessibilityLabel:z._('Forward', 'oneBar.navArrow.forward', 'Accessibility laber for a button that navigates forward to see more search guides'),bgColor:"white",icon:"arrow-forward",onClick:q})})]})]})})}},487211:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var t=l(297728);let n=()=>{let{checkExperiment:e}=(0,t.F)(),{anyEnabled:a}=e("web_search_hybrid_object_level_onebar");return a}},50165:(e,a,l)=>{"use strict";l.d(a,{$:()=>c,r:()=>g});var t=l(667294),n=l(498490),i=l(989820),r=l(297728),s=l(730212),o=l(961754),d=l(785893);let{Provider:u,useHook:c}=(0,n.Z)("PinRep");function g({children:e}){let{isAuthenticated:a}=(0,s.B)(),{checkExperiment:l}=(0,r.F)(),{experience:n}=(0,i.Ow)(1000069),[c,g]=(0,t.useState)(!0),[p,m]=(0,t.useState)(!1),[h,_]=(0,t.useState)(!1),[y,f]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),x=(0,i.oS)(1000069),{anyEnabled:v}=l("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),b=(0,o.Z)(a&&v?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,t.useEffect)(()=>{if(!a){g(!1);return}n&&(!n||n?.experience_id===500417&&n?.display_data.hide_footer)?x.viewExperience(1000069,500417):g(!1),m(!0)},[n]);let w=(0,t.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:h,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:c,quickSaveBoardId:b,setHasMetSaveRequirementOnUseCaseFeed:_,setUseCaseFeedOriginalPinId:k,setUseCaseFeedRepinId:f,useCaseFeedOriginalPinId:S,useCaseFeedRepinId:y}),[h,p,c,b,_,k,f,S,y]);return(0,d.jsx)(u,{value:w,children:e})}},279341:(e,a,l)=>{"use strict";l.d(a,{Z:()=>u});var t=l(667294),n=l(883119),i=l(848823);let r=e=>`
  ::view-transition-group(${e}) {
    animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
  }
`,s=({type:e,viewTransitionName:a})=>"image"===e?r(a):"video"===e?`
      ${r(a)}
      ::view-transition-old([view-transition-name="${a}"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="${a}"]) {
        animation: none;
      }
    `:"";var o=l(512541),d=l(785893);let u=({_enableViewTransitions:e,borderStyle:a,children:l,id:r,imageFit:u,suppressViewTransitionTags:c=!1,type:g})=>{let{inViewTransitionsExp:p,viewTransitionName:m}=(0,i.Z)({_enableViewTransitions:e,id:r,type:g}),[h,_]=(0,t.useState)(!1),y=(e||p)&&!!m&&!c&&(e||h),f="image"===g&&["contain","cover"].includes(u||"")?"100%":"inherit";return(0,d.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{...a,...y?{viewTransitionName:m,contain:"layout"}:{}}},height:f,onMouseLeave:()=>_(!1),onMouseOver:()=>_(!0),width:f,children:[(0,d.jsx)(o.Z,{unsafeCSS:s({type:g,viewTransitionName:m})}),l]})}},848823:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(667294),n=l(973935),i=l(297728);let r=function({_enableViewTransitions:e=!1,id:a,type:l}){let{checkExperiment:r}=(0,i.F)(),s=r("dweb_view_transitions").anyEnabled;return{executeWithViewTransition:(0,t.useCallback)(a=>{document.startViewTransition&&(e||s)?document.startViewTransition(()=>{(0,n.flushSync)(a)}):a()},[e,s]),inViewTransitionsExp:s,viewTransitionName:l&&a?`pin-${l}-${a}`:""}}},847452:(e,a,l)=>{"use strict";l.d(a,{n:()=>t});let t=20},767552:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var t=l(868808);function n(e,a,l){let n=(0,t.mB)(e.search),i=parseFloat(n.x??""),r=parseFloat(n.y??""),s=parseFloat(n.w??""),o=parseFloat(n.h??"");if(function(...e){return e.every(e=>e>=0&&e<=1)}(i,r,s,o)&&a&&l)return{x:Math.floor(i*a),y:Math.floor(r*l),w:Math.floor(s*a),h:Math.floor(o*l)};{let e=parseInt(n.x??"",10),a=parseInt(n.y??"",10),l=parseInt(n.w??"",10),t=parseInt(n.h??"",10);return!function(...e){return e.every(Number.isInteger)}(e,a,l,t)?null:{x:e,y:a,w:l,h:t}}}},945034:(e,a,l)=>{"use strict";l.d(a,{Z:()=>g});var t=l(667294),n=l(883119),i=l(573706),r=l(144326),s=l(829413),o=l(235838),d=l(969119),u=l(682661),c=l(785893);function g({alignStart:e,commerceData:a,isFilterOpened:l,isProductFeed:g,searchId:p,viewParameter:m,viewType:h,visualSearchFlashlightUnifiedResource:_}){let y=(0,r.ZP)(),{logContextEvent:f}=(0,i.v)(),S=(0,t.useRef)(null),k=(0,t.useRef)(!1);(0,t.useEffect)(()=>{S.current?.handleResize()},[l]),(0,d.Z)(()=>{let e=(0,o.Z)(()=>{k.current||(f({event_type:110,view_type:h,view_parameter:m}),k.current=!0)},1e3);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let{data:x,isFetching:v,fetchMore:b,isAtEnd:w}=_,P=(x?.results||[]).filter(e=>"pin"===e.type);return(0,c.jsxs)(n.xu,{"data-test-id":"visual-search-feed",children:[(0,c.jsx)(n.xu,{children:(0,c.jsx)(s.Z,{isAtEndOfFeed:w,itemCount:(P||[]).length,children:(0,c.jsx)(n.Rk,{ref:S,align:e?"start":"center",items:P||[],loadItems:b,minCols:1,renderItem:({data:e,itemIdx:l})=>"pin"===e.type?(0,c.jsx)(u.ZP,{auxData:{commerce_data:a},componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:l,surface:g?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:p},viewParameter:m,viewType:h}):null,scrollContainer:()=>window})})}),(0,c.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,c.jsx)(n.$j,{accessibilityLabel:y._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:v})})]})}},339842:(e,a,l)=>{"use strict";function t(e){let{category_filters:a,domain_filters:l,price_filters:t}=e||{};return!!a||!!l||!!t}l.d(a,{Z:()=>t})},934209:(e,a,l)=>{"use strict";l.d(a,{Z:()=>u});var t=l(667294),n=l(339842),i=l(213512),r=l(135296),s=l(961754),o=l(296209);let d=e=>"shop_the_look_module"===e||"stela_landing_page_category_filter"===e;function u({resourceOptions:e,setFlashlightSearchId:a}){let[l,u]=(0,t.useState)(),[c,g]=(0,t.useState)(""),[p,m]=(0,t.useState)(),{cachedOneBarModules:h,setCachedOneBarModules:_}=(0,i.t)(),y=(0,s.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null),{auxData:f}=y,S=f?.metadata?.one_bar_modules,{pin_id:k="",entrypoint:x}=e||{},v=d(x)?h[k]:(0,r.Z)(o.Z,!0)(S);return(0,t.useEffect)(()=>{S&&d(x)&&_(e=>{if(e[k])return e;let a=(0,r.Z)(o.Z,!0)(S);return{...e,[k]:a}})},[S,_,k,x]),(0,t.useEffect)(()=>{let{data:e}=y,l=e?.search_identifier;l&&(a?a(l):g(l)),u(e)},[a,y]),(0,t.useEffect)(()=>{let{data:e}=y,a=e?.search_identifier,t=l?.search_identifier;!e||a&&t&&a===t||(0,n.Z)(l)||!(0,n.Z)(e)||m({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[p,l,y]),{filters:p,oneBarModules:v,searchId:c,setSearchId:g,visualSearchFlashlightUnifiedResource:y}}},39929:(e,a,l)=>{"use strict";l.d(a,{Z:()=>_});var t=l(667294),n=l(883119),i=l(785893);function r({isTopRow:e,image:a}){return(0,i.jsxs)(n.zd,{height:e?217:168,wash:!0,width:e?236:117,children:[(0,i.jsx)(n.Ee,{alt:a.alt||"",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url??""}),!!a.price&&(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},"data-test-id":"shopping-upsell-price",height:24,left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:a.price})]})}var s=l(573706),o=l(559028),d=l(788388),u=l(945960),c=l(648089),g=l(596530),p=l(96405);let m={container:{borderRadius:`${u.Oc}px ${u.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},h=({images:e,firstImageIndex:a})=>{let l=a+1,t=a+2;return(0,i.jsxs)(n.xu,{overflow:"hidden",rounding:4,children:[(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:m.content},children:e.at(a)?(0,i.jsx)(r,{image:e[a],isTopRow:!0}):null}),e.length>t?(0,i.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,i.jsx)(r,{image:e[l]}),(0,i.jsx)(r,{image:e[t]})]}):null]})};function _({dangerouslySetActionUrl:e,query:a,story:l,slotIndex:r}){let u,_,y,f,S;let{logContextEvent:k}=(0,s.v)(),{action:x,id:v,objects:b,story_type:w,subtitle:P}=l,{text:T,url:F}=x||{},[I,E]=(0,t.useState)(!1),A=(0,t.useCallback)(()=>E(!0),[E]),C=(0,t.useCallback)(()=>E(!1),[E]),K=(b||[]).reduce((e,a)=>"pin"!==a.type?e:[...e,{domain:a.domain,image:{alt:a.title||a.description,height:a.images?.["474x"]?.height,url:a.images?.["474x"]?.url,width:a.images?.["474x"]?.width,price:(a.rich_summary?.products?.[0]||{}).offer_summary?.price}}],[]),L=(K[0]||{}).domain||void 0;["search_product_collage_story","shop_article_story"].includes(w)?(u=2,_=43,y={story_id:v,story_type:w,entered_query:a}):"shop_brand_story"===w||"shop_brand_affinity_story"===w?(u=1,_=92,L&&(y={story_type:w,commerce_data:JSON.stringify({domain:L})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(w)?(u=72,_=3050):"related_domain_collage"===w?(u=72,_=3455):"related_products_collage"===w&&(u=1,_=3177);let j=()=>k({event_type:101,element:372,component:200,view_type:u,view_parameter:_,aux_data:{story_type:w}}),O=P?4:2;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(w)&&x){let e=x.user;f=e&&(e.image_medium_url||e.image_large_url),S=e&&e.full_name}let R=e||F;if(!R)return null;let D=(0,c.Z)({url:R})?"nofollow":"none";return(0,i.jsx)(d.F,{componentType:200,contextLogData:y||{},impressionType:"Story",loggingId:w,slotIndex:r,viewParameter:_,viewType:u,children:({impressionTrackerRef:e})=>(0,i.jsx)(n.xu,{ref:e,children:(0,i.jsx)(n.Tg,{href:R,onTap:j,rel:D,children:(0,i.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:m.container},onMouseEnter:A,onMouseLeave:C,overflow:"hidden",position:"relative",children:[(0,i.jsx)(h,{firstImageIndex:["related_domain_collage","related_products_collage"].includes(w)?1:0,images:K.map(({image:e})=>e)}),(0,i.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:2,paddingX:3,paddingY:O,rounding:"pill",children:(0,i.jsxs)(n.xu,{alignContent:"start",direction:"column",display:"flex",justifyContent:"center",margin:2,children:[P?(0,i.jsx)(n.xu,{marginBottom:1,children:(0,i.jsx)(n.xv,{align:"start",color:"subtle",children:P.format})}):null,(0,i.jsx)(n.xv,{align:"start",weight:"bold",children:T})]})}),S&&f&&(0,i.jsx)(n.xu,{margin:2,position:"absolute",right:!0,top:!0,children:(0,i.jsx)(o.qE,{name:S,outline:!0,size:"md",src:f})}),(0,i.jsx)(g.Z,{visibility:I?"visible":"none",children:(0,i.jsx)(p.Z,{additionalStyles:m.visualOverlay})})]})})})})}},213512:(e,a,l)=>{"use strict";l.d(a,{p:()=>o,t:()=>s});var t=l(667294),n=l(498490),i=l(785893);let{Provider:r,useHook:s}=(0,n.Z)("VisualShopContext");function o({children:e}){let[a,l]=(0,t.useState)({}),n=(0,t.useRef)(0),s=(0,t.useRef)("");return(0,i.jsx)(r,{value:{cachedOneBarModules:a,setCachedOneBarModules:l,imageContainerScrollTop:n,imageContainerScrollTopForPinId:s},children:e})}},219867:(e,a,l)=>{"use strict";l.d(a,{Z:()=>P});var t,n,i=l(667294);l(167912);var r=l(616550),s=l(781247),o=l(353465),d=l(414504),u=l(47848),c=l(297728),g=l(961754),p=l(689121),m=l(74264),h=l(665992),_=l(122882),y=l(302669),f=l(883119),S=l(824396),k=l(425423),x=l(785893);let v=void 0!==t?t:t=l(431696);function b({cutoutsData:e,height:a,pinKey:t,pinImageHovered:n,surfaceType:r,trafficSource:s,width:o}){let d=(0,u.Z)(v,t),{checkExperiment:g}=(0,c.F)(),{hoveredCutoutId:p,setHoveredCutoutId:m,cutoutContours:h,setCutoutContours:_,scaledValues:y,setScaledValues:b}=(0,k.Z)(),w=(0,i.useCallback)(async(e,a,t,n,i,r,s,o)=>{let d=await l.e(18893).then(l.bind(l,618893)),u=await l.e(69670).then(l.bind(l,469670)),{ContourTracer:c}=d;await u.default();let g=new c,p=await createImageBitmap(new Blob([Uint8Array.from(atob(a),e=>e.charCodeAt(0))],{type:"image/png"})),m=g.trace(p,{useAlpha:!1,threshold:80}),h=t*i,y=n*r;_?.(a=>({...a,[e]:m})),b?.(a=>({...a,[e]:{scaledX:h/p.width,scaledY:y/p.height,scaledWidth:h,scaledHeight:y,xRatio:s,yRatio:o,hRatio:r,wRatio:i}}))},[_,b]);(0,i.useEffect)(()=>{e?.bitmap_masks&&e.bitmap_masks.forEach(e=>{let{id:l,mask_image:t,mask_bounds:n}=e;if(!l||!t||!n?.[0]||!n?.[1])return;let[i,r]=n[1],[s,d]=n[0];[i,r,s,d].every(e=>void 0!==e)&&w(l,t,o,a,i,r,s,d)})},[e,o,a,w]);let P=(0,i.useMemo)(()=>{let e={};return h&&Object.entries(h).forEach(([a,l])=>{l&&(e[a]=l.map(e=>{let a=e.points.map(e=>e.x),l=e.points.map(e=>e.y);return{minX:Math.min(...a),minY:Math.min(...l),maxX:Math.max(...a),maxY:Math.max(...l)}}))}),e},[h]);return g("web_cutouts").anyEnabled||h&&!(Object.keys(h).length<1)?(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:a,onMouseLeave:()=>m?.(null),onMouseMove:l=>{let t=l.currentTarget.getBoundingClientRect(),n=l.clientX-t.left,i=l.clientY-t.top,r=null;for(let l in h){let t=h[l],s=y?.[l];if(!s||!t)return;let d=e?.bitmap_masks.find(e=>e.id===l);if(!d?.mask_bounds)return;let[u,c]=d.mask_bounds[0]??[0,0],{scaledX:g,scaledY:p}=s,m=(n-u*o)/g,_=(i-c*a)/p;if(t.some((e,a)=>{let t=P[l]?.[a];return t&&m>=t.minX&&m<=t.maxX&&_>=t.minY&&_<=t.maxY&&function(e,a){let{x:l,y:t}=e,n=!1,i=0,r=a.length-1;for(;i<a.length;){let{x:e,y:s}=a[i],{x:o,y:d}=a[r];s>t!=d>t&&l<(o-e)*(t-s)/(d-s)+e&&(n=!n),r=i,i+=1}return n}({x:m,y:_},e.points)})){r=l;break}}r!==p&&m?.(r)},position:"relative",width:o,children:h&&Object.entries(h).map(([l,t])=>{if(!t||0===t.length)return null;let i=e?.bitmap_masks.find(e=>e.id===l);if(!i)return null;let{mask_bounds:u,is_hidden:c}=i;if(!u||2!==u.length||!y[l])return null;let{scaledX:g,scaledY:h,scaledWidth:_,scaledHeight:f}=y[l];return(0,x.jsx)(S.Z,{contours:t,handleMouseLeave:()=>m?.(null),hoveredCutoutId:p??null,id:l,isHidden:!!c,maskBounds:u,pinImageHeight:a,pinImageHovered:n,pinImageWidth:o,pinKey:d,scaledHeight:f,scaledWidth:_,scaledX:g,scaledY:h,surfaceType:r,trafficSource:s},l)})}):null}let w=void 0!==n?n:n=l(365402);function P({cropArea:e,customCropper:a,imageSignature:l,imageSize:t,pinId:n,pinKey:f,requestParams:S,showAnimation:k,surfaceType:v,trafficSource:P,viewParameter:T,viewType:F}){let{checkExperiment:I}=(0,c.F)(),E=(0,u.Z)(w,f),A=(0,r.k6)(),C=I("web_cutouts").anyEnabled,{data:K}=(0,g.Z)(C?{name:"ApiResource",options:{url:`/v3/pins/${n}/segmentation/sam/`,data:{client:"visual_cutout",cleanup_masks:!0}}}:null),[L,j]=(0,i.useState)(void 0),[O,R]=(0,i.useState)(!1),[D,M]=(0,i.useState)({x:0,y:0,w:0,h:0}),N=(0,i.useMemo)(()=>(E.visualObjects??[]).filter(e=>e.isStela).map(y.Z),[E.visualObjects]),[{dotIndexToHide:Z},z]=(0,i.useState)((0,p.Z)(N,(0,m.Z)({cropArea:e,scaledHeight:t.height??0,scaledWidth:t.width??0}))),U=N&&!!N.length;(0,i.useEffect)(()=>{void 0===L&&(C?U&&K&&K?.bitmap_masks&&j(!!K.bitmap_masks):j(!1))},[C,K,U,L]);let H=({cropArea:e,cropSource:a,title:l})=>{let n=(0,p.Z)(N,(0,m.Z)({cropArea:e,scaledHeight:t.height??0,scaledWidth:t.width??0}));z(n);let i=n.isCropAreaOnDotArea?L?9:4:a,r=window.location.search,s=(0,_.Z)({cropArea:e,cropSource:i,requestParams:S,surfaceType:v,title:l,trafficSource:P});s!==r&&A.replace({pathname:window.location.pathname,search:s,state:{internalNavigation:!0}})},V=I("web_cutout_object_selection").anyEnabled,B=V?o.Z:s.Z;return(0,x.jsxs)(B,{cropArea:e,imageSize:t,onChange:a??H,previewCropArea:D,showPreviewArea:!1,viewParameter:T,children:[!1===L&&U&&(0,x.jsx)(d.Z,{currentSpotlightIdx:Z,handleSpotlightClick:e=>{let{x:l,y:n,w:i,h:r,title:s}=N[e],o={cropArea:(0,h.Z)({cropArea:{x:l,y:n,w:i,h:r},scaledHeight:t.height??0,scaledWidth:t.width??0}),cropSource:4,trafficSource:P,title:s||""};a?a(o):H(o)},handleSpotlightHover:e=>{if(e===Z)return;let{x:a,y:l,w:n,h:i}=N[e];M((0,h.Z)({cropArea:{x:a,y:l,w:n,h:i},scaledWidth:t.width??0,scaledHeight:t.height??0})),R(!0)},handleSpotlightUnhover:()=>{R(!1)},imageSignature:l,imageSize:t,pinKey:E,showAnimation:k,viewParameter:T,viewType:F}),L&&!!K&&t.height&&t.width&&(0,x.jsx)(b,{cutoutsData:K,height:t.height,pinKey:E,surfaceType:v,width:t.width})]},V?void 0:JSON.stringify(e))}},892726:(e,a,l)=>{"use strict";l.d(a,{G:()=>s,b:()=>o});var t=l(667294),n=l(616550),i=l(785893);let r=(0,t.createContext)(!0);function s({children:e}){let a=(0,n.TH)(),[l,s]=(0,t.useState)(!0),o=(0,t.useRef)(a);return(0,t.useEffect)(()=>{o.current!==a&&(o.current=a,s(!1))},[a]),(0,i.jsx)(r.Provider,{value:l,children:e})}function o(){return(0,t.useContext)(r)}},945960:(e,a,l)=>{"use strict";l.d(a,{Dv:()=>r,Kn:()=>n,Ml:()=>s,Oc:()=>t,mv:()=>i});let t=16,n=`${t}px ${t}px 0 0`,i=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},499068:(e,a,l)=>{"use strict";l.d(a,{Pw:()=>t,SB:()=>n,ZP:()=>r,x9:()=>i});let t=80,n=56,i=e=>"phone"===e?n:t;function r(e,a){return a?0:i(e)}},431705:(e,a,l)=>{"use strict";l.d(a,{$N:()=>h,Cu:()=>y,GY:()=>c,MZ:()=>o,NR:()=>g,S9:()=>s,bC:()=>_,fm:()=>t,id:()=>i,kM:()=>r,q6:()=>n,qp:()=>u,uV:()=>p,ug:()=>m,xL:()=>d});let t={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},n={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},s={CREATE:"CREATE",VIEW_RESULTS:"VIEW_RESULTS"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},d={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},u={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},g={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",m="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},_="click",y="view"},934980:(e,a,l)=>{"use strict";l.d(a,{CC:()=>n,Ll:()=>r,XF:()=>i});let t=(e,a,l)=>({x:Math.floor(e*Math.cos(l)),y:Math.floor(a*Math.sin(l))}),n=(e,a)=>t(a/2,e/2,2*Math.random()*Math.PI),i=(e,a)=>Math.floor(Math.random()*(a-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(a=>e.map(e=>a+" "+e).join("\n")).join("\n")},619348:(e,a,l)=>{"use strict";l.d(a,{DW:()=>i,I:()=>n,oo:()=>t,zI:()=>r});let t=e=>{let a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a&&[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]},n=.18,i=(e,a,l)=>.2126*(e/255)**2.2+.7151*(a/255)**2.2+.0721*(l/255)**2.2,r=e=>{let a=e.replace("#",""),l=parseInt(a.substr(0,2),16);return(299*l+587*parseInt(a.substr(2,2),16)+114*parseInt(a.substr(4,2),16))/1e3<155}},953059:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r,k:()=>t.kH});var t=l(557085),n=l(730212),i=l(785893);let r=({dateFormatType:e,useUTC:a=!0,value:l})=>(0,i.jsx)(n.LC,{children:n=>(0,t.ZP)(n.locale,l,e,a)})},557085:(e,a,l)=>{"use strict";l.d(a,{A5:()=>i,ZP:()=>r,kH:()=>t});let t={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},n=function(e){switch(e){case t.YEAR:return{year:"numeric"};case t.LONG:return{year:"numeric",month:"long",day:"numeric"};case t.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case t.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case t.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case t.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case t.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case t.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case t.MONTH_DAY:return{month:"long",day:"numeric"};case t.SHORT_MONTH:return{month:"short"};case t.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case t.DAY:return{day:"numeric"};case t.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case t.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case t.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case t.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case t.TIME:return{hour:"numeric",minute:"2-digit"};case t.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case t.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function i(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function r(e,a,l,t=!0){let s=n(l);return t&&(s.timeZone="UTC"),i()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(a)}},830997:(e,a,l)=>{"use strict";l.d(a,{g:()=>r,t:()=>i});var t=l(667294);let n=(0,t.createContext)(null),i=n.Provider,r=()=>(0,t.useContext)(n)},887279:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var t=l(785893);let n=(0,t.jsx)("svg",{fill:"none",height:"5",viewBox:"0 0 37 5",width:"37",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("rect",{fill:"#E9E9E9",height:"5",rx:"2.5",width:"37"})})},576449:(e,a,l)=>{"use strict";l.d(a,{Z:()=>d});var t=l(667294),n=l(883119),i=l(279341),r=l(410150);let s=(0,t.createContext)(void 0);var o=l(785893);function d(e){(0,t.useContext)(s),(0,r.ZP)();let{alt:a,borderStyle:l,color:d,children:u,crossOrigin:c,decoding:g,elementTiming:p,fetchPriority:m,fit:h,loading:_,naturalHeight:y,naturalWidth:f,onError:S,onLoad:k,id:x,role:v,sizes:b,src:w,srcSet:P,suppressViewTransitionTags:T,_enableViewTransitions:F,_fixCompletedOnLoad:I}=e;return(0,o.jsx)(i.Z,{_enableViewTransitions:F,borderStyle:l,id:x,imageFit:h,suppressViewTransitionTags:T,type:"image",children:(0,o.jsx)(n.Ee,{_fixCompletedOnLoad:I,alt:a,color:d,crossOrigin:c,decoding:g,elementTiming:p,fetchPriority:m,fit:h,loading:_,naturalHeight:y,naturalWidth:f,onError:S,onLoad:k,role:v,sizes:b,src:w,srcSet:P,children:u})})}},39260:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(297728),n=l(730212),i=l(855746);function r(e){let{isAuthenticated:a}=(0,n.B)(),{expName:l,anyEnabled:r,group:s}=function({experimentsClient:e,handlerId:a,isAuthenticated:l,skipActivation:t}){let{checkExperiment:n}=e,i=n(l?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:t});return i.group?{expName:l?"web_masonry_v2_auth":"web_masonry_v2_unauth",...i}:"www/[username]/[slug].js"!==a||l?"www/pin/[id].js"!==a||l?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...n("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:t})}:{expName:"web_masonry_v2_unauth_board",...n("web_masonry_v2_unauth_board",{dangerouslySkipActivation:t})}}({experimentsClient:(0,t.F)(),handlerId:(0,i.MM)(),isAuthenticated:a,skipActivation:e?.skipActivation??!1});return{expName:l,anyEnabled:r,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},936437:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(967232),n=l(144326),i=l(240760);function r(){let e=(0,n.ZP)();return function(a,l){let n=new Date(a).getTime(),r=Date.now()-n,s=Math.floor(r/t.FS),o=Math.floor(r/t.UK),d=Math.floor(r/t.F4),u=Math.floor(r/t.VL),c=Math.floor(r/t.N9),g=Math.floor(r/t.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', o, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),y=e.ngettext('{{ months }} month ago', '{{ months }} months ago', c, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', g, ' - ', ' -- '),S=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),k=e.ngettext('{{ hours }}h', '{{ hours }}h', o, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ months }}mo', '{{ months }}mo', c, 'months ago abbreviated', 'months ago abbreviated'),w=e.ngettext('{{ years }}y', '{{ years }}y', g, 'years ago abbreviated', 'years ago abbreviated');return g>0?(0,i.nk)(l?w:f,{years:g}).join(""):c>0?(0,i.nk)(l?b:y,{months:c}).join(""):u>0?(0,i.nk)(l?v:_,{weeks:u}).join(""):d>0?(0,i.nk)(l?x:h,{days:d}).join(""):o>0?(0,i.nk)(l?k:m,{hours:o}).join(""):s>0?(0,i.nk)(l?S:p,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},766546:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(667294);function n(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}class i extends t.Component{constructor(...e){super(...e),n(this,"ref",(0,t.createRef)()),n(this,"observer",null),n(this,"handleVisibilityChanged",(e,a)=>{this.props.onVisibilityChange(e,a)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=i},206708:(e,a,l)=>{"use strict";l.d(a,{Rq:()=>i,Vf:()=>r,jd:()=>s,oy:()=>o,yR:()=>c});var t=l(191855),n=l(914896);let i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,s=e=>window.innerHeight>=748&&i(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700),d=()=>{n.t8(t.oj,String(!0),(0,n.kZ)(t.oj))},u=()=>!!n.U2(t.oj),c=()=>{let e=o();e!==u()&&(e?d():n.zN(t.oj.name),"undefined"!=typeof window&&window.location.reload())}},775383:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>d});var t=l(883119),n=l(679482),i=l(206708),r=l(675625),s=l(730212),o=l(785893);let d=({children:e,dataLayoutShiftBoundaryId:a,hasFixedHeader:l=!1,hasGutter:d=!0,height:u,showKeychainError:c=!1,useViewport:g=!1})=>{let p=(0,s.B)(),m=(0,i.jd)(p.userAgent.platform)?i.Vf:0;return(0,o.jsx)(t.xu,{"data-layout-shift-boundary-id":a||"PageContainer",height:g?`calc(100vh - ${m}px)`:u,paddingX:d?n.D6:void 0,paddingY:l||c?void 0:3,children:(0,o.jsx)(r.C,{value:!!d,children:e})})}},675625:(e,a,l)=>{"use strict";l.d(a,{C:()=>i,V:()=>r});var t=l(667294);let n=(0,t.createContext)(!1),i=n.Provider,r=()=>(0,t.useContext)(n)},812477:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i,c:()=>r});var t=l(616550);let n=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/flyup-instant-loading-indicator-app-shell.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/inbox","/install-shuffles","/invited","/jobs","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/quick-lite-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-data","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/verified","/verify","/videos","/web-custom-svg","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function i(e){return!!(0,t.LX)(e.pathname,{path:"/:username/",exact:!0})&&!n.includes(e.pathname.replace(/\/$/,""))}function r(e){return!!(0,t.LX)(e.pathname,{path:"/:username/_created/",exact:!0})}},753652:(e,a,l)=>{"use strict";l.d(a,{Q6:()=>c,ZP:()=>o,le:()=>g,qe:()=>d,yU:()=>u});var t=l(785220),n=l(655201);let i=(e,a)=>e.length===a.length&&e.every((e,l)=>e===a[l]),r=e=>e;function s(e,a=i,l=r){return function(t){let n=[];return function(...i){let r=n.find(e=>a(e.args,l(i)));if(r)return r.result;let s=t(...i);return n.push({args:l(i),result:s}),e&&n.length>e&&n.shift(),s}}}let o=s(),d=s(1),u=s(void 0,i,e=>[JSON.stringify(e)]),c=s(0,(e,a)=>e.length===a.length&&e.every((e,l)=>(0,n.Z)(e,a[l]))),g=s(0,(e,a)=>e.length===a.length&&e.every((e,l)=>(0,t.ZP)(e,a[l])))},178793:(e,a,l)=>{"use strict";function t(e,a,l){return!!(e&&e.trim().length>0&&a&&!l)}l.d(a,{r:()=>t})},26473:(e,a,l)=>{"use strict";function t({embedSrc:e,embedType:a,imagesUrls:l,preferredResolution:t,excludeOriginals:n}){if(!e&&!a&&!l)return"";if("gif"===a)return e||"";if(!l)return"";if(t){let e="474x"===t&&l["474x"]||"236x"===t&&l["236x"]||l["736x"];if(e)return e}let i=Object.keys(l).reduce((e,a)=>{try{let t=a.split("x")[0];if(Number.isNaN(Number(t)))return{...e,[a]:l[a]};return{...e,[t]:l[a]}}catch(a){return e}},{}),r=Object.keys(i);return n&&"orig"===r[r.length-1]&&r.pop(),i[r.pop()]||""}l.d(a,{Z:()=>t})},786890:(e,a,l)=>{"use strict";l.d(a,{eg:()=>r,kt:()=>h,rw:()=>p,fs:()=>u,eK:()=>c,Ly:()=>g,BY:()=>m,bN:()=>_,RC:()=>o,EU:()=>d});let t=/\s\s+/g,n=e=>e.replace(t," ");var i=l(715824);let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),s=e=>"string"==typeof e?e:"",o=({storyPinDataMetadataPinTitle:e,pinTitle:a})=>e||a,d=(e,a)=>e?e.trim().length>a?(0,i.ZP)(e.trim(),a).trim():e.trim():"",u=({pinTitle:e,gridTitle:a,richSummaryDisplayName:l,richMetadataTitle:t,storyPinDataId:n,storyPinDataMetadataPinTitle:i})=>{let r=i||e,s=d(a,200);return s||l||t||(n&&r?r:null)},c=e=>{let{richSummaryDisplayName:a}=e,l=e.pinJoinVisualAnnotation||[],t=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",o=l.map(e=>(t||{})[e]||{name:e,url:""}),d="",u=(a||"").toLocaleLowerCase().trim(),c=r.toLocaleLowerCase().trim(),g=s.toLocaleLowerCase().trim();return s&&s.length>3&&g!==u?d=s:r&&r.length>3&&c!==u&&(d=r),d&&(d=n((0,i.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:o}},g=({pinTitle:e,gridTitle:a,richSummaryDisplayName:l,richMetadataTitle:t,storyPinDataId:n,storyPinDataMetadataPinTitle:i,pinJoinVisualAnnotation:s,seoNoindexReason:o,seoTitle:d})=>r.has(o??"")?d:u({pinTitle:e,gridTitle:a,richSummaryDisplayName:l,richMetadataTitle:t,storyPinDataId:n,storyPinDataMetadataPinTitle:i})||s?.[0]||e,p=(e,a,l,t,n)=>{let i=s(e).trim(),r=(e,a)=>a&&a.length>0?`${e} ${a.join(", ")}`:e;return t&&t.trim().length?r(t.trim(),l):n&&n.trim().length?n.trim():i?r(i,l):l?l.join(", "):""},m=e=>`/pin/${e}/`,h=(e,a)=>{let l=`Pinterest video from ${a}: `.concat(e);return""===a?e:l},_=({pinId:e,seoUrl:a})=>a&&"string"==typeof a?a:m(e)},220797:(e,a,l)=>{"use strict";l.d(a,{Z:()=>s}),l(167912);var t,n=l(47848),i=l(144326);let r=void 0!==t?t:t=l(312296),s=e=>{let a;let l=(0,i.ZP)(),t=(0,n.Z)(r,e),s=t.trackedLink||t.link||t.imageSpec_orig&&t.imageSpec_orig.url,{richMetadata:o,richSummary:d}=t,u=l._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offerSummary&&(u=l._('Product sold by ', 'pin annotation', 'pin annotation'),a=(o.products?.[0]||void 0)?.offerSummary),!a&&d&&d&&d.products&&d.products[0]&&d&&d.products[0].name&&d.products[0].offerSummary&&(u=l._('Product sold by ', 'pin annotation', 'pin annotation')),{pinLink:s,pinCreditPrefix:u,pinTitle:t.closeupUnifiedTitle,pinDescription:t.closeupUnifiedDescription,pinCategory:t.category}}},593078:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r}),l(167912);var t,n=l(47848);let i=void 0!==t?t:t=l(373462),r=e=>{let a=(0,n.Z)(i,e);return[["60x60",a?.imageSpec_60x60],["136x136",a?.imageSpec_136x136],["170x",a?.imageSpec_170x],["236x",a?.imageSpec_236x],["474x",a?.imageSpec_474x],["564x",a?.imageSpec_564x],["736x",a?.imageSpec_736x],["600x315",a?.imageSpec_600x315],["orig",a?.imageSpec_orig]].reduce((e,[a,l])=>l?{...e,[a]:l.url}:e,{})}},947956:(e,a,l)=>{"use strict";function t({hasPin:e,hasPinRichMetadata:a,hasPinRichMetadataProducts:l,hasPinRichMetadataArticle:t,hasPinRichMetadataRecipe:n,hasPinStoryPinData:i}){if(e){if(a)return l?144:t?141:n?145:139;if(i)return 157}return 140}l.d(a,{Z:()=>t})},2968:(e,a,l)=>{"use strict";l.d(a,{Z:()=>t});let t=e=>e.startsWith("enabled")||e.startsWith("employee")},178638:(e,a,l)=>{"use strict";l.d(a,{Z:()=>o});var t=l(667294),n=l(576449),i=l(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,s=(e,a,l)=>{let n=(0,t.useRef)(null),i=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(e!==n.current||l&&l!==i.current){n.current=e;let l=r(e);l?.complete&&a()}i.current=l},[e,a,l])};function o({alt:e,children:a,color:l,elementTiming:t,fetchPriority:r,isActive:o=!1,naturalHeight:d,naturalWidth:u,onLoad:c,src:g,fit:p="none",id:m,srcSet:h,..._}){return s(g,c,o),(0,i.jsx)(n.Z,{..._,alt:e,color:l,elementTiming:t,fetchPriority:r,fit:p,id:m,naturalHeight:d,naturalWidth:u,onLoad:c,src:g,srcSet:h,children:a})}},791773:(e,a,l)=>{"use strict";l.d(a,{Z:()=>t});let t=(0,l(667294).createContext)(null)},708790:(e,a,l)=>{"use strict";l.d(a,{Z:()=>t});let t=(0,l(667294).createContext)(null)},288544:(e,a,l)=>{"use strict";l.d(a,{Z:()=>Z});var t=l(667294),n=l(983272),i=l(630118),r=l(845729),s=l(248750),o=l(353168),d=l(770975),u=l(2171),c=l(201930),g=l(920301),p=l(431771),m=l(142921),h=l(301567);let _=e=>{let a=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,a)=>{let l=a.name.replace(".jpg","").split("/");return{[l[l.length-1]]:{downloadSize:a.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let l=e.src.replace(".jpg","").split("/"),t=l[l.length-1];if(a[t]){let l=h.rZ(e)?.width||1,n=a[t].downloadSize;return{fileName:t,renderedSize:l,downloadedSize:n,ratio:n/l}}return{fileName:t,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let l=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),t=l[l.length-1];if(a[t]&&e instanceof HTMLDivElement){let l=h.rZ(e)?.width||1,n=a[t].downloadSize;return{fileName:t,renderedSize:l,downloadedSize:n,ratio:n/l}}return{fileName:t,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(a=>{let{ratio:l,fileName:t,downloadedSize:n}=a;a.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*l)/10,tags:{fileName:`${n}_${t}`}})})};var y=l(147921),f=l(671481),S=l(730212);let k=(e,a)=>{let l=(0,t.useRef)(a);return{getState:()=>l.current,dispatch:a=>{l.current=e(l.current,a)}}};var x=l(493651),v=l(415787),b=l(785893);let w=["initial_app_load","client_route_push"],P=(0,r.XV)("PwtSurface"),T="NavigationComplete",F="VisuallyComplete",I=(e,a,l,t)=>{let{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:r},annotations:s,binaryAnnotations:o,constraintMap:d,startTime:p,imageTimings:m,isSampled:h,spans:_,traceId:y}=e,f=(0,u.N)({reason:a,annotateExperiments:r,annotations:s,binaryAnnotations:o,constraintMap:d,endTime:l,imageTimings:m,metricId:n,pwtStaticContext:i,startTime:p,traceId:y,spans:_});h&&!t&&(0,g.Z)({metricId:n,pwtStaticContext:i,result:f}),(0,c.D9)()},E=(e,a,l)=>{let{metricConfig:{metricId:t,pwtStaticContext:n,annotateExperiments:r},annotations:d,binaryAnnotations:p,constraintMap:m,startTime:h,imageTimings:y,isSampled:f,spans:S,traceId:k}=e;(0,o.L8)(`PWT_Complete_${(0,i.KJ)(t)}`);let x=(0,u.W)({annotateExperiments:r,annotations:d,binaryAnnotations:p,constraintMap:m,endTime:a,imageTimings:y,metricId:t,pwtStaticContext:n,startTime:h,traceId:k,spans:S});f&&!l&&(0,g.Z)({metricId:t,pwtStaticContext:n,result:x});try{_(String(x.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,c.D9)(),{...e,result:x,status:"DONE"}},A=(e,a)=>{if(e.metricConfig.constraints.every(a=>e.constraintMap[a])){let l=Math.max(...e.metricConfig.constraints.map(a=>e.constraintMap[a]));return E(e,l,a)}return P(`Remaining constraints: ${e.metricConfig.constraints.filter(a=>!e.constraintMap[a]).join(", ")}`),e},C=(e,a)=>{let{constraint:l,time:t,disablePWTLogging:n}=a,r=(0,i.KJ)(e.metricConfig.metricId);return f.Z?e.metricConfig.constraints.find(e=>e===l)?e.constraintMap[l]?(P(`constraint "${l}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:l,action:r}),e):(P(`marking constraint "${l}" as complete ${t||performance.now()}`),t?(0,o.ZP)(`constraint_${l}_is_complete`,t):(0,o.ZP)(`constraint_${l}_is_complete`),A({...e,constraintMap:{...e.constraintMap,[l]:t||f.Z.now()}},n)):(P(`marked constraint "${l}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},K=(e,a)=>{if(!f.Z){let a=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:a})}P(`removing constraint "${a}"`);let l=e.metricConfig.constraints.filter(e=>e!==a),{[a]:t,...n}=e.constraintMap;return A({...e,constraintMap:n,metricConfig:{...e.metricConfig,constraints:l}})},L=(e,a)=>{if(!f.Z){let a=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:a})}P(`updating pwt segment to "${a}"`);let l={...e.metricConfig.metricId,segment:a};return{...e,metricConfig:{...e.metricConfig,metricId:l}}},j=(e,a)=>{let{metricConfig:l,startTime:t,isSampled:n,disablePWTLogging:r}=a;if(r||"TIMING"!==e.status||t===e.startTime||I(e,"routeUpdatedOnSameSurface",f.Z?.now()||0,r),!l)return{status:"DISABLED",metricConfig:null};let o=(0,i.KJ)(l.metricId);return"TIMING"===e.status&&e.startTime===t&&e.constraintMap[T]?((0,s.H)("duplicated_init_route_action",{action:o}),e):(r||("Other"===l.pwtStaticContext.browserName&&!1===l.metricId.isAuthenticated&&"initial_app_load"===l.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.03}))),C({traceId:(0,c.Vd)()||(0,c.ZP)("initial_app_load"===l.metricId.navigationType,l.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:l,startTime:t,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:n,spans:[]},{constraint:T,disablePWTLogging:r}))},O=(e,a)=>{if(P("dispatch action",a),"INIT_ROUTE"===a.type)return j(e,a.payload);if("TIMING"!==e.status)return P(`ignoring action due to invalid state ${e.status}`,a),e;switch(a.type){case"ABORT":I(e,a.reason,f.Z?.now()||0);let l={type:"ABORT",reason:a.reason};return{...e,status:"DONE",result:l};case"ANNOTATE":let{name:t}=a.payload;if(!f.Z)return e;let n=f.Z.now();return P(`adding annotation {${t}: ${n}}`),{...e,annotations:{...e.annotations,[t]:n}};case"BINARY_ANNOTATE":let{name:r,value:o,annotationType:d}=a.payload;return P(`adding binary annotation {${r}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:o,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return C(e,a.payload);case"REMOVE_CONSTRAINT":return K(e,a.payload);case"SET_SEGMENT":return L(e,a.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:l}}=a;if(0===l.length)return I(e,"visuallyComplete_noImages",f.Z?.now()||0),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let t=Math.max(...l.map(e=>e.responseEnd||0));return C({...e,imageTimings:l},{constraint:F,time:t})}case"ADD_SUBSPAN":let{startTime:u}=e,{payload:{name:c,startTime:g,endTime:p,annotations:m,binaryAnnotations:h,parentId:_}}=a;return{...e,spans:[...e.spans,{name:c,id:(0,y.Z)(),startTime:g||u,endTime:p,annotationMap:{...m},binaryAnnotationMap:{...h},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:a.payload.name,id:(0,y.Z)(),startTime:f.Z?f.Z.now():0,endTime:1/0,annotationMap:{...a.payload.annotations},binaryAnnotationMap:{...a.payload.binaryAnnotations},parentId:a.payload.parentId}]};case"STOP_SUBSPAN":let S=e.spans.findIndex(e=>e.name===a.payload.name);return S>-1?(e.spans[S].endTime=f.Z?f.Z.now():0,a.payload.annotations&&(e.spans[S].annotationMap={...e.spans[S].annotationMap,...a.payload.annotations}),a.payload.binaryAnnotations&&(e.spans[S].binaryAnnotationMap={...e.spans[S].binaryAnnotationMap,...a.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:a.payload.name}),e;default:let k=(0,i.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:k}),e}},R=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},D=new Set,M=({surface:e,constraints:a,segment:l,measureGridVisuallyComplete:i,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:o,navigationType:d},sampleRate:u})=>{let c=(0,t.useRef)("NOT_SET"),g=(0,m.Z)(),{getState:p,dispatch:h}=k(O,{status:"DISABLED",metricConfig:null}),_=(0,S.B)();if(c.current!==o&&(c.current=o,g)){let{isAuthenticated:t}=g,n=e&&d&&(s||w).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:t,segment:l},annotateExperiments:r,constraints:[T,...a||[],...i?[F]:[]],pwtStaticContext:g}:null;(0,v.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:t}});let c=!D.has(o);h({type:"INIT_ROUTE",payload:{metricConfig:n,startTime:o?o.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!c}}),c&&D.add(o)}let y=p();if((0,t.useEffect)(()=>()=>{D.delete(o)},[o]),(0,t.useEffect)(()=>{let e=e=>{h({type:"ABORT",reason:e})};n.Z.onSessionPause(e);let a=window.innerHeight,l=window.innerWidth,t=()=>{let e=Math.abs(window.innerHeight-a),n=Math.abs(window.innerWidth-l),i=window.innerHeight!==a,r=window.innerWidth!==l,s={handler:(0,x.H)(),deviceType:g?.deviceType??"unknown",isAuthenticated:g?.isAuthenticated??"unknown",platform:_.userAgent.platform??"unknown"};if((0,v.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:r}}),i&&(0,v.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),r&&(0,v.S0)("webapp.PwtLogger.resizeWidthDelta",n,{sampleRate:1,tags:s}),window.removeEventListener("resize",t),g?.deviceType==="phone"&&(!r&&i&&e<=150||!i&&!r)||g?.deviceType==="desktop"&&!i&&!r){(0,v.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:r}});return}h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{let a=p();P("handling unmount",a),"TIMING"===a.status&&I(a,"unmount",f.Z?.now()||0),n.Z.removePauseListener(e),window.removeEventListener("resize",t)}},[]),"TIMING"!==y.status||!y.constraintMap[T])return{state:y,context:null};let{startTime:b,metricConfig:E}=y;return{state:y,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,a,l)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:a,annotationType:l}}),addSubspan:(e,a,l,t={},n={},i=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:a,endTime:l,annotations:t,binaryAnnotations:n,parentId:i}}),getId:()=>b,getMetricId:()=>E.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:f.Z?f.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:E.constraints.includes(F)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,a={},l={},t=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:a,binaryAnnotations:l,parentId:t}}),stopSubspan:(e,a={},l={},t=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:a,binaryAnnotations:l,parentId:t}})}}},N=()=>{let e=(0,d.E)(),a=!!e;(0,t.useEffect)(()=>{if(a){let a=e?.getMetricId(),l=a?(0,i.KJ)(a):null;(0,s.H)("nested_pwt_surface",{action:l})}},[a])};function Z({children:e,...a}){let l=(0,p.Z)(),t=R(l),n=a.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth","web_fluid_grid_desktop_auth","web_fluid_grid_desktop_unauth"]:[],i=[...a.annotateExperiments??[],...n],{context:r}=M({...a,annotateExperiments:i,navigationInfo:{navigationType:t,clientNavigation:l}});return N(),(0,b.jsx)(d.S,{value:r,children:e})}},829413:(e,a,l)=>{"use strict";l.d(a,{Z:()=>o});var t=l(886132),n=l(667294),i=l(353168),r=l(770975),s=l(142921);function o({children:e,isAtEndOfFeed:a,pinData:l,itemCount:o,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1,isPlaceholderGrid:g}){return s.Z()?.isAuthenticated||(c=!0),(0,t.Z)({pinData:l,isAtEndOfFeed:a,includeBackgroundImages:d,includeVideos:u,includeSections:c,isPlaceholderGrid:g}),!function(e){let a=(0,r.E)(),l=(0,n.useRef)(null);(0,n.useEffect)(()=>{e!==l.current&&(l.current=e,a&&(0,i.ZP)(i.at))},[!!a,e])}(o),e}},886132:(e,a,l)=>{"use strict";l.d(a,{Z:()=>f,v:()=>p});var t=l(667294),n=l(630118),i=l(845729),r=l(301567),s=l(248750),o=l(353168),d=l(770975),u=l(202953),c=l(438973);let g=(0,i.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)(),m=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,h=(e,a)=>{if(!a){let a=(0,r.LM)();if(a===e)return g("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return g("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:a}}return{complete:!0}},_=(e,a)=>{let l=0,t=0,n=0,i=0,r=0;return e=e.filter(e=>"pin"===e.type),a.forEach((a,s)=>{let o;let d=a.fileName.split(".")[0];o=e[s],d!==o?.image_signature&&(o=e.find(e=>d===e?.image_signature)),void 0===o?r+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?n+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?l+=1:o?.videos?.video_list?t+=1:i+=1}),{storyPinCount:l,videoCount:t,adCount:n,imageCount:i,unknownCount:r}},y=(e,a)=>{let l=()=>{window.removeEventListener(e,l),a()};return window.addEventListener(e,l),()=>window.removeEventListener(e,l)};function f({isAtEndOfFeed:e,pinData:a,includeBackgroundImages:l,includeVideos:p=!1,includeSections:f,isPlaceholderGrid:S}){let k=(0,d.E)(),x=k?.getId(),v=k?.setVisuallyCompleteResult,[b,w]=(0,t.useState)({status:"DISABLED"});(0,t.useEffect)(()=>{v?w({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):w({status:"DISABLED"})},[x,v]),(0,t.useEffect)(()=>{if("DISABLED"!==b.status&&(0,o.ZP)(`GridVisuallyCompleteProfiler_${b.status}`),g("new status",b),"LAYOUT"===b.status){let e=y("scroll",()=>{(0,o.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[b.status]),(0,c.Z)(()=>{if(!k||!v)return;let{abort:t,getMetricId:o}=k,d=o(),c=(0,r.cQ)(l,p,f);if(S&&!c.length){g("bypassing PWT run due to skeleton pin grid");return}switch(b.status){case"LAYOUT":{let a=h(b.numOfItemsChecked,e);a.complete?w({status:"TIMING",failedCount:0,pinElements:c}):500*b.failedCount>6e4?((0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),t("visuallyComplete_layoutTimeout"),w({status:"DISABLED"})):w({...b,failedCount:b.failedCount+1,numOfItemsChecked:a.numOfItemsChecked});break}case"TIMING":{let e=(0,u.Cg)(),l=b.pinElements.length,r=[],o=0,c=0,p=0;if(b.pinElements.forEach(({element:a,fileName:l})=>{let t=e.find(e=>e.name.endsWith(l));t?t.responseEnd?(r.push(t),(0,i.v5)(a,"green")):(p+=1,(0,i.v5)(a,"blue")):a instanceof HTMLImageElement&&a.complete?(c+=1,(0,i.v5)(a,"red")):(o+=1,(0,i.v5)(a,"greenyellow"))}),o||p)100*b.failedCount>6e4?((0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:l,incompleteCount:o,noTimingCount:c,noTimingResponseEndCount:p}}),t("visuallyComplete_timingTimeout"),w({status:"DISABLED"})):w({...b,failedCount:b.failedCount+1});else{if(g(`All ${r.length} images are fetched`),a&&a.length){let e=_(a,b.pinElements);Object.entries(e).forEach(([e,a])=>{k.addBinaryAnnotation(e,a,"I16")}),(0,s.A9)(`${(0,n.KJ)(d)}.pinTypes`,{tags:e})}v({imageTimings:r}),w({status:"DISABLED"}),(0,s.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:l,noTimingCount:c}})}}}},m(b))}},431771:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(667294),n=l(791773);function i(){return(0,t.useContext)(n.Z)}},142921:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(667294),n=l(708790);function i(){return(0,t.useContext)(n.Z)}},957486:(e,a,l)=>{"use strict";l.d(a,{Z:()=>s});var t=l(667294),n=l(545007),i=l(809833),r=l(604759);function s(e){let{name:a,optionsKey:l}=e,s=a===i.fY,o=(0,r.bC)(),d=o?.get(a,l);if(d)throw d;let u=e=>e[a]?.[l],c=(0,n.v9)(({resources:e})=>u(e)?.nextBookmark),g=(0,n.v9)(({resources:e})=>u(e)?.data),p=(0,n.v9)(({resources:e})=>u(e)?.auxData),m=(0,n.v9)(({resources:e})=>u(e)?.error),h=(0,t.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(s)return h.current;let _={auxData:p,data:g,error:m,isAtEnd:c===i.qx,nextBookmark:c};return(_.auxData!==h.current.auxData||_.data!==h.current.data||_.error!==h.current.error||_.isAtEnd!==h.current.isAtEnd||_.nextBookmark!==h.current.nextBookmark)&&(h.current=_),h.current}},931397:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(809833),n=l(174044);function i(e){let{enabledRouteRefresh:a,headers:l,name:i,noCache:r,options:s,schema:o}=e??{name:t.fY,options:null},d=!e,{fetchResource:u,ref:c}=(0,n.Z)({enabledRouteRefresh:a,headers:l,name:i,noCache:r,options:s,schema:o},d,!1);return d||u(),c}},873095:(e,a,l)=>{"use strict";l.d(a,{l:()=>i,r:()=>r});var t=l(667294);let n=(0,t.createContext)(null),i=()=>(0,t.useContext)(n),r=n.Provider},728593:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(830997),n=l(873095);let i=()=>{let e=(0,t.g)(),a=(0,n.l)();return l=>{let{mobileOptions:t,desktopOptions:n,reason:i,attributionLabel:r,pinId:s}=l;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:i,attributionLabel:r,...n?.modalOptions}):a&&a.showMobileSignupModal({reason:i,attributionLabel:r,headingType:t?.headingType??"none",pinId:s})}}},794352:(e,a,l)=>{"use strict";function t(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}l.d(a,{Z:()=>t})},715824:(e,a,l)=>{"use strict";l.d(a,{ZP:()=>n,mP:()=>t});let t="…";function n(e,a=80,l=t,i=!1){let r;if(!e)return"";if(e.length<=a)return e;if(" "!==e[a-1]&&" "===e[a]||i)r=e.substring(0,a);else{let l=e.lastIndexOf(" ",a);r=e.substring(0,l)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+l}},51479:(e,a,l)=>{"use strict";l.d(a,{Z:()=>x});var t=l(667294),n=l(883119),i=l(973935);function r(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}class s extends t.Component{constructor(...e){super(...e),r(this,"observer",null),r(this,"handleVisibilityChanged",(e,a)=>{this.props.onVisibilityChange(e,a)})}componentDidMount(){let e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return t.Children.only(this.props.children)}}var o=l(136061),d=l(766546),u=l(297728),c=l(730212),g=l(655201),p=l(616949),m=l(158776),h=l(603667),_=l(66560),y=l(785893);function f(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}class S extends t.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:a,element:l,objectId:t,timeSpentContext:n,view:i,viewParameter:r}=this.props;return{view:i||n?.view,viewParameter:r||n?.viewParameter,component:a||n?.component,element:l,objectId:t||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:a=!1}=this.props;if(a&&e&&e.getGrandparentUuid){let a=e.getGrandparentUuid();if(a)return a}return e&&e.getParentUuid?e.getParentUuid():void 0}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",(e,a)=>{this.setState({timedPair:e},()=>{a&&a()})}),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:a}=e[0],{bottom:l,left:t,right:n,top:i}=e[0].intersectionRect;a>0?this.registerComponent():0===a&&(0===l&&0===t&&0===n&&0===i?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new p.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,g.Z)(e.auxData,this.props.auxData)&&(0,g.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverExpEnabled:a,intersectionObserverBoxHeight:l}=this.props;return a?(0,y.jsx)(m.$,{value:this.getContext(),children:(0,y.jsx)(d.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:a=>(0,y.jsx)(n.xu,{ref:a,height:l??"100%",children:t.Children.only(e)})})}):(0,y.jsx)(m.$,{value:this.getContext(),children:(0,y.jsx)(s,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:t.Children.only(e)})})}}function k(e){let a;let l=(0,o.Hv)(),n=(0,m.Z)(),i=(0,h.Z)(),r=(0,_.H0)(),{requestIdentifier:s="",isAuthenticated:d}=(0,c.B)(),g={app_instance_id:s.slice(0,8),...e.auxData??{}},{checkExperiment:p}=(0,u.F)();return a=d?42!==e.view&&675!==e.view&&p("web_intersection_observer_migration_timespent_auth").anyEnabled:p("web_intersection_observer_migration_timespent_unauth").anyEnabled,(0,t.useEffect)(()=>{i?.setHistoryStackContext(l)},[l,i]),(0,t.useEffect)(()=>{i?.setPins(r??{})},[r,i]),i?(0,y.jsx)(S,{...e,auxData:g,intersectionObserverExpEnabled:a,timeSpentContext:n,timeSpentManager:i,children:e.children}):e.children}k.displayName="DeprecatedTimeSpent";let x=k},158776:(e,a,l)=>{"use strict";l.d(a,{$:()=>t,Z:()=>n});let{Provider:t,useMaybeHook:n}=(0,l(498490).Z)("timeSpentContext")},616949:(e,a,l)=>{"use strict";l.d(a,{Z:()=>s,h:()=>r});var t=l(172045),n=l(17314);function i(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){i(this,"start",()=>(this.startTime=r(),this.startTime)),i(this,"end",()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,t.Z)()}catch(e){this.uuid=(0,n.Z)()}e&&Object.assign(this,e)}}},154785:(e,a,l)=>{"use strict";l.d(a,{Z:()=>d});var t=l(667294),n=l(616550),i=l(282999),r=l(812477),s=l(1006);let o=e=>(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,r.Z)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.Q0)(e)?"videos-category":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":(0,i.f1)(e)?"shopping-root":(0,i.OX)(e)?"shopping-category":"other";function d(){let e=(0,n.TH)();return(0,t.useCallback)(({action:a,item:l,within:t})=>{let n=o(e);(0,s.My)(`logged_out_product.interaction.${n}.${a}`,{item:l||"none",within:t||"none"})},[e])}},946970:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(883119),n=l(785893);function i({ariaHidden:e=!1,color:a="darkGray",size:l}){return(0,n.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,n.jsx)(t.xv,{color:a,inline:!0,size:l??"200",children:"·"})})}},564573:(e,a,l)=>{"use strict";l.d(a,{Z:()=>t});let t=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},414416:(e,a,l)=>{"use strict";function t(e){if((e||"").includes("--")){let a=e.split("--"),l=a.pop();return{text:a.join("--"),pinId:l}}return{text:"",pinId:e}}l.d(a,{Z:()=>t})},438973:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var t=l(667294);let n=(e,a)=>{let l=(0,t.useRef)(()=>{});(0,t.useEffect)(()=>{l.current=e},[e]),(0,t.useEffect)(()=>{if(null===a)return()=>{};let e=setInterval(()=>l.current(),a);return()=>clearInterval(e)},[a])}},346645:(e,a,l)=>{"use strict";l.d(a,{Z:()=>s});var t=l(667294);let n=()=>()=>{},i=()=>!1,r=()=>!0,s=()=>(0,t.useSyncExternalStore)(n,i,r)},164756:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var t=l(667294);let n=()=>{let e=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},689121:(e,a,l)=>{"use strict";function t(e,a){let l=0,t=!1,n=-1;return e.forEach((e,i)=>{let{x:r=0,y:s=0,h:o=0,w:d=0}=e,u=function(e,a){let{x:l,y:t,w:n,h:i}=e,{x:r,y:s,w:o,h:d}=a,u=Math.max(l,r),c=Math.min(l+n,r+o),g=Math.max(t,s),p=Math.min(t+i,s+d),m=u<c&&g<p?(c-u)*(p-g):0;return m/(n*i+o*d-m)}(a,{x:r,y:s,h:o,w:d});u>=.9&&u>l&&(l=u,t=!0,n=i)}),{isCropAreaOnDotArea:t,dotIndexToHide:n}}l.d(a,{Z:()=>t})},811036:(e,a,l)=>{"use strict";function t(e){let a;switch(e){case 1:a=1;break;case 2:a=2;break;case 3:a=3;break;case 4:a=4;break;case 5:a=5;break;case 6:a=6;break;case 9:a=9}return a}l.d(a,{Z:()=>t})},12886:(e,a,l)=>{"use strict";function t({cropSource:e,surfaceType:a,isProductPage:l,queryEntrypoint:t}){return t||("stl"===a&&4===e?"shop_the_look_module":l?"feed_module":null)}l.d(a,{Z:()=>t})},302669:(e,a,l)=>{"use strict";function t(e){return{h:e?.h??void 0,is_stela:e?.isStela??void 0,labelId:e?.labelId??void 0,label_x:e?.labelX??void 0,label_y:e?.labelY??void 0,label:e?.label??void 0,max_annotation_num_documents:e?.maxAnnotationNumDocuments??void 0,score:e?.score??void 0,show_on_closeup:e?.showOnCloseup??void 0,title:e?.title??void 0,w:e?.w??void 0,x:e?.x??void 0,y:e?.y??void 0}}l.d(a,{Z:()=>t})},668564:(e,a,l)=>{"use strict";l.d(a,{X:()=>n,Z:()=>i});var t=l(667294);let n=120;function i(e,a=0,l=n){let[r,s]=(0,t.useState)(e?"active":"inactive");return(0,t.useEffect)(()=>{if(e){if(a){let e=setTimeout(()=>s("active"),a);return()=>{clearTimeout(e)}}s("active")}else{let e=setTimeout(()=>s("inactive"),l);return()=>{clearTimeout(e)}}},[e]),r}},596530:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(883119),n=l(668564),i=l(785893);function r({children:e,fadeInDuration:a=0,fadeOutDuration:l=n.X,visibility:r}){return"none"!==r&&e?(0,i.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:l?`opacity ${l}ms ease`:void 0},visible:{opacity:1,transition:a?`opacity ${a}ms ease`:void 0}}[r]},children:e}):null}},533191:(e,a,l)=>{"use strict";l.d(a,{Z:()=>w}),l(167912);var t,n=l(883119),i=l(488792),r=l(47848),s=l(144326),o=l(297728),d=l(728593),u=l(1006),c=l(154785),g=l(901450),p=l(410150),m=l(969119),h=l(383399),_=l(578406),y=l(934648),f=l(424583),S=l(310368),k=l(55463),x=l(785893);let v=({children:e,pulsar:a,testId:l})=>a.show?(0,x.jsx)(n.xu,{"data-test-id":l,position:"relative",children:(0,x.jsxs)(n.iP,{onTap:a.onClick,tapStyle:"none",children:[(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,x.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(n.o3,{})})]})}):(0,x.jsx)(n.xu,{"data-test-id":l,children:e}),b=void 0!==t?t:t=l(646920);function w({auxData:e,disabled:a,disableLog:l,followEventType:t,id:w,inline:P,invertColors:T,isFollowed:F,isIdeaPin:I,isLegoEnabled:E,isSecondaryButton:A,isUserFollowButton:C,isUserMe:K,onFollow:L,onUnfollow:j,pinKey:O,shouldUseLegoColors:R,showPulsar:D,size:M,textType:N="FollowFollowing",unfollowEventType:Z,viewParameter:z,viewType:U,clientTrackingParams:H}){let V;let B=(0,s.ZP)(),G=(0,p.HG)(),{showToast:W}=(0,g.F9)(),$=(0,c.Z)(),Y=(0,i.Z)(),q=(0,d.Z)(),{checkExperiment:Q}=(0,o.F)(),X=(0,y.Z)(),J=(0,h.Z)(),ee=J&&J.isAuth,{unauthFollowUserId:ea,setUnauthFollowUserId:el}=(0,k.f)(),et=(0,f.mN)()(w),en=et&&{imageMediumUrl:et.image_medium_url,username:et.username},ei=(0,r.Z)(b,O),er=ei?.linkDomain,es=ei?.nativeCreator,eo=ei?.originPinner,ed=ei?.pinner;V=es||(er?er.officialUser:eo||ed);let eu=en??V;(0,m.Z)(()=>{!G&&ee&&ea&&w&&ea===w&&L(w)});let ec=X({fn:()=>{ee?F?(j(w),l||Y({event_type:Z,view_type:U,view_parameter:z,object_id_str:w,aux_data:e,clientTrackingParams:H})):(L(w),C&&W(({hideToast:e})=>{let a=eu?.username?`/${eu.username}/`:"";return(0,x.jsx)(S.Z,{handleHide:e,href:a,imageUrl:eu?.imageMediumUrl||"",text:(0,x.jsx)(n.xv,{lineClamp:4,children:B._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:w})}),l||Y({event_type:t,view_type:U,view_parameter:z,object_id_str:w,aux_data:e,clientTrackingParams:H})):((0,u.NC)(F?"press_profile_unfollow":"press_profile_follow"),$({action:"click",item:F?"unfollow-button":"follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:I?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:G&&Q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!G&&Q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),G||el(w??""),(0,u.NC)("clickthrough"))},modalHeader:(0,_.N4)({i18n:B,toFollow:!F})}),eg=!F&&!!D,ep=()=>{if(K)return B._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===N)return F?B._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):B._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===N?B._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):B._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return F?e:B._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(v,{pulsar:eg?{show:!0,onClick:ec}:{show:!1},testId:K||F?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(n.zx,{accessibilityLabel:ep(),color:R||"AddRemove"===N||!E&&A||T?"gray":"red",disabled:K||a,fullWidth:P,onClick:eg?void 0:({event:a})=>{a.preventDefault(),a.stopPropagation(),l||Y({event_type:101,component:13672,element:11951,object_id_str:w,view_type:U,view_parameter:z,aux_data:e,clientTrackingParams:H}),ec()},selected:F||!1,size:M,text:ep()})})}},343931:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(883119),n=l(144326),i=l(785893);let r=({isInModal:e})=>{let a=(0,n.ZP)();return(0,i.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new t.Ry(1),children:(0,i.jsx)(t.$j,{accessibilityLabel:a._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},339712:(e,a,l)=>{"use strict";l.d(a,{E:()=>t,Z:()=>i});let{Provider:t,useHook:n}=(0,l(498490).Z)("VerticalNav",{width:0}),i=n},210173:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var t=l(339712);function n(){let{width:e}=(0,t.Z)();return e}},410287:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(883119),n=l(785893);function i({children:e,onMouseEnter:a,onMouseLeave:l,onTouch:i,rounding:r,fullWidth:s=!1,pressState:o="none",accessibilityLabel:d,role:u,dataTestId:c}){let g=(Array.isArray(o)?o:[o]).includes("compress");return(0,n.jsx)(t.iP,{accessibilityLabel:d,dataTestId:c,fullWidth:s,onMouseEnter:a&&(({event:e})=>a(e)),onMouseLeave:l&&(({event:e})=>l(e)),onTap:i&&(({event:e})=>i(e)),role:u,rounding:r,tapStyle:g?"compress":"none",children:e})}},65895:(e,a,l)=>{"use strict";l.d(a,{D:()=>t,a:()=>n});let{Provider:t,useMaybeHook:n}=(0,l(498490).Z)("unauthPageWrapperContext")},96405:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(883119),n=l(785893);function i({children:e,additionalStyles:a={}}){return(0,n.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...a}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},462888:(e,a,l)=>{"use strict";l.d(a,{ET:()=>s,UQ:()=>o,dv:()=>d,xZ:()=>c,yh:()=>g});var t,n=l(667294),i=l(498490),r=l(785893);let s={NONE:"NONE",GROUP:"GROUP",SECRET:"SECRET",ARCHIVED:"ARCHIVED"},o={NONE:0,ARCHIVED:1,GROUP:2,SECRET:3},d=((t={}).COLORS="COLORS",t.CREATED_BY_ME="CREATED_BY_ME",t.FAVORITED="FAVORITED",t.FAVORITED_AND_CREATED="FAVORITED_AND_CREATED_BY_ME",t.INTERESTS="INTERESTS",t.NONE="",t),{Provider:u,useMaybeHook:c}=(0,i.Z)("ProfileViewContext");function g({children:e}){let[a,l]=(0,n.useState)(),[t,i]=(0,n.useState)(new Map),[s,o]=(0,n.useState)(),[c,g]=(0,n.useState)(),[p,m]=(0,n.useState)(d.NONE),[h,_]=(0,n.useState)(0),[y,f]=(0,n.useState)(),S=(0,n.useCallback)((e,a)=>{i(new Map(t.set(e,a)))},[t]),k=(0,n.useMemo)(()=>({boardPinDensity:a,boardSortOrder:t,profileBoardView:s,profilePinDensity:c,profileFollowingSelectedIndex:h,selfProfilePinFilter:p,setBoardPinDensity:l,setSelfProfilePinFilter:m,updateBoardSortOrder:S,selfProfileBoardFilter:y,setSelfProfileBoardFilter:f,setProfileBoardView:o,setProfilePinDensity:g,setProfileFollowingSelectedIndex:_}),[a,t,s,c,h,p,y,S]);return(0,r.jsx)(u,{value:k,children:e})}},424583:(e,a,l)=>{"use strict";l.d(a,{Tt:()=>c,cm:()=>u,kW:()=>o,kY:()=>g,mN:()=>d});var t=l(545007),n=l(498490),i=l(383399),r=l(785893);let{Provider:s,useHook:o}=(0,n.Z)("Users");function d(){let e=o();return a=>e[a]}function u(){let e=o();return(a,l=!1)=>{let t=Object.keys(e).find(l=>e[l].username===a);if(t||!l)return e[t??""]}}function c(){let{id:e}=(0,i.Z)();return o()[e??""]}function g({children:e}){let a=(0,t.v9)(({users:e})=>e,t.wU);return(0,r.jsx)(s,{value:a,children:e})}},124747:(e,a,l)=>{"use strict";l.d(a,{G:()=>f,Z:()=>S});var t=l(667294),n=l(883119),i=l(31723),r=l(587435),s=l(679482),o=l(829413),d=l(892205),u=l(410150),c=l(969119),g=l(798920),p=l(995060),m=l(769423),h=l(507830),_=l(367912),y=l(785893);let f=25;function S({customLayoutType:e,getColumnSpanConfig:a,emptyState:l,feedItems:f,feedKey:S,maxColumns:k,minColumns:x,pagination:{hasNext:v,isLoadingNext:b,loadNext:w,refetch:P},pullToRefresh:T,renderFeedItem:F,serverRender:I}){let E=(0,u.HG)(),{experimentalColumnWidth:A,experimentalGutter:C}=(0,r.Z)(),[K,L]=(0,t.useState)(!1),j="userSearch"===e?window.innerWidth-16:200,O=b&&0===f.length&&!K,R="desktopFlashlight"===e?0:s.qG,D=x??2;return"userSearch"===e&&(D=1),(0,c.Z)(()=>(window.addEventListener("online",w),()=>window.removeEventListener("online",w))),(0,y.jsxs)(n.xu,{"data-test-id":"MobileFeed",children:[(0,y.jsx)(p.Z,{enabled:!!T,onPull:()=>{P(),L(!0)},refreshing:K}),(0,y.jsxs)(n.xu,{"data-test-id":"grid",marginEnd:R,marginStart:R,opacity:K?.5:1,children:[(0,y.jsx)(o.Z,{isAtEndOfFeed:!v,itemCount:f.length,children:f.length?(0,y.jsx)(n.xu,{"data-test-id":"feed",marginTop:(0,g.kk)({isDesktop:E}),children:(0,y.jsx)(d.Z.Consumer,{children:e=>(0,y.jsx)(t.Fragment,{children:(0,y.jsx)(_.Z,{children:(0,y.jsx)(i.default,{_getColumnSpanConfig:a,cacheKey:S,columnWidth:E?A??s.yF:j,gutterWidth:E?C??4*s.jC:void 0,id:I?S:void 0,items:f,loadItems:w,maxColumns:k,minCols:D,optOutFluidGridExperiment:null!=k,renderItem:({data:e,itemIdx:a})=>F(e,a),scrollContainerRef:e,serverRender:I})})})})}):b?(0,y.jsx)(m.Z,{}):l??null}),O&&(0,y.jsx)(n.xu,{column:12,paddingY:2,children:(0,y.jsx)(h.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},55463:(e,a,l)=>{"use strict";l.d(a,{f:()=>s,w:()=>o});var t=l(667294),n=l(498490),i=l(785893);let{Provider:r,useHook:s}=(0,n.Z)("Session");function o({children:e}){let[a,l]=(0,t.useState)(void 0),n=(0,t.useCallback)(()=>l(void 0),[]),s=(0,t.useMemo)(()=>({unauthFollowUserId:a,setUnauthFollowUserId:l,removeUnauthFollowUserId:n}),[a,n]);return(0,i.jsx)(r,{value:s,children:e})}},891880:(e,a,l)=>{"use strict";l.d(a,{Z:()=>d});var t=l(667294),n=l(477058),i=l(785220),r=l(49985),s=l(785893);class o extends t.Component{componentDidMount(){let{setCurrentPageData:e,viewData:a,viewParameter:l,viewType:t}=this.props;e({viewData:a,viewParameter:l,viewType:t})}componentDidUpdate(e){let{setCurrentPageData:a,viewData:l,viewParameter:t,viewType:n}=this.props;t===e.viewParameter&&n===e.viewType&&(0,i.ZP)(l,e.viewData)||a({viewData:l,viewParameter:t,viewType:n})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:a,component:l,objectIdStr:t,viewData:n,viewParameter:i,viewType:o,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,clientTrackingParams:d,component:l,objectIdStr:t,viewData:n,viewParameter:i,viewType:o,children:a})}}function d(e){let{setViewContextData:a,clearViewContextData:l}=(0,n.sV)();return(0,s.jsx)(o,{...e,clearCurrentPageData:l,setCurrentPageData:a})}},49985:(e,a,l)=>{"use strict";l.d(a,{Z:()=>o});var t=l(667294),n=l(488792),i=l(1006);let r=e=>Object.keys(e).reduce((a,l)=>(void 0===e[l]&&delete a[l],a),{...e}),s=({viewType:e,viewParameter:a,viewData:l,auxData:t,objectIdStr:n,component:s,clientTrackingParams:o,element:d},u)=>{let c=r({event_type:13,view_type:e,view_parameter:a,view_data:l,aux_data:t,object_id_str:n,component:s,clientTrackingParams:o,element:d});-1===Object.keys(c).indexOf("view_type")&&(0,i.My)("mweb.logging.null_view_type"),u(c)};function o(e){let{auxData:a,clientTrackingParams:l,children:i,component:r,element:o,objectIdStr:d,viewData:u,viewParameter:c,viewType:g}=e,p=(0,n.Z)(),m=JSON.stringify(a),h=JSON.stringify(u);return(0,t.useEffect)(()=>{s(e,p)},[p,m,l,r,o,d,h,c,g]),t.Children.only(i)}},162779:(e,a,l)=>{"use strict";l.d(a,{Z:()=>u});var t=l(667294),n=l(883119),i=l(785893);function r(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:a,imgUrl:l}){let[n,i]=(0,t.useState)({height:0,width:0});if((0,t.useEffect)(()=>{let e=new Image;e.onload=()=>i({height:e.naturalHeight,width:e.naturalWidth}),e.src=l},[l]),!e||!a||!n.height||!n.width)return"center center";let s=n.width-a.width,o=n.height-a.height,d=s>0?r(a.x/s):"center",u=o>0?r(a.y/o):"center";return`${d} ${u}`}function o(e){let a=s(e),{imgUrl:l}=e,t={backgroundImage:`url(${l})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(n.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:t},"data-test-id":"cover-image",children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function d(e){let a=s(e),{alt:l,color:t,imgUrl:r}=e;return(0,i.jsx)(n.zd,{height:"100%",width:"100%",children:(0,i.jsx)("img",{alt:l||"",src:r,style:{backgroundColor:t||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:a,width:"100%"}})})}function u(e){let{renderAsImage:a}=e;return a?(0,i.jsx)(d,{...e}):(0,i.jsx)(o,{...e})}},898773:(e,a,l)=>{"use strict";l.d(a,{Z:()=>p});var t=l(667294),n=l(883119),i=l(144326),r=l(730212),s=l(410150),o=l(140002),d=l(162779),u=l(830807),c=l(785893);let g="100%";function p(e){let a=(0,i.ZP)(),{canEdit:l,containerBackgroundColor:p="white",coverPhoto:m,fullSize:h,hideSecretBoardIcon:_,images:y,isActive:f,isProtected:S,isSecret:k,isTemporarilyDisabled:x,layout:v,onEditClick:b,renderAsImage:w,showSensitivityScreen:P}=e,T=(0,s.HG)(),{isRTL:F,isAuthenticated:I}=(0,r.B)(),E=(0,t.useRef)(null),A=y[0],C=!m&&y[0]?.name||a._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),K=[,,].fill(),L=new n.Ry(1),j="square"===v?o.M0:o.z9,O="square"===v?o.FP:o.FC,R=A?.url?(0,c.jsx)(n.Ee,{alt:C,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:A.url}):(0,c.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"}),D=x||P?{filter:"blur(20px)"}:{};return(0,c.jsx)(n.zd,{height:h?"100%":void 0,rounding:4,wash:f,width:"100%",children:(0,c.jsxs)(n.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,c.jsx)(n.sg,{span:8,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:D},height:h?"100%":void 0,position:"relative",children:(0,c.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:g}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(n.xu,{ref:E,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:p,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(S||k)&&!_&&(0,c.jsx)(n.xu,{left:!F,margin:2,position:"absolute",right:F,top:!0,zIndex:L,children:(0,c.jsx)(u.Z,{backgroundColor:"default",iconColor:"default",privacy:k?"secret":"protected",size:T&&I?32:24})}),m?.url?(0,c.jsx)(d.Z,{customCover:m.isCustom,height:O,imgPos:m.position||{width:0,height:0,x:0,y:0},imgUrl:m.url??"",renderAsImage:w,width:Math.floor(j/3*2)}):R]})})})}),(0,c.jsx)(n.sg,{span:4,children:(0,c.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:D},height:"100%",children:[l&&f&&(0,c.jsx)(n.xu,{bottom:!0,left:F,margin:2,position:"absolute",right:!F,zIndex:L,children:(0,c.jsx)(n.hU,{accessibilityLabel:a._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>b?.(e),size:"sm"})}),K.map((e,a)=>{let l=m?y[a]:y[a+1];return(0,c.jsx)(n.xu,{height:h?"50%":void 0,position:"relative",children:(0,c.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:g}},overflow:"hidden",width:"100%",children:(0,c.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:p,borderStyle:"solid",borderWidth:0===a?1:"0 1px 1px 1px"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:l?.url?(0,c.jsx)(n.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:l.url}):(0,c.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"})})})},a)})]})}),(x||P)&&(0,c.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:x?(0,c.jsx)(n.xu,{maxWidth:188,children:(0,c.jsx)(n.xv,{align:"center",color:"light",size:"200",weight:"bold",children:a._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,c.jsx)(n.X6,{align:"center",color:"light",size:"400",children:a._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},140002:(e,a,l)=>{"use strict";l.d(a,{AC:()=>i,FC:()=>d,FP:()=>s,M0:()=>r,Xq:()=>u,Y_:()=>n,s0:()=>t,sN:()=>c,z9:()=>o});let t=44,n=32,i=52,r=236,s=157,o=320,d=213,u=7,c=["pinterest","pinterest_canada","pinterestuk","pinterestfr","pinterestde","pinterestit","pinterestespana","pinterestaustralia","pinterestindia","pinterestindonesia","pinterestjp","pinterestbr","pinterestmx","pinterestar","beauty","fashion","homedecor","food","inspiration","inspiringideas","aesthetics","shop","art","travel","trends","collages","pinterestpredicts","collagecuration","createjp","criadores","giftguides","indiaslpcuration","indonesiatodaytabcuration","pinterestarabia","pinterestcl","pinterestco","pinterestcreadores","pinterestcreatorsde","pinterestkorea","pinterestmalaysia","pinterestnl","pinterestpe","pinterestphilippines","pinterestpredictsuk","pinterestsingapore","pinterestthailand","pinterestvietnam","predicts","shopbrasil","todaytabbr","todaytabcurationhome","todaytablatam"]},830807:(e,a,l)=>{"use strict";l.d(a,{Z:()=>r});var t=l(883119),n=l(144326),i=l(785893);function r({backgroundColor:e="darkGray",iconColor:a="inverse",iconSize:l,privacy:r,size:s=20}){let o=(0,n.ZP)();return(0,i.jsx)(t.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:s,justifyContent:"center",rounding:"circle",width:s,children:(0,i.jsx)(t.JO,{accessibilityLabel:o._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:a,icon:"secret"===r?"lock":"security",size:l??s/2})})}},115642:(e,a,l)=>{"use strict";l.d(a,{Nb:()=>s,Of:()=>o,YO:()=>r,ZP:()=>c,x4:()=>u});var t=l(667294),n=l(753652),i=l(590045);let r=({showProductDetailPage:e,isLargerPane:a,showCloseupContentRight:l})=>e&&a?l?i.Uj:i.zT:1,s=(0,n.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:a,showCloseupContentRight:l,showProductDetailPage:t,viewportSize:n,maxWidth:i,descriptionPaneWidth:r,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentAttachmentSelectorOpen:d,isCommentThreadExpanded:u,isMediaViewerOpen:c,isPinNoteExpanded:g,isProductDetailsExpanded:p,isShoppingModuleExpanded:m,setIsCommentAttachmentSelectorOpen:h,setIsCommentThreadExpanded:_,setIsMediaViewerOpen:y,setIsPinNoteExpanded:f,setIsProductDetailsExpanded:S,setIsShoppingModuleExpanded:k,closeupWithinMasonryEnabled:x,peekCloseupEnabled:v,isInRemoveMagnifyingGlassVariant:b,setAbortNoActionPlacementTimeout:w,clientTrackingParams:P,isCloseupMediaViewerOpen:T,setIsCloseupMediaViewerOpen:F,calculatedImageHeight:I,setCalculatedImageHeight:E})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:a,showCloseupContentRight:l,showProductDetailPage:t,viewportSize:n,maxWidth:i,descriptionPaneWidth:r,isCommentAttachmentSelectorOpen:d,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentThreadExpanded:u,isCloseupMediaViewerOpen:T,isMediaViewerOpen:c,isPinNoteExpanded:g,isProductDetailsExpanded:p,isShoppingModuleExpanded:m,setIsCommentAttachmentSelectorOpen:h,setIsCommentThreadExpanded:_,setIsCloseupMediaViewerOpen:F,setIsMediaViewerOpen:y,setIsPinNoteExpanded:f,setIsProductDetailsExpanded:S,setIsShoppingModuleExpanded:k,closeupWithinMasonryEnabled:x,peekCloseupEnabled:v,isInRemoveMagnifyingGlassVariant:b,setAbortNoActionPlacementTimeout:w,clientTrackingParams:P,calculatedImageHeight:I,setCalculatedImageHeight:E})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,inCommentFooterRedesignExp:!1,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentAttachmentSelectorOpen:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{}},d=(0,t.createContext)(o);function u(){let e=(0,t.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},827423:(e,a,l)=>{"use strict";l.d(a,{C:()=>t,_:()=>r});let t=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),n=({pathname:e})=>/^\/search\/pins\//.test(e),i=({pathname:e,search:a})=>{let l=/^\/search\/pins\/(\?.*)$/.exec(e),t=(a||l&&l[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return t?decodeURIComponent(t[1]):""},r=e=>{let a=[...e].reverse().find(({location:e})=>e&&!t(e));return a&&a.location&&n(a.location)?i(a.location):""}},590045:(e,a,l)=>{"use strict";l.d(a,{$T:()=>f,CI:()=>r,Ch:()=>o,ER:()=>y,Gb:()=>d,Gg:()=>n,Hf:()=>x,Ie:()=>p,KP:()=>m,Kn:()=>s,O5:()=>S,Uj:()=>u,bx:()=>h,d2:()=>g,g9:()=>_,iB:()=>v,rv:()=>k,u6:()=>i,zT:()=>c});var t=l(883119);let n=508,i=1016,r=488,s=992,o=672,d=1176,u=.6,c=.84,g=40,p=72,m=740,h=912,_=32,y=16,f=24,S=2,k=1,x=new t.Ry(5),v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},941128:(e,a,l)=>{"use strict";l.d(a,{Z:()=>k});var t=l(667294),n=l(883119),i=l(144326),r=l(892726),s=l(178638),o=l(730212),d=l(235838),u=l(410150),c=l(716259),g=l(785893);function p({children:e,isImagePinForUnauthOnTablet:a}){let{isAuthenticated:l}=(0,o.B)();return(0,g.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:a?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!a||void 0,top:!0,zIndex:l?void 0:c.eu,children:[(0,g.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}var m=l(728593),h=l(1006),_=l(154785);function y({setShowClickthroughOverlay:e,isEligibleForPdp:a,isEligibleForDesktopSocialInviteOverlay:l,inviterFirstName:r}){let s=(0,i.ZP)(),o=(0,_.Z)(),d=(0,m.Z)(),c=(0,t.useRef)(),p="desktop"===(0,u.ZP)(),y=r&&l,f=y&&(s._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",r),S=s._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),k=s._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text');return(0,g.jsx)(n.iP,{onMouseEnter:()=>{y&&(0,h.My)("dweb.main_pin.social.wash.view"),(0,h.My)("dweb.pin.wash.view")},onMouseLeave:()=>{y?o({action:"dismiss",item:"main-pin-social-wash"}):o({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{p&&(e.preventDefault(),o({action:"click",item:"pin-image"}),l&&r&&o({action:"click",item:"main-pin-social-wash"}),o({action:"click",item:"main-pin-image-signup-modal"}),d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),a&&o({action:"click",item:"pdp-pin-image"}))},children:(0,g.jsxs)(n.xu,{zIndex:new n.Ry(2),children:[(0,g.jsx)(n.xu,{ref:c,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:l?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,g.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,g.jsx)(n.xu,{marginTop:8,children:(0,g.jsx)(n.X6,{align:"center",color:"light",size:y?"500":"400",children:p?f||S:k})})})}),!p&&(0,g.jsx)(n.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(n.hU,{accessibilityLabel:s._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"cancel",iconColor:"white",onClick:({event:a})=>{a.stopPropagation(),e&&(e(!1),o({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var f=l(696724),S=l(65895);let k=e=>{let a=(0,i.ZP)(),{alt:l,clickthroughOverlayOptions:c,color:m,isFlashlightPage:h,naturalHeight:_,naturalWidth:k,placeholder:x,pwtElementTimingId:v,pwtSurfaceContext:b,setShowClickthroughOverlay:w,showSpinner:P,src:T,stickyFooter:F,isEligibleForPdp:I}=e,E=!(0,r.b)(),{isAuthenticated:A}=(0,o.B)(),C=(0,u.ZP)(),K="desktop"===C,L=(0,t.useRef)(),[j,O]=(0,t.useState)(!E||!!T&&!!x&&x===T),R=(0,t.useRef)(""),D=()=>{b&&b.markConstraintComplete("PinPageMainImageRendered")};(0,t.useEffect)(()=>{let e=new Image;e.onload=()=>O(!0),e.src=T},[]);let M=(0,t.useRef)(S.a()?.setHasScrolledPastMainContent);(0,t.useEffect)(()=>{let e=(0,d.Z)(()=>{if(L.current){let a=window.scrollY>L.current.offsetTop+L.current.offsetHeight;M.current?.(a),a&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[N,Z]=(0,t.useState)();(0,t.useEffect)(()=>{L.current&&Z(L.current.scrollHeight)},[]);let z=!h&&"tablet"===C,U=E?(0,g.jsx)(s.Z,{alt:l,color:m,elementTiming:v,naturalHeight:_,naturalWidth:k,onLoad:D,src:x}):null;return(0,g.jsxs)(n.xu,{ref:L,"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===C?f.g6:void 0,minHeight:N,overflow:F?void 0:"hidden",position:"relative",rounding:h||"phone"===C?0:6,width:h||"phone"===C?"100%":K?508:f.Hg,children:[!A&&c&&(0,g.jsx)(p,{isImagePinForUnauthOnTablet:!1,children:(0,g.jsx)(y,{inviterFirstName:R.current,isEligibleForPdp:I,setShowClickthroughOverlay:w})}),U&&(z?(0,g.jsx)(n.xu,{overflow:"hidden",rounding:6,children:U}):U),(0,g.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:j?1:0,transition:j&&!K?"opacity .5s ease-in-out":void 0,backgroundColor:m}},left:!0,overflow:z?"hidden":void 0,position:E?"absolute":"relative",right:!0,rounding:z?6:5,top:!0,children:E?(0,g.jsx)(n.Ee,{alt:l,naturalHeight:_,naturalWidth:k,src:T}):(0,g.jsx)(s.Z,{alt:l,color:m,elementTiming:v,naturalHeight:_,naturalWidth:k,onLoad:D,src:T})}),P&&(0,g.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:j?0:1,transition:j?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!j&&(0,g.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(n.$j,{accessibilityLabel:a._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),F]})}},598259:(e,a,l)=>{"use strict";l.d(a,{O:()=>p,Z:()=>m});var t=l(667294),n=l(616550),i=l(883119),r=l(144326),s=l(812477),o=l(297728),d=l(635258),u=l(827423),c=l(785893);let g={xs:12,sm:16,md:20,lg:24};function p({children:e}){let a=(0,r.ZP)();return(0,c.jsx)(i.u,{link:(0,c.jsx)(i.rU,{href:d.vBy,target:"blank",children:(0,c.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:a._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:a._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function m({iconOnly:e,isVerifiedIdentity:a,isVerifiedMerchant:l,showText:d,size:m,surface:h}){let _=(0,r.ZP)(),{checkExperiment:y}=(0,o.F)(),f=(0,n.TH)(),S=(0,s.Z)(f)||(0,s.c)(f),k=(0,u.C)(f),x=(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(i.JO,{accessibilityLabel:_._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:g[m]}),d&&(0,c.jsx)(i.xu,{marginStart:2,children:(0,c.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:_._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]}),v=(0,c.jsxs)(t.Fragment,{children:[l&&!e&&(0,c.jsx)(p,{children:x}),l&&e&&x,a&&!l&&(0,c.jsx)(i.JO,{accessibilityLabel:_._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:g[m]})]});if(k||"SuggestionReps"===h||S)return v;if((a||l)&&!k&&"enabled_att_trusted_merchants_and_verified_creators_only"===y("simplify_creator_attributions_web").group)return(0,c.jsx)(t.Fragment,{});let{group:b}=y("simplify_creator_attributions_web");switch(b){case"enabled_att_trusted_merchant_blue_checkmark":return(0,c.jsxs)(t.Fragment,{children:[l&&!e&&(0,c.jsx)(p,{children:x}),l&&e&&x]});case"enabled_att_creators_with_red_checkmarks":return(0,c.jsx)(t.Fragment,{children:a&&!l&&(0,c.jsx)(i.JO,{accessibilityLabel:_._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:g[m]})});default:return v}}},810655:(e,a,l)=>{"use strict";l.d(a,{A:()=>r,Z:()=>s});var t=l(667294),n=l(883119),i=l(785893);let r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:a,coverImage:l,disableTabIndex:s,height:o,id:d,isHovered:u,onClick:c,onMouseDown:g,onMouseEnter:p,onMouseLeave:m,searchBoxRenderStopwatch:h,url:_,width:y}){let[f,S]=(0,t.useState)(!1),k=()=>{p?p():S(!0)},x=()=>{m?m():S(!1)},v=u||f,b=v?r.hoverOverlay:r.bubbleOverlay;return(0,i.jsx)(n.Tg,{href:_,onBlur:x,onFocus:k,onMouseDown:g,onMouseEnter:k,onMouseLeave:x,onTap:()=>{c?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,i.jsx)(n.zd,{height:o,rounding:4,width:y||"100%",children:l?.url?(0,i.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:l.height??1,naturalWidth:l.width??1,onLoad:()=>{h?.stop()},role:"presentation",src:l.url,children:[(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:b},height:"100%",width:"100%"}),"function"==typeof a?a({isHovered:v}):a]}):(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},809079:(e,a,l)=>{"use strict";l.d(a,{Z:()=>eF});var t,n,i,r,s,o,d=l(667294);l(167912);var u=l(616550),c=l(883119),g=l(47848),p=l(289762),m=l(144326),h=l(297728),_=l(961754),y=l(414416),f=l(847452),S=l(767552),k=l(39929),x=l(559028),v=l(240760),b=l(1006),w=l(785893);let P=void 0!==t?t:t=l(214172),T=()=>{(0,b.NC)("click_best_pin_board",!0)},F=()=>{(0,b.NC)("click_best_pin_profile",!0)},I=({pin:e})=>{let{pinner:a}=e,{username:l,fullName:t}=a??{},n=a?.imageMediumUrl||a?.imageSmallUrl,i=`/${l??""}/`;return(0,w.jsx)(c.Tg,{fullWidth:!1,href:i,onTap:F,rounding:"circle",children:(0,w.jsx)(x.qE,{name:t??"",outline:!0,size:"sm",src:n??""})})},E=({pin:e})=>{let a=(0,m.ZP)(),{board:l,pinner:t}=e,{name:n,privacy:i,url:r}=l??{},s=l?.entityId||"",{username:o,fullName:d}=t??{},u=`/${o??""}/`,g=(0,w.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,w.jsx)(c.rU,{display:"inlineBlock",href:u,onClick:F,underline:"hover",children:d})},d);return"protected"===i?(0,v.nk)(a._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:g}):(0,v.nk)(a._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:g,boardName:(0,w.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,w.jsx)(c.rU,{href:r??"",onClick:T,children:n},"board")},s)})},A=({pinKey:e})=>{let a=(0,g.Z)(P,e);return(0,w.jsxs)(c.xu,{alignItems:"center","data-test-id":"pin-attribution",direction:"row",display:"flex",marginTop:3,children:[(0,w.jsx)(I,{pin:a}),(0,w.jsx)(c.xu,{marginEnd:2}),(0,w.jsx)(c.xv,{size:"200",children:(0,w.jsx)(E,{pin:a})})]})},C=e=>{e.target&&e.target instanceof HTMLElement&&(e.target.style.textDecoration="underline")},K=e=>{e.target&&e.target instanceof HTMLElement&&(e.target.style.textDecoration="none")};var L=l(488792);function j({pageType:e,pinCreditPrefix:a,pin:l,pinLink:t,viewParameter:n}){let i=(0,m.ZP)(),r=(0,L.Z)();if("topic"!==e.page&&(!l.domain||"Uploaded by user"===l.domain))return null;let s="topic"!==e.page||e.isAuth?"100":"200",o="topic"===e.page&&!!l.nativeCreator,d=o?l.nativeCreator?.fullName:l.domain;return(0,w.jsx)(c.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,w.jsx)(c.rU,{display:"inlineBlock",href:o?`/${l.nativeCreator?.username||""}/`:t,onClick:()=>{"topic"===e.page?(0,b.NC)("click_topic_best_pin_link"):r({event_type:12,view_type:3,object_id_str:l.entityId,component:85,view_parameter:n})},rel:"nofollow",target:"blank",underline:"hover",children:(0,w.jsx)(c.xv,{size:s,children:(0,v.nk)(i._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:a,pinCredit:(0,w.jsx)(c.xv,{inline:!0,size:s,weight:"bold",children:"topic"!==e.page?(0,w.jsxs)("span",{onBlur:K,onFocus:C,onMouseLeave:K,onMouseOver:C,children:[" ",l.domain]}):d},o?"creatorProfile":"pinLinkDomain")})})})})}var O=l(953059),R=l(357013),D=l(26473),M=l(178793),N=l(786890),Z=l(220797),z=l(593078),U=l(947956),H=l(756222),V=l(302749);let B=void 0!==n?n:n=l(206146);function G({recipeKey:e}){let a=(0,g.Z)(B,e);if(a?.aggregateRating?.ratingValue&&a.aggregateRating.reviewCount){let e="number"==typeof a.cookTimes?.cook?.m&&"number"==typeof a.cookTimes.prep?.m?`${a.cookTimes.cook.m+a.cookTimes.prep.m} minutes \xb7 `:"";return(0,w.jsxs)(d.Fragment,{children:[(0,w.jsx)(V.Z,{max_rating:a.aggregateRating.bestRating,rating:a.aggregateRating.ratingValue},a.aggregateRating.ratingValue),(0,w.jsx)(c.xv,{inline:!0,size:"200",children:` ${a.aggregateRating.reviewCount} \xb7 ${e}`})]})}return null}var W=l(730212);let $=void 0!==i?i:i=l(727128),Y=e=>{let a=null;e.lastRepinDate&&(a=new Date(e.lastRepinDate));let l=null;return(e.createdAt&&(l=new Date(e.createdAt)),a)?l?a>l?a:l:a:l},q=e=>{let a="";if(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished)return a;let l=Y(e);if(l&&l.getFullYear()===new Date().getFullYear()){let t=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:n}=e;t.has(n)&&(a=l?(0,w.jsx)(O.Z,{dateFormatType:O.k.LONG_MONTH_YEAR,useUTC:!1,value:l}):"")}return a},Q=e=>!!(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished),X=(e,a)=>{let l=new Date((e.richMetadata??{}).article?.datePublished??Date.now()),t=l.getTime(),n=new Date().getTime();return null==a||n-t<=31536e6*a?(0,w.jsx)(O.Z,{dateFormatType:O.k.LONG_MONTH_YEAR,useUTC:!1,value:l}):""};function J(e){let{pinKey:a,viewportSize:l,pageType:t}=e,n=(0,g.Z)($,a),{pinCreditPrefix:i,pinLink:r}=(0,Z.Z)(n),s=(0,z.Z)(n),{description:o}=(0,N.eK)({richMetadataDescription:n.richMetadata?.description,richSummaryDisplayName:n.richSummary?.displayName,closeupUnifiedDescription:n.closeupUnifiedDescription});"videos_category"===t.page&&(o=(0,N.kt)(o,n.nativeCreator?.username||""));let d="wide"===l,u=(0,N.Ly)({pinTitle:n.title,gridTitle:n.gridTitle,richSummaryDisplayName:n.richSummary?.displayName??"",richMetadataTitle:n.richMetadata?.title??"",storyPinDataId:n.storyPinDataId,storyPinDataMetadataPinTitle:n.storyPinData?.metadata?.pinTitle,pinJoinVisualAnnotation:n.pinJoin?.visualAnnotation});(n.gridTitle||"").trim()&&u!==n.gridTitle&&(u=(0,N.EU)(n.gridTitle,200));let p=(0,M.r)(n.richMetadata?.recipe?.name,!!n.richMetadata?.recipe?.categorizedIngredients,n.richMetadata?.recipe?.fromAggregatedData??!1)?n.richMetadata?.recipe:null,m=Q(n)&&X(n,2),h=q(n)||m,{isBot:_,isSocialBot:y}=(0,W.B)();return(0,w.jsx)(c.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",flex:"grow",padding:8,position:"relative",width:"100%",children:(0,w.jsxs)(c.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",children:[(0,w.jsx)(j,{pageType:t,pin:{entityId:n.entityId,domain:n.domain||"",nativeCreator:n.nativeCreator&&{fullName:n.nativeCreator.fullName,username:n.nativeCreator.username}},pinCreditPrefix:"topic"===t.page&&n.nativeCreator?"Created by":i,pinLink:r??"",viewParameter:(0,U.Z)({hasPin:!0,hasPinRichMetadata:!!n.richMetadata,hasPinRichMetadataProducts:!!n.richMetadata?.products,hasPinRichMetadataArticle:!!n.richMetadata?.article,hasPinRichMetadataRecipe:!!n.richMetadata?.recipe,hasPinStoryPinData:!!n.storyPinData})}),(0,w.jsx)(c.kC,{direction:"row",justifyContent:"between",children:(0,w.jsx)(c.xu,{display:"flex",marginEnd:d?0:3,marginTop:d?3:0,overflow:"hidden",children:u&&(0,w.jsx)("h2",{"data-test-id":"UnauthBestPinCardTitle",style:{fontWeight:600,fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:u})})}),h?(0,w.jsx)(c.xu,{marginTop:1,children:(0,w.jsx)(c.xv,{color:"subtle",children:h})}):null,o&&(0,w.jsx)(c.xu,{display:"flex",marginTop:3,overflow:"hidden",children:(0,w.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[p&&(0,w.jsx)(G,{recipeKey:p}),o]})}),p&&(0,w.jsx)(H.Z,{marginOverrides:p?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:p.categorizedIngredients,name:p.name,image:(0,D.Z)({imagesUrls:s,embedSrc:n.embed?.src,embedType:n.embed?.type,excludeOriginals:!_&&!y})}}}),(0,w.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginTop:2,children:[(0,w.jsx)(A,{pinKey:n}),(0,w.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:!n.repinCount||n.repinCount<1?null:(0,w.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(c.JO,{accessibilityLabel:"Pin",color:"subtle",icon:"pin",size:12}),(0,w.jsx)(c.xv,{color:"default",inline:!0,size:"100",children:(0,w.jsx)(R.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n.repinCount})})]})})]})]})})}var ee=l(409416),ea=l(219867),el=l(282999),et=l(488379),en=l(51479),ei=l(154785),er=l(499068),es=l(868808),eo=l(969119),ed=l(74264),eu=l(665992),ec=l(122882),eg=l(472921),ep=l(682661),em=l(919122),eh=l(124747);let e_=0,ey="",ef=void 0!==r?r:r=l(407303);function eS(e){let{imageSpec_564x:a,imageSpec_orig:l,imageSignature:t}=e,n=a&&l,{url:i}=n??{},r=n?.width??1,s=n?.height??void 0;return"number"==typeof r&&"number"==typeof s&&r>564&&(s*=564/r,r=564),{width:r,height:s,url:i,imageSignature:t}}let ek=({data:e,index:a,viewParameter:l,productsURL:t})=>{switch(e.type){case"pin":return(0,w.jsx)(ep.ZP,{duploQueryRef:null,pinId:e.id,slotIndex:a,viewParameter:l,viewType:72});case"story":return t&&(0,w.jsx)(k.Z,{dangerouslySetActionUrl:t,slotIndex:a,story:e});default:return null}},ex=({resourceOptions:e})=>{let a=(0,m.ZP)(),{data:l,isAtEnd:t,isFetching:n,fetchMore:i}=(0,_.Z)({name:"VisualLiveSearchResource",options:e}),r=(0,u.TH)(),s=`${r.pathname}products/${r.search}`;return(0,w.jsxs)(d.Fragment,{children:[l&&(0,w.jsx)(eh.Z,{customLayoutType:"desktopFlashlight",feedItems:l.results||[],feedKey:"flashlight-dweb-unauth",pagination:{loadNext:i,hasNext:t,isLoadingNext:n,refetch:()=>void 0},renderFeedItem:(e,a)=>ek({data:e,index:a,viewParameter:3050,productsURL:s})}),(0,w.jsx)(c.$j,{accessibilityLabel:a._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:n})]})},ev=({resourceOptions:e})=>{let a=(0,m.ZP)(),{data:l,isAtEnd:t,isFetching:n,fetchMore:i}=(0,_.Z)({name:"VisualLiveSearchProductFeedResource",options:e});return(0,w.jsxs)(d.Fragment,{children:[l&&(0,w.jsx)(eh.Z,{customLayoutType:"desktopFlashlight",feedItems:l||[],feedKey:"flashlight-products-dweb-unauth",pagination:{loadNext:i,hasNext:t,isLoadingNext:n,refetch:()=>void 0},renderFeedItem:(e,a)=>ek({data:e,index:a,viewParameter:3334})}),(0,w.jsx)(c.$j,{accessibilityLabel:a._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:n})]})};function eb({pinKey:e}){let a=(0,m.ZP)(),{isRTL:l}=(0,W.B)(),t=(0,L.Z)(),n=(0,u.k6)(),i=(0,u.TH)(),r=(0,d.useRef)(),s=(0,u.$B)(),o=(0,ei.Z)(),{pinId:p}=(0,y.Z)(s.params.id||""),h=(0,es.mB)(i.search),_=(0,S.Z)(i),k=function(e){let a=parseInt(e??"",10);switch(a){case 1:case 2:case 3:case 4:case 5:case 6:return a;default:return}}(h.cropSource),x=(0,el.hd)(i),v=(0,g.Z)(ef,e),{getNormalizedPinImage:b}=(0,et.Z)({pinKey:v});if((0,d.useEffect)(()=>{if(!_&&v){let{width:e,height:a}=b(),l=(0,eg.Z)({cropArea:{h:a-2*ee.SP,w:e-2*ee.SP,x:ee.SP,y:ee.SP},isProductPage:x,pinId:p,surfaceType:"flashlight"});n.replace(l)}},[b,n,_,x,v,p]),(0,eo.Z)(()=>{t({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:p}})}),(0,d.useEffect)(()=>{let e=r.current;return e&&ey===p&&(e.scrollTop=e_),()=>{e&&(e_=e.scrollTop,ey=p)}}),!v)return(0,w.jsx)(en.Z,{objectId:"",view:72,children:(0,w.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{top:er.Pw}},position:"relative",children:(0,w.jsx)(c.$j,{accessibilityLabel:a._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})});let{imageSignature:P,description:T}=v,{width:F,height:I,url:E}=eS(v),A=function({initialCropArea:e,pin:a}){let l;if(e)l={...e};else{let{visualObjects:e}=a,{width:t=1,height:n=1}=eS(a);if(e&&e.length){let{x:a,y:i,w:r,h:s}=e[0];l=(0,eu.Z)({cropArea:{x:a,y:i,w:r,h:s},scaledWidth:t,scaledHeight:n})}else{let[e,a]=[t/6,n/6],[i,r]=[t-2*e,n-2*a];l={x:e,y:a,w:i,h:r}}}return{x:Math.floor(l.x??0),y:Math.floor(l.y??0),w:Math.floor(l.w??0),h:Math.floor(l.h??0)}}({initialCropArea:_,pin:v}),C=i.state&&i.state.internalNavigation,K=F+f.n,j=(K??1)+24,O={pin_id:p,imageSignature:P,crop:(0,ed.Z)({cropArea:A,scaledWidth:F,scaledHeight:I}),crop_source:k||5},R={__style:{top:140}};return(0,w.jsx)(en.Z,{objectId:"",view:72,children:(0,w.jsxs)(d.Fragment,{children:[(0,w.jsxs)(c.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{top:80}},display:"flex",height:60,position:"fixed",width:"100%",zIndex:new c.Ry(4),children:[(0,w.jsx)(c.xu,{left:!0,position:"absolute",children:(0,w.jsx)(em.Z,{})}),(0,w.jsx)(c.xu,{flex:"grow",children:(0,w.jsx)(c.X6,{align:"center",size:"400",children:x?a._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):a._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})})]}),x?(0,w.jsx)(c.xu,{dangerouslySetInlineStyle:R,position:"relative",children:(0,w.jsx)(ev,{resourceOptions:O})}):(0,w.jsxs)(c.xu,{display:"flex",paddingX:12,children:[(0,w.jsxs)(c.xu,{ref:r,dangerouslySetInlineStyle:R,height:"calc(100% - 140px)",marginEnd:3,marginStart:3,overflow:"auto",position:"fixed",width:K,zIndex:new c.Ry(4),children:[(0,w.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{width:F,height:I}},"data-test-id":"flashlight-enabled-image",children:(0,w.jsxs)(c.zd,{height:I,rounding:2,width:F,children:[(0,w.jsx)(c.Ee,{alt:T??"",naturalHeight:I??1,naturalWidth:F??1,src:E??""}),(0,w.jsx)(ea.Z,{cropArea:A,customCropper:function({cropArea:e,cropSource:a}){let l=window.location.pathname+window.location.search,t=(0,eg.Z)({cropArea:e,cropSource:a??6,isProductPage:x,pinId:p,surfaceType:"flashlight"});o({action:"trigger",item:"cropper-changed",within:"flashlight-page"}),t!==l&&p&&n.replace({pathname:`/pin/${p}/visual-search/`,search:(0,ec.Z)({cropArea:e,cropSource:a??6,surfaceType:"flashlight"}),state:{internalNavigation:!0}})},imageSignature:P??void 0,imageSize:{height:I,width:F},pinKey:v,showAnimation:!C,surfaceType:"flashlight",viewParameter:3050,viewType:72})]})}),(0,w.jsx)(c.xu,{"data-test-id":"closeupDescription",direction:"column",display:"flex",margin:5,maxWidth:F??1,position:"relative",children:(0,w.jsx)(J,{pageType:{isAuth:!1,page:"flashlight"},pinKey:v,viewportSize:"narrow"})})]}),(0,w.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...R.__style,...l?{marginRight:`${j}px`}:{marginLeft:`${j}px`}}},position:"relative",width:"100%",children:(0,w.jsx)(ex,{resourceOptions:O})})]})]})})}let ew=void 0!==s?s:s=l(925517),eP=void 0!==o?o:o=l(572394);function eT(){let{checkExperiment:e}=(0,h.F)(),a=(0,u.$B)(),{pinId:l}=(0,y.Z)(a.params.id||""),t=e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled,n=(0,p.Z)({strategy:t?"GRAPHQL":"LEGACY",query:eP,variables:{pinId:l},useGetLegacyData:({pinId:e})=>(0,_.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}}).data}),i=n?.v3GetPinQuery?.__typename==="V3GetPin"?n.v3GetPinQuery.data:null,r=(0,g.Z)(ew,i);return(0,w.jsx)(eb,{pinKey:r})}function eF(){let e=(0,m.ZP)();return(0,w.jsx)(d.Suspense,{fallback:(0,w.jsx)(c.$j,{accessibilityLabel:e._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:(0,w.jsx)(eT,{})})}},696724:(e,a,l)=>{"use strict";l.d(a,{$K:()=>r,Hg:()=>n,g6:()=>i,w6:()=>t});let t=(e,a)=>Array.from({length:a-e},(a,l)=>l+e),n=508,i=600;function r(e){return null!=e}},578406:(e,a,l)=>{"use strict";l.d(a,{N4:()=>i,Wh:()=>t,hr:()=>n});let t=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=({i18n:e,toFollow:a})=>a?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},934648:(e,a,l)=>{"use strict";l.d(a,{Z:()=>s});var t=l(144326),n=l(410150),i=l(754143),r=l(578406);let s=()=>{let e=(0,t.ZP)(),a=(0,n.HG)(),{viewer:l,loginForMore:s,limitedLoginModalSubheader:o,limitedLoginModalNextLocation:d}=(0,i.H)();return"LIMITED_LOGIN"===l.type?({modalHeader:l,nextLocation:t})=>n=>{let i=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?i=n:n.event&&(i=n.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),s?.setVisible(!0),o?.setText(l||(a?r.hr(e):r.Wh(e))),t&&d?.setRoute(t)}:({fn:e})=>e}},211397:(e,a,l)=>{"use strict";l.d(a,{Z:()=>g});var t=l(667294),n=l(545007),i=l(656817),r=l(297728),s=l(786974),o=l(468808),d=l(535298),u=l(212602),c=l(989386);function g(){let{checkExperiment:e}=(0,r.F)(),a=(0,n.I0)(),l=(0,t.useRef)(),{width:g=0,height:p=0}=(0,i.Z)()??{};return({url:t})=>(function({appliedUnifiedFilters:e,checkExperiment:a,dispatch:l,optionsKeyRef:t,isAuthenticated:n=!0,isDesktop:i=!0,url:r,windowHeight:g,windowWidth:p}){let m=new URL(r.startsWith("http")?r:`${window.location.origin}${r}`),h=m.pathname.split("/");if(4!==h.length||"search"!==h[1])return;let{search:_}=m,y=h[2],{autoCorrectionDisabled:f,bubbleId:S,category:k,currentlyAppliedFiltersParamTerm:x,domains:v,guidedSearchQuery:b,inGlobalSearch:w,journeyDepth:P,personalizationPinSig:T,priceMax:F,priceMin:I,query:E,requestParams:A,rs:C,scope:K,selectedOneBarModules:L,sourceId:j,sourceModuleId:O,user:R}=(0,c.Z)({isDesktop:i,scope:y,search:_}),D=(0,u.Z)({checkExperiment:a,isAuthenticated:n,isDesktop:i,scope:K,windowHeight:g,windowWidth:p}),M=a("dweb_search_dynamic_page_size",{dangerouslySkipActivation:!0}).group,N=(0,d.Z)({appliedUnifiedFilters:e,autoCorrectionDisabled:f,bubbleId:S,currentlyAppliedFiltersParamTerm:x,dynamicPageSizeExpGroup:M,guidedSearchQuery:b,inGlobalSearch:w,initialCategory:k,initialDomains:v,initialMaxPrice:F,initialMinPrice:I,isDuplo:!n||!i,journeyDepth:P,pageSize:D,personalizationPinSig:T,query:E,requestParams:A,rs:C,scope:K,search:_,selectedOneBarModules:L,sourceId:j,sourceModuleId:O,sourceUrl:r,user:R}),Z=(0,s.Z)(N);t.current!==Z&&(t.current=Z,l((0,o.U)(N.name,{options:N.options},null)))})({checkExperiment:e,dispatch:a,optionsKeyRef:l,url:t,windowHeight:p,windowWidth:g})}},635970:(e,a,l)=>{"use strict";l.d(a,{Z:()=>al});var t,n,i,r,s,o,d,u,c,g,p,m,h=l(667294);l(167912);var _=l(616550),y=l(883119),f=l(602185),S=l(47848),k=l(289762),x=l(144326),v=l(297728),b=l(957486),w=l(931397),P=l(414416),T=l(343931),F=l(767552),I=l(409416),E=l(488379),A=l(691566);let C=void 0!==t?t:t=l(478976);var K=l(868808),L=l(811036),j=l(12886),O=l(74264),R=l(425423),D=l(961754),M=l(847452),N=l(573706),Z=l(136061),z=l(785893);function U({arrowType:e,pinId:a,viewParameter:l,viewType:t}){let n=(0,x.ZP)(),i=(0,_.k6)(),{previous:r}=(0,Z.Hv)(),{logContextEvent:s}=(0,N.v)();return(0,z.jsx)(y.xu,{"data-test-id":"go-back-button",children:(0,z.jsx)(y.hU,{accessibilityLabel:n._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:e??"directional-arrow-left",iconColor:"darkGray",onClick:()=>{if(s({event_type:101,view_type:t,element:34,view_parameter:l}),0===r.length){i.replace(`/pin/${a}/`);return}i.goBack()}})})}var H=l(732533),V=l(635284),B=l(730212),G=l(547007);function W({buttonText:e,handleDrawerClose:a,isDrawerOpen:l,onClick:t,largeSize:n=!1,reversed:i=!1,invertWhenDrawerIsOpen:r=!1,hasProductFiltersApplied:s=!1}){let o=(0,x.ZP)(),d=r&&l,u=(0,z.jsx)(y.JO,{accessibilityLabel:"",color:d?"light":"dark",icon:"filter"},"filterIcon"),c=e&&(0,z.jsx)(y.xv,{align:"center",color:d?"inverse":"default",weight:"bold",children:e},e);return(0,z.jsx)(y.iP,{accessibilityLabel:o._('Filter', 'productsFilterButton', 'Button to filter products results'),onTap:()=>{l?a():t()},rounding:"pill",children:(0,z.jsxs)(y.xu,{position:"relative",children:[(0,z.jsx)(y.xu,{alignContent:"center",color:d?"dark":"secondary",dangerouslySetInlineStyle:n?{__style:{padding:"18px"}}:void 0,display:"flex",justifyContent:"center",minHeight:40,paddingX:4,rounding:"pill",children:(0,z.jsx)(y.kC,{alignItems:"center",gap:{row:2,column:0},children:i?[c,u]:[u,c]})}),s&&(0,z.jsx)(y.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",right:!0,rounding:"pill",top:!0})]})})}function $({filtersText:e,handleDrawerClose:a,handleDrawerOpen:l,isDrawerOpen:t,pinId:n,showFilter:i,title:r,viewParameter:s,viewType:o}){let{logContextEvent:d}=(0,N.v)(),{isRTL:u}=(0,B.B)(),c=(0,h.useRef)(null);(0,h.useEffect)(()=>(i&&d({event_type:120,view_type:o,component:13467,element:11735,view_parameter:s}),c.current&&V.Z.addObstruction("top",c.current),()=>{c.current&&V.Z.removeObstruction("top",c.current)}),[i]);let g=()=>{d({event_type:101,view_type:o,component:13467,element:11735,view_parameter:s}),l&&l()};return(0,z.jsx)(G.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,z.jsxs)(y.xu,{ref:c,alignItems:"center",color:"default","data-test-id":"related-products-header",display:"flex",justifyContent:"center",minHeight:60,position:"absolute",top:!0,width:"100%",children:[(0,z.jsx)(y.xu,{left:!u,marginStart:5,position:"absolute",right:u,children:(0,z.jsx)(U,{arrowType:r?"directional-arrow-left":"cancel",pinId:n,viewParameter:s,viewType:o})}),(0,z.jsx)(H.Z,{title:r}),i&&"boolean"==typeof t&&g&&e&&a&&(0,z.jsx)(y.xu,{"data-test-id":"filter-button",left:u,marginEnd:12,position:"absolute",right:!u,children:(0,z.jsx)(W,{buttonText:e,handleDrawerClose:a,isDrawerOpen:t,onClick:g})})]})})}var Y=l(219867),q=l(770975);let Q=void 0!==n?n:n=l(306569);function X({cropArea:e,description:a,height:l,imageSignature:t,imageUrl:n,pinId:i,pinKey:r,requestParams:s,showAnimation:o,surfaceType:d,trafficSource:u,viewParameter:c,width:g}){let p=(0,S.Z)(Q,r),m=(0,q.E)();return(0,z.jsx)(y.xu,{"data-test-id":"flashlight-enabled-image",height:l,width:g,children:(0,z.jsxs)(y.zd,{height:l,rounding:4,width:g,children:[(0,z.jsx)(y.Ee,{alt:a,naturalHeight:l,naturalWidth:g,onLoad:()=>{m&&m.markConstraintComplete("visualSearchMainPinImageRender")},src:n}),(0,z.jsx)(Y.Z,{cropArea:e,imageSignature:t,imageSize:{height:l,width:g},pinId:i,pinKey:p,requestParams:s,showAnimation:!!o,surfaceType:d,trafficSource:u,viewParameter:c})]})})}var J=l(339842),ee=l(354174),ea=l(487211),el=l(587062),et=l(950834);function en(){let e=(0,q.E)();return a=>{"remove"===a&&(0,et.l7)("shoppingModuleRender"),e&&a&&("remove"===a?(e.removeConstraint("shoppingModuleRender"),(0,et.l7)("shoppingModuleRender")):"complete"===a&&e.markConstraintComplete("shoppingModuleRender"))}}var ei=l(679482),er=l(724924),es=l(505471),eo=l(912985),ed=l(682661);function eu({action:e,component:a,dangerouslySetActionUrl:l,element:t,contextLogData:n,hasPwtConstraint:i,id:r,objects:s,surface:o,viewType:d,viewParameter:u}){let{logContextEvent:c}=(0,N.v)(),g=en(),{url:p,text:m}=e||{},h=p&&m?e=>(0,z.jsx)(eo.Z,{coverImages:e.images,dataTestId:"product-pin-row-action",height:ei.yF,onClick:()=>c({event_type:101,view_type:d,view_parameter:u,component:a,element:t,aux_data:{story_id:r,...n}}),text:m,url:l??p,width:ei.yF},"actionBubble"):null,{containerRef:_,itemsToRender:f,actionItem:S}=(0,es.Z)({items:s,itemWidth:ei.yF,itemGap:ei.oX,actionItemType:h?"one":void 0});return i&&g&&g(f&&f.length>0?"complete":"remove"),(0,z.jsxs)(er.Z,{containerRef:_,itemGap:ei.oX,children:[f.map((e,l)=>(0,z.jsx)(y.xu,{"data-grid-item":"true",flex:"none",width:ei.yF,children:(0,z.jsx)(ed.ZP,{auxData:n,componentType:a,duploIsSquarePin:!0,duploQueryRef:null,pinId:e.id,pinImageCrop:{height:ei.yF,width:ei.yF},slotIndex:l,surface:o??"ShoppingDynamicHeightGrid",viewParameter:u,viewType:d})},e.id)),S&&h?.(S)]})}function ec({title:e}){return(0,z.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:55}},"data-test-id":"unified-feed-subheader",display:"flex",children:(0,z.jsx)(y.X6,{accessibilityLevel:2,size:"400",children:e})})}var eg=l(794352),ep=l(87416);let em={flashlight:72,stela:427,stl:427};function eh({pinId:e,surfaceType:a,visualSearchFlashlightUnifiedResource:l}){let t=(0,_.TH)(),n=en(),{data:i,isLoaded:r}=l,s=i?.results||[],o=a?em[a]:72;n&&(!s&&r||s&&!s.some(e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type))&&n("remove");let d=s.filter(e=>"story"===e.type);return(0,z.jsx)(h.Fragment,{children:d.map((a,l)=>{if("story"!==a.type)return null;let{action:n,id:i="",objects:r,story_type:s,title:d}=a,u=d?.format||"",c=(0,K.mB)(t.search),g=(0,K.mB)(n?.url).full_feed_title||"";c.full_feed_title=(0,eg.Z)(g);let p=(0,K.XP)(c),m=`/pin/${e}/visual-search/products/?${p}`;switch(s){case"stela_shop":case"unified_visual_feed_product_upsell":return(0,z.jsx)(ep.qS,{auxData:{story_type:s},component:14339,loggingId:i,objectIdStr:i,slotIndex:l,viewParameter:3462,viewType:o,children:({impressionTrackerRef:e})=>(0,z.jsxs)(y.xu,{ref:e,children:[u&&(0,z.jsx)(ec,{title:u}),(0,z.jsx)(y.xu,{"data-test-id":"unified-feed-stela-story",marginBottom:12,marginTop:4,children:(0,z.jsx)(eu,{action:n,component:14339,contextLogData:{story_type:s},dangerouslySetActionUrl:m,element:179,hasPwtConstraint:!0,id:i,objects:r,surface:"ShoppingModule",viewParameter:3462,viewType:o})})]})},i);case"unified_visual_feed_organic_header":return(0,z.jsx)(ep.qS,{auxData:{story_type:s},component:14339,loggingId:i,objectIdStr:i,slotIndex:l,viewParameter:3462,viewType:o,children:({impressionTrackerRef:e})=>(0,z.jsx)(y.xu,{ref:e,marginBottom:4,children:(0,z.jsx)(ec,{title:a?.title?.format||""})})},i);case"unified_entry_point_flashlight_header":return(0,z.jsx)(ep.qS,{auxData:{story_type:s},component:14339,loggingId:i,objectIdStr:i,slotIndex:l,viewParameter:3462,viewType:o,children:({impressionTrackerRef:e})=>(0,z.jsx)(y.xu,{ref:e,marginBottom:4,children:(0,z.jsx)(ec,{title:a?.title?.format||""})})},i);default:return null}})})}var e_=l(945034),ey=l(847881);let ef=void 0!==i?i:i=l(441089);function eS({isFilterOpened:e,isProductOnlyFeed:a,oneBarModules:l,pinKey:t,surfaceType:n,viewParameter:i,viewType:r,visualSearchFlashlightUnifiedResource:s}){let o=(0,S.Z)(ef,t),d=(0,ea.Z)(),u="stl"===n,c=u||a,{data:g}=s,p=g?.search_identifier;return(0,z.jsxs)(h.Fragment,{children:[d&&!a&&l&&l.length>0&&(0,z.jsx)(y.xu,{position:"relative",zIndex:new y.Ry(1),children:(0,z.jsx)(ey.v,{children:(0,z.jsx)(el.f,{children:(0,z.jsx)(ee.Z,{oneBarModulesKey:null,oneBarModulesRest:l,paddingX:8})})})}),!u&&(0,z.jsx)(eh,{pinId:o.entityId,surfaceType:n,visualSearchFlashlightUnifiedResource:s}),(0,z.jsx)(e_.Z,{commerceData:{is_product_only_feed:c},isFilterOpened:e,isProductFeed:c,searchId:p,viewParameter:i,viewType:r,visualSearchFlashlightUnifiedResource:s})]})}var ek=l(213512),ex=l(656817),ev=l(212515),eb=l(288544),ew=l(51479),eP=l(969119),eT=l(472921);l(422578);var eF=l(151958);let eI=void 0!==r?r:r=l(682230);var eE=l(31723),eA=l(829413),eC=l(66560);let eK=({data:e,itemIdx:a})=>{let l=(0,eC.S6)(),t=(e.id?l(e.id):null)||e;return(0,z.jsx)(ed.rX,{duploQueryRef:null,pinId:t.id,pinKey:null!=t?{type:"deprecated",data:t}:null,slotIndex:a,surface:"RelatedProductsFeed",viewParameter:3334,viewType:72})};function eL({visualLiveSearchProductFeedResourceData:e}){let a=(0,x.ZP)(),{data:l,isAtEnd:t,isLoaded:n,isFetching:i,fetchMore:r}=e,s=Array.isArray(l)?l:l?.results;return n?s&&0!==s.length?(0,z.jsx)(eA.Z,{isAtEndOfFeed:t,itemCount:s.length,children:(0,z.jsx)(eE.default,{columnWidth:ei.yF,items:s,loadItems:()=>{i||t||r()},renderItem:e=>(0,z.jsx)(eK,{...e}),scrollContainer:()=>window,virtualize:!1})}):null:(0,z.jsx)(y.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,z.jsx)(y.$j,{accessibilityLabel:a._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})})}var ej=l(50165),eO=l(39929);let eR=void 0!==s?s:s=l(604733);function eD({pinKey:e,viewParameter:a,visualLiveSearchResourceData:l}){let t=(0,x.ZP)(),{hasSimplifiedPinGridExpLoaded:n}=(0,ej.$)(),i=(0,S.Z)(eR,e),{data:r,isFetching:s,fetchMore:o}=l,d=r?.results,u=r?.search_identifier;return(0,z.jsxs)(h.Fragment,{children:[d&&u&&(0,z.jsx)(y.Rk,{columnWidth:ei.yF,items:d,loadItems:o,minCols:1,renderItem:({data:e,itemIdx:l})=>(function({data:e,itemIdx:l}){let t=`${window.location.pathname}products/${window.location.search}&full_feed_title=${encodeURIComponent("Shop similar items")}`;return"story"===e.type?(0,z.jsx)(eO.Z,{dangerouslySetActionUrl:t,slotIndex:l,story:e}):"pin"===e.type?(0,z.jsx)(ed.ZP,{auxData:{search_identifier:u,image_signature:i.imageSignature},duploQueryRef:null,pinId:e.id,slotIndex:l,surface:"FlashlightResultGrid",viewData:{search_identifier:u},viewParameter:a,viewType:72}):null})({data:e,itemIdx:l}),scrollContainer:()=>window}),(0,z.jsx)(y.$j,{accessibilityLabel:t._('Loading search results...', 'FlashlightResultGrid.spinner', 'Accessibility label for loading visual search results'),show:s||!u||!n})]})}var eM=l(584288),eN=l(210173),eZ=l(774649),ez=l(978574),eU=l(689967),eH=l(588120),eV=l(616890);function eB({categoryFilters:e,cropSource:a,handleCategoryChange:l,viewParameter:t,viewType:n}){let{logContextEvent:i}=(0,N.v)(),r=(0,x.ZP)(),[s,o]=(0,h.useState)(!0);return(0,z.jsxs)(h.Fragment,{children:[(0,z.jsxs)(y.kC,{alignItems:"center",justifyContent:"between",children:[(0,z.jsx)(y.xv,{weight:"bold",children:r._('Product category', 'filter.category.header', 'Header of product category filter containing filter options')}),(0,z.jsx)(y.xu,{flex:"none",children:(0,z.jsx)(y.hU,{accessibilityLabel:r._('Product category', 'filter.category.button', 'accessibility label for the icon button to open or close domain filter'),icon:s?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{o(!s),i({event_type:101,component:13535,element:11547,view_type:n,view_parameter:t,aux_data:{commerce_data:JSON.stringify({filter:s?"collapsed":"expanded"})}}),s||i({event_type:13,component:13535,view_type:n,view_parameter:t,aux_data:{commerce_data:JSON.stringify({source:(0,eV.Z)({cropSource:a,viewType:n})})}})},size:"sm"})})]}),s?(0,z.jsx)(h.Fragment,{children:e.slice(0,5).map((e,a)=>(0,z.jsxs)(y.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:3,children:[(0,z.jsx)(y.xu,{flex:"grow",children:(0,z.jsx)(y.xv,{children:e.label.charAt(0).toUpperCase()+e.label.slice(1)})}),(0,z.jsx)(y.xu,{children:(0,z.jsx)(y.hU,{accessibilityLabel:r._('Category Filter Option', 'filter.category.option', 'Accessibility label for radio button of category filter choices'),icon:e.checked?"check-circle":"circle",iconColor:"darkGray",onClick:()=>l(a),size:"sm"})})]},e.label))}):(0,z.jsx)(y.xu,{width:"80%",children:(0,z.jsx)(y.xv,{color:"subtle",size:"200",children:function(e=[],a){let l=e.filter(e=>e.checked),t=l.length;return 0===t?a._('All', 'filter.category.applied', 'text indicates that no categories filter is currently applied for filtering'):`(${t}) ${l.map(e=>e.label).join(", ")}`}(e,r)})})]})}var eG=l(521378);function eW(e,a){return e.filter(e=>e.checked).map(e=>e[a]).join(",")}function e$(e){return e.map(e=>({...e,checked:!1}))}function eY({listOfAvailableFiltersFromAPI:e,appliedFilterValues:a,key:l,component:t,viewType:n,viewParameter:i}){let{logContextEvent:r}=(0,N.v)(),[s,o]=(0,h.useState)([]),[d,u]=(0,h.useState)(""),[c,g]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{if(e){let t=e$(e),n=a?function(e,a,l){if(e){let t=decodeURI(e).split(",");return a.map(e=>t.includes(e[l])?{...e,checked:!0}:e)}return a}(a,t,l):t;o(n),u(eW(n,l))}},[e,a,l]),{filters:s,setFilters:o,submittedFilters:d,submitFilters:function(e){e!==d&&r({event_type:7472,component:t,view_type:n,view_parameter:i}),u(e),g(!1)},isFilterChanged:c,clearFilters:()=>e$(s),getSelected:e=>eW(e,l),handleFilterChange:function({index:e,pinId:a,auxCommerceData:u}){let c=!s[e].checked,p=[...s.slice(0,e),{...s[e],checked:c},...s.slice(e+1)];o(p),g(d!==eW(p,l)),r({event_type:101,component:t,element:11548,view_type:n,view_parameter:i,aux_data:{pin_id:a,commerce_data:JSON.stringify({[l]:s[e][l],select:c,...u})}})}}}function eq({categoryFilters:e,cropSource:a,domainFilters:l,drawerHeight:t,handleFilterChange:n,onSubmit:i,pinId:r,priceFilters:s,submittedFilters:o,updateButtonText:d,width:u,viewParameter:c,viewType:g}){let{logContextEvent:p}=(0,N.v)(),m=(0,x.ZP)();(0,eP.Z)(()=>{p({event_type:13,component:13467,view_type:g,view_parameter:c,aux_data:{commerce_data:JSON.stringify({source:(0,eV.Z)({cropSource:a,viewType:g})})}})});let{category:_,domain:f,max:S,min:k}=o||{},{filters:v,setFilters:b,submittedFilters:w,submitFilters:P,isFilterChanged:T,clearFilters:F,getSelected:I,handleFilterChange:E}=eY({listOfAvailableFiltersFromAPI:l,appliedFilterValues:f,key:"domain",component:13469,viewType:g,viewParameter:c}),{filters:A,setFilters:C,submittedFilters:K,submitFilters:L,isFilterChanged:j,clearFilters:O,getSelected:R,handleFilterChange:D}=eY({listOfAvailableFiltersFromAPI:e,appliedFilterValues:_,key:"label",component:13535,viewType:g,viewParameter:c}),[M,Z]=(0,h.useState)(s),[U,H]=(0,h.useState)(-1),[V,B]=(0,h.useState)(-1),[G,W]=(0,h.useState)(-1),[$,Y]=(0,h.useState)(-1),[q,Q]=(0,h.useState)(!1);(0,h.useEffect)(()=>{if(!s||S&&k||Z(s),k){let e=parseInt(k,10);Y(e),B(e)}else B(s?.min_value??-1),Y(s?.min_value??-1);if(S){let e=parseInt(S,10);W(e),H(e)}else H(s?.max_value??-1),W(s?.max_value??-1)},[s,S,k]);let{max_value:X,min_value:J,currency_type:ee}=M||{},ea=e=>a=>{let l,t;let n=0>(a||0)?0:a;n&&p({event_type:7472,component:13468,view_type:g,view_parameter:c});let i=!1;"max"===e?(l=n||X,-1===(t=V)&&(t=J),t>l&&(t=Math.max(l-ez.$,0))):(t=n||0,-1===(l=U)&&(l=X),l<t&&(l=t+ez.$)),Q(i=i||$!==t||G!==l),B(t),H(l)};(0,h.useEffect)(()=>{d&&d(function({categoryFilters:e,domainFilters:a,minPrice:l,maxPrice:t},n){let i=n._('Filters', 'Filter icon button to open drawer containing price filter and domain filters on related products feed', 'Filter icon button to open drawer containing price filter and domain filters on related products feed'),r=function({categoryFilters:e,domainFilters:a,minPrice:l,maxPrice:t}){return(t||l?1:0)+(a?a.split(",").length:0)+(e?e.split(",").length:0)}({categoryFilters:e,domainFilters:a,minPrice:l,maxPrice:t}),s=r>0?` (${r})`:"";return`${i}${s}`}({categoryFilters:K,domainFilters:w,maxPrice:-1===G||G===X?void 0:G,minPrice:-1===$||$===J?void 0:$},m))},[m,G,$,K,w,d,X,J]);let el=({categoryParam:e,domainParam:a,maxPrice:l,minPrice:t})=>{n({categoryParam:e,domainParam:a,maxPrice:-1!==l?l:void 0,minPrice:-1!==t?t:void 0}),W(l),Y(t),Q(!1),(G!==l||$!==t)&&p({event_type:7472,component:13468,view_type:g,view_parameter:c}),P(a),L(e);let r=-1!==l,s=""!==a,o=""!==e,d=-1!==t?t.toString():"",u=r?l.toString():"",m=s?encodeURI(a):"",h=o?encodeURI(e):"";i&&i({category:h,domain:m,max:u,min:d})};return(0,z.jsxs)(h.Fragment,{children:[(0,z.jsxs)(y.xu,{direction:"column",display:"flex",height:t-50-70,overflow:"scroll",paddingX:1,paddingY:1,width:"100%",children:[(0,z.jsxs)(y.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,z.jsx)(y.xv,{weight:"bold",children:m._('Filter', 'shopping.filter.header', 'Header for the types of filters')}),(0,z.jsx)(y.zx,{onClick:()=>{H(-1),B(-1),b(F()),C(O()),el({categoryParam:"",domainParam:"",maxPrice:-1,minPrice:-1}),p({event_type:101,component:13467,element:11545,view_type:g,view_parameter:c})},size:"md",text:m._('Clear all', 'filter.clear.button', 'Button to clear all set filters on product group filters')})]}),!!M&&-1!==V&&-1!==U&&(0,z.jsx)(eG.Z,{children:(0,z.jsx)(eH.Z,{cropSource:a,currencyCode:ee,defaultMaxPrice:X,defaultMinPrice:J,disableAutoFormatOnChange:!0,handleMaxPriceChange:ea("max"),handleMinPriceChange:ea("min"),maxPrice:U,minPrice:V,uiType:"slider",viewParameter:c,viewType:g})}),!!A&&A.length>0&&4!==a&&(0,z.jsx)(eG.Z,{children:(0,z.jsx)(eB,{categoryFilters:A,cropSource:a,handleCategoryChange:e=>{D({index:e,pinId:r})},viewParameter:c,viewType:g})}),!!v&&v.length>0&&(0,z.jsx)(eG.Z,{children:(0,z.jsx)(eU.Z,{cropSource:a,filterOptions:v,handleFilterChange:e=>{E({index:e,pinId:r,auxCommerceData:{source:(0,eV.Z)({cropSource:a,viewType:g})}})},showVerifiedMerchants:!0,uiType:"check-circles",viewParameter:c,viewType:g})})]}),(0,z.jsx)(y.xu,{color:"default",display:"flex",justifyContent:"center",position:"fixed",width:u,children:(0,z.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},direction:"row",display:"flex",paddingY:2,children:(0,z.jsx)(y.xu,{marginStart:2,children:(0,z.jsx)(y.sg,{span:6,children:(0,z.jsx)(y.zx,{color:"red",dataTestId:"confirm-filters-button",disabled:!(T||j||q),onClick:()=>{let e=I(v);el({categoryParam:R(A),domainParam:e,maxPrice:U,minPrice:V}),p({event_type:101,component:13467,element:11546,view_type:g,view_parameter:c})},size:"md",text:m._('Apply', 'filter.apply.button', 'Button to submit all selected filter options'),type:"submit"})})})})})]})}function eQ({categoryFilters:e,cropSource:a,domainFilters:l,isDrawerOpen:t,handleFilterChange:n,handleSubmit:i,pinId:r,priceFilters:s,submittedFilters:o,topOffset:d=0,updateButtonText:u,viewParameter:c=3455,viewType:g}){let p=(0,eM.t)(),[m,_]=(0,h.useState)(0),f=()=>{_(window.innerHeight-p)};return(0,h.useEffect)(()=>(f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}),[]),(0,z.jsx)(y.xu,{color:"default",dangerouslySetInlineStyle:{__style:{marginRight:t?0:-eZ.pG,visibility:t?"visible":"hidden",top:p+d}},height:m,left:!0,paddingX:eZ.VF,position:"fixed",width:eZ.pG,zIndex:new y.Ry(2),children:(0,z.jsx)(eq,{categoryFilters:e,cropSource:a,domainFilters:l,drawerHeight:m,handleFilterChange:n,onSubmit:i,pinId:r,priceFilters:s,submittedFilters:o,updateButtonText:u,viewParameter:c,viewType:g,width:eZ.pG-eZ.VF*eZ.vc*2})})}let eX=void 0!==o?o:o=l(187962);function eJ(e){let{checkExperiment:a}=(0,v.F)(),l=(0,_.k6)(),t=(0,_.TH)(),{width:n=0}=(0,ex.Z)()||{},i=(0,R.Z)(),{imageContainerScrollTop:r,imageContainerScrollTopForPinId:s}=(0,ek.t)(),{filters:o,oneBarModules:d,pinKey:u,visualSearchFlashlightUnifiedResourceData:c,visualLiveSearchResourceData:g,visualLiveSearchProductFeedResourceData:p}=e,{cropArea:m,cropSource:f,entrySource:k,handleFilterChange:x,isProductPage:b,requestParams:w,searchQuery:P,submittedFilters:T,surfaceType:F,title:I,trafficSource:C}=i,{category_filters:K,domain_filters:L,price_filters:j}=o||{},O=(0,S.Z)(eX,u),{getNormalizedPinImage:D}=(0,E.Z)({pinKey:O,maxWidth:A.RZ}),N=["stela","stl"].includes(F),{anyEnabled:Z}=a("web_unified_visual_feed"),{anyEnabled:U}=a("web_flashlight_unified_feed"),{anyEnabled:H}=a("web_unified_visual_features_expansion"),[V,B]=(0,h.useState)(!1),[G,W]=(0,h.useState)(""),Y=(0,J.Z)(o),{state:q}=t||{},{internalNavigation:Q=!1}=q||{},{width:ee,height:ea,url:el}=D(),et=ee+M.n,en=V?0:12,er=(0,eM.t)(),es=(0,eN.Z)(),eo=V?eZ.pG:0,ed=b?0:et+4*en,eu=n-es-eo-ed-M.n,ec=!b&&Z&&"stela"===F,eg=!b&&U&&"flashlight"===F,ep=N?427:"flashlight"===F?U&&b?427:72:427,em=N?4===f?3462:3455:"flashlight"===F?U&&4===f?3462:3050:3462,eh=function({entrySource:e,isProductPage:a,pinKey:l,surfaceType:t,viewParameter:n,viewType:i}){let{checkExperiment:r}=(0,v.F)(),{anyEnabled:s}=r("web_unified_visual_feed"),{anyEnabled:o}=r("web_flashlight_unified_feed"),d=(0,S.Z)(eI,l),u=(0,eF.Z)(d)({default:{is_product_only_feed:"stl"===t||a}});if(s||o)return{view_type:i,view_parameter:n,aux_data:u};if(!["stela","stl"].includes(t))return{view_type:i,view_parameter:3050,view_data:{pin_id:d.entityId}};{let a=(d.visualObjects||[]).some(e=>e.isStela);return{view_type:i,view_parameter:n,view_data:{pin_id:d.entityId},aux_data:{commerce_data:JSON.stringify({entrypoint:e,pin_is_stela:a})}}}}({entrySource:k,isProductPage:b,pinKey:O,surfaceType:F,viewParameter:em,viewType:ep}),e_=c?.data?.search_identifier||g?.data?.search_identifier||p?.data?.search_identifier||"",[ey,ef]=(0,h.useState)(e_);(0,h.useEffect)(()=>{e_&&ey!==e_&&ef(e_)},[e_,ey]);let eE=(0,h.useRef)(null);return(0,eP.Z)(()=>{eE.current&&0!==r.current&&s.current===O.entityId&&(eE.current.scrollTop=r.current)}),(0,z.jsx)(eb.Z,{constraints:function({isProductPage:e,isStl:a,isUnifiedFeed:l}){return e?[]:!l||a?["visualSearchMainPinImageRender"]:l?["shoppingModuleRender","visualSearchMainPinImageRender"]:[]}({isProductPage:b,isStl:"stl"===F,isUnifiedFeed:U||Z||H}),measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,z.jsx)(ew.Z,{objectId:ey,view:ep,children:(0,z.jsx)(ev.Z,{log:eh,children:(0,z.jsxs)(y.xu,{"data-test-id":"related-products",children:[(0,z.jsx)($,{filtersText:G,handleDrawerClose:function(){B(!1)},handleDrawerOpen:function(){B(!0)},isDrawerOpen:V,pinId:O.entityId,showFilter:!(ec||eg)&&N&&Y,title:b?I:"",viewParameter:em,viewType:ep}),Y&&(0,z.jsx)(eQ,{categoryFilters:K,cropSource:f,domainFilters:L,handleFilterChange:x??(()=>{}),handleSubmit:function(){let e=(0,eT.Z)({cropArea:m,cropSource:f,isProductPage:b,pinId:O.entityId,requestParams:w,searchQuery:P,surfaceType:F,title:I,trafficSource:C});l.replace(e)},isDrawerOpen:V,pinId:O.entityId,priceFilters:j,submittedFilters:T,topOffset:60,updateButtonText:e=>{W(e)},viewParameter:em,viewType:ep}),!b&&(0,z.jsx)(y.xu,{ref:eE,bottom:!0,dangerouslySetInlineStyle:{__style:{top:er+92,left:es+eo,right:es+eo}},height:"inherit",marginBottom:3,marginStart:en,onScroll:()=>{r.current=eE.current?.scrollTop||0,s.current=O.entityId},overflow:"auto",position:"fixed",width:et,children:(0,z.jsx)(X,{cropArea:m,description:O.description??"",height:ea,imageSignature:O.imageSignature||"",imageUrl:el,pinId:O.entityId,pinKey:O,requestParams:w,showAnimation:!Q&&"flashlight"===F,surfaceType:F,trafficSource:C,viewParameter:em,width:ee})}),(0,z.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:{top:92,left:eo+ed,right:eo+ed}},paddingX:ei.jC,position:"relative",width:eu,children:[c&&(0,z.jsx)(eS,{isFilterOpened:V,isProductOnlyFeed:b,oneBarModules:d,pinKey:O,surfaceType:F,viewParameter:em,viewType:ep,visualSearchFlashlightUnifiedResource:c}),!U&&g&&(0,z.jsx)(eD,{pinKey:O,viewParameter:em,visualLiveSearchResourceData:g}),!U&&p&&(0,z.jsx)(eL,{visualLiveSearchProductFeedResourceData:p})]})]})})})})}let e0=void 0!==d?d:d=l(574554);function e1(e){let{legacySearchId:a,pinKey:l,resourceOptions:t,setLegacySearchId:n}=e,i=(0,S.Z)(e0,l),r=(0,D.Z)({name:"VisualLiveSearchProductFeedResource",options:t}),s=r.data?.search_identifier||"";return(0,h.useEffect)(()=>{n&&s&&a!==s&&n(s)}),(0,z.jsx)(eJ,{pinKey:i,visualLiveSearchProductFeedResourceData:r})}let e6=void 0!==u?u:u=l(941845);function e2(e){let{legacySearchId:a,pinKey:l,resourceOptions:t,setLegacySearchId:n}=e,i=(0,S.Z)(e6,l),r=(0,D.Z)({name:"VisualLiveSearchResource",options:t}),s=r.data?.search_identifier||"";return(0,h.useEffect)(()=>{n&&s&&a!==s&&n(s)}),(0,z.jsx)(eJ,{pinKey:i,visualLiveSearchResourceData:r})}var e4=l(934209);let e7=void 0!==c?c:c=l(376194);function e3(e){let{pinKey:a,resourceOptions:l}=e,t=(0,S.Z)(e7,a),{visualSearchFlashlightUnifiedResource:n,filters:i,oneBarModules:r}=(0,e4.Z)({resourceOptions:l});return(0,z.jsx)(eJ,{filters:i,oneBarModules:r,pinKey:t,visualSearchFlashlightUnifiedResourceData:n})}let e9=void 0!==g?g:g=l(383855);function e8({pinKey:e}){let{checkExperiment:a}=(0,v.F)(),l=(0,_.TH)(),t=(0,S.Z)(e9,e),{getInitialCropArea:n}=function({pinKey:e}){let a=(0,S.Z)(C,e),{getNormalizedPinImage:l}=(0,E.Z)({pinKey:a,maxWidth:A.RZ}),{width:t,height:n}=l();return{getInitialCropArea:(0,h.useCallback)(({initialCropArea:e})=>e||{x:I.SP,y:I.SP,w:t-2*I.SP,h:n-2*I.SP},[n,t])}}({pinKey:t}),{getNormalizedPinImage:i}=(0,E.Z)({pinKey:t,maxWidth:A.RZ}),{width:r,height:s}=i(),o=a("web_unified_visual_feed").anyEnabled||a("web_unified_visual_features_expansion").anyEnabled,d=a("web_flashlight_unified_feed").anyEnabled||a("web_unified_visual_features_expansion").anyEnabled,u=(0,K.mB)(l.search),{cropSource:c,filters:g,full_feed_title:p,hybrid_search_param:m,journey_depth:y,search_query:f,source_module_id:k,surfaceType:x,category:b,domain:w,max:P,min:T,q:D,requestParams:M,rs:N}=u,Z=u.entrypoint||null,U=(0,L.Z)(Number(c))||5,H=n({initialCropArea:(0,F.Z)(l,r,s)}),V=l.pathname.includes("/products"),B=x||"flashlight",G=V||"stl"===B?"shopping":"flashlight";Z||(Z=(0,j.Z)({cropSource:U,isProductPage:V,surfaceType:B}));let[W,$]=(0,h.useState)(parseInt(T,10)||null),[Y,q]=(0,h.useState)(parseInt(P,10)||null),[Q,X]=(0,h.useState)(w?decodeURI(w):null),[J,ee]=(0,h.useState)(b?decodeURI(b):null);function ea({minPrice:e,maxPrice:a,domainParam:l,categoryParam:t}){$(e),q(a),X(l),ee(t)}let el={categories:J,crop:(0,O.Z)({cropArea:H,scaledWidth:r,scaledHeight:s}),crop_source:U,domains:Q,entry_source:G,entrypoint:Z,field_set_key:"shopping_grid_item",filters:g,hybrid_search_param:m,image_signature:t.imageSignature||void 0,is_shopping:function({cropSource:e,inStelaUFExperiment:a,isProductPage:l,surfaceType:t}){return!!l||4===e&&("stl"===t||"stela"===t&&!a)}({cropSource:U,inStelaUFExperiment:o,isProductPage:V,surfaceType:B}),journey_depth:parseInt(y,10)||void 0,pin_id:t.entityId,price_max:Y,price_min:W,request_params:M,search_query:f,source:N,source_module_id:k},et=(0,h.useMemo)(()=>({cropArea:H,cropSource:U,entrySource:G,handleFilterChange:ea,isProductPage:V,requestParams:M,searchQuery:D,submittedFilters:{category:b,domain:w,max:P,min:T},surfaceType:B,title:p,trafficSource:N}),[b,H,U,w,G,V,P,T,M,D,B,p,N]);if(!t)return null;let en="flashlight"!==B||d?(0,z.jsx)(e3,{pinKey:t,resourceOptions:el}):V?(0,z.jsx)(e1,{pinKey:t,resourceOptions:el}):(0,z.jsx)(e2,{pinKey:t,resourceOptions:el});return(0,z.jsx)(R.V,{value:et,children:en})}let e5=void 0!==p?p:p=l(761650),ae=void 0!==m?m:m=l(4738);function aa({pinId:e,relatedProductsDataRef:a}){let{checkExperiment:l}=(0,v.F)(),t=(0,x.ZP)(),n=l("auth_dweb_graphql_closeup_shop_pinResource").anyEnabled,i=(0,k.Z)({strategy:n?"GRAPHQL":"LEGACY",query:e5,variables:{pinId:e},useGetLegacyData:()=>{let{data:e}=(0,b.Z)(a);return e}}),r=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,s=(0,S.Z)(ae,r);return(0,z.jsx)(h.Suspense,{fallback:(0,z.jsx)(y.$j,{accessibilityLabel:t._('Loading Pin data', 'RelatedProductsPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:s&&(0,z.jsx)(e8,{pinKey:s})})}function al(){let e=(0,_.$B)(),{pinId:a}=(0,P.Z)(e.params.id||""),l=(0,w.Z)({name:"PinResource",options:{id:a,field_set_key:"detailed",fetch_visual_search_objects:!0}});return(0,z.jsx)(f.Z,{name:"RelatedProductsPage_RelatedProductsPageWrapper",children:(0,z.jsx)(h.Suspense,{fallback:(0,z.jsx)(T.Z,{}),children:(0,z.jsx)(aa,{pinId:a,relatedProductsDataRef:l})})})}},402151:(e,a,l)=>{"use strict";l.d(a,{KF:()=>u,ZN:()=>s,fv:()=>d,kE:()=>g,yA:()=>o});var t=l(252071),n=l(400416),i=l(900492);function r(e,a,l,n){return t.Z.create("UserFollowResource",{user_id:e,invite_code:n||void 0,aux_data:a?{pin_id:a}:void 0,client_tracking_params:l})}function s(e,a=null,l,t){return n=>{r(e,a,l,t).callCreate().catch(()=>n((0,i.P_)(e,!1))),n((0,i.P_)(e,!0))}}function o(e,a=null,l,t){return async n=>{n((0,i.P_)(e,!0)),await r(e,a,l,t).callCreate().catch(a=>{throw n((0,i.P_)(e,!1)),a})}}function d(e,a=null,l){return t=>{r(e,a,l).callDelete().catch(()=>t((0,i.P_)(e,!0))),t((0,i.P_)(e,!1))}}function u(e,a=null,l){return async t=>{t((0,i.P_)(e,!1)),await r(e,a,l).callDelete().catch(a=>{throw t((0,i.P_)(e,!0)),a})}}let c=(e,a)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:a}}),g=e=>a=>{e.length>0&&((0,n.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>a(c(e,!1))),a(c(e,!0)))}},919122:(e,a,l)=>{"use strict";l.d(a,{Z:()=>y});var t=l(545007),n=l(616550),i=l(883119),r=l(609326),s=l(488792),o=l(477058),d=l(793874),u=l(144326),c=l(282999),g=l(864723),p=l(1006),m=l(154785),h=l(410150),_=l(785893);function y({alignIconLeft:e,bgColor:a,color:l,disableRedirect:y=!1,fallbackUrl:f,icon:S="arrow-back",onTouch:k,padding:x,placement:v,shouldUseFallbackUrl:b,size:w="lg",viewParameter:P,viewType:T,isVisualSearch:F}){let I=(0,u.ZP)(),E=(0,n.k6)(),A=(0,n.TH)(),C=(0,h.HG)(),K=(0,t.v9)(e=>e.session.isAuthenticated),L=(0,s.Z)(),j=(0,m.Z)(),O=(0,d.vs)(),{viewType:R,viewParameter:D}=(0,o.SU)(),[M,N]=T?[T,P]:[R,D],Z=()=>A.search&&A.search.includes("?nativeShouldDismiss=true"),z=()=>{let e=g.ZP.getItem(r.pm);A.key||"/ideas"!==f?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(v)}.is_auth_${String(K)}`),j({action:"click",item:"back-button"}),M&&L({view_type:M,view_parameter:N,element:34,event_type:102}),k&&k(),y||((!A.key||A.state&&"redirect"===A.state.referrer||b)&&f?E.push(f):A.pathname.includes("/password/reset/")&&Z()?E.push("/login/?dismissWebview=true"):E.goBack())},U=O?d.t4:"white",H=(0,c.am)(A)||F||"white"===l;return(0,_.jsx)(i.xu,{"data-test-id":"back-button",children:e?(0,_.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===S?-1:-2,width:48,children:(0,_.jsx)(i.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:a,icon:S,iconColor:!l&&(!a||["white","lightGray","transparent"].includes(a))?"gray":l,onClick:z,padding:"auto"!==x?x:2,size:w})}):(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:C||H?"":U,width:O&&!H?"fit-content":""}},rounding:"circle",children:(0,_.jsx)(i.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:a||C?a:"transparent",icon:S,iconColor:!l&&(!a||["white","lightGray","transparent"].includes(a))?"gray":l,onClick:z,padding:"auto"!==x?x:2,size:w})})})}},259087:(e,a,l)=>{"use strict";l.d(a,{Z:()=>g});var t=l(667294),n=l(883119),i=l(99641),r=l(635284),s=l(774980),o=l(135296),d=l(297728),u=l(296209),c=l(785893);function g({oneBarModules:e,showIndicator:a,setProductFiltersModalIsOpen:l,showProductFilters:g=!1}){let p=(0,t.useRef)(null),m=(0,t.useRef)(null),{checkExperiment:h}=(0,d.F)(),_=["enabled_autoscroll","employees"].includes(h("mweb_search_sticky_guides",{dangerouslySkipActivation:!0}).group),[y,f]=(0,t.useState)(0);(0,t.useEffect)(()=>{_&&setTimeout(()=>{m.current?.scrollTo({top:0,left:y,behavior:"smooth"})},1e3)},[y,_]);let S=new s.ZP;(0,t.useEffect)(()=>{let e=p.current;return e&&r.Z.addObstruction("top",e),()=>{e&&r.Z.removeObstruction("top",e)}});let k=e.map(e=>(0,o.Z)(u.Z,!0)(e));return(0,c.jsx)(n.xu,{ref:p,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,c.jsx)(n.xu,{ref:m,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,c.jsx)(n.kC,{gap:1,maxWidth:"100%",children:k.map((e,t)=>(0,c.jsx)(i.Z,{hasProductFiltersApplied:a,impressionsFramework:S,index:t,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{g&&l?.(!0)},setLatestSelectedGuideX:f,showMWebProductFilters:g},`OneBarModule-${e.id||""}`))})})})}},521378:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});var t=l(883119),n=l(785893);function i({children:e}){return(0,n.jsx)(t.xu,{paddingY:4,children:e})}},774649:(e,a,l)=>{"use strict";l.d(a,{VF:()=>n,pG:()=>t,vc:()=>i});let t=348,n=7,i=4},310368:(e,a,l)=>{"use strict";l.d(a,{Z:()=>u});var t=l(883119),n=l(476198),i=l(144326),r=l(961754),s=l(410150),o=l(785893);function d({ideaPinImages:e}){let a=e.map((e,a)=>(0,o.jsx)(t.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:a}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,o.jsx)(t.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},a));return(0,o.jsx)(t.kC,{justifyContent:"center",children:(0,o.jsx)(t.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:a})})}function u({handleHide:e,text:a,userId:l,href:u,imageUrl:c}){let g=(0,i.ZP)(),p=(0,s.HG)(),m=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:l}}),h=Array.isArray(a)?a.join(" "):a;if(0===(m.data||[]).length)return(0,o.jsx)(n.Z,{duration:5e3,href:u,onHide:e,text:h,thumbnail:c?{image:(0,o.jsx)(t.Ee,{alt:g._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});let _=(m.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),y=(0,o.jsx)(d,{ideaPinImages:_});return(0,o.jsx)(n.Z,{_dangerouslySetThumbnail:y,duration:5e3,href:u,onHide:e,text:h})}},985572:(e,a,l)=>{"use strict";l.d(a,{Z:()=>eq});var t,n,i,r=l(410150),s=l(383399),o=l(667294);l(167912);var d=l(616550),u=l(883119),c=l(47848),g=l(289762),p=l(144326),m=l(297728),h=l(288544),_=l(961754),y=l(414416),f=l(545007),S=l(487211),k=l(587062),x=l(656817),v=l(573706),b=l(679482),w=l(136061),P=l(512541),T=l(775383),F=l(135296),I=l(296209),E=l(881507),A=l(51479),C=l(499068),K=l(868808),L=l(969119),j=l(689121),O=l(811036),R=l(12886),D=l(472921),M=l(302669),N=l(891880),Z=l(847881),z=l(817031),U=l(205758),H=l(793874),V=l(919122),B=l(785893);function G({handleBackClick:e,viewParameter:a,viewType:l}){let t=(0,H.vs)();return(0,B.jsx)(u.xu,{"data-test-id":"cancelButton",left:!0,margin:2,position:"fixed",top:!0,children:(0,B.jsx)(V.Z,{color:t?"darkGray":"white",disableRedirect:!0,icon:"cancel",isVisualSearch:!0,onTouch:e,padding:3,size:"lg",viewParameter:a,viewType:l})})}var W=l(488792),$=l(164756),Y=l(585913),q=l(913574),Q=l(49808),X=l(957435),J=l(941128);function ee({pinDominantColor:e,url:a,closeupImageWidth:l,closeupImageHeight:t}){let n=(0,p.ZP)();return(0,B.jsx)(J.Z,{alt:n._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:t,naturalWidth:l,placeholder:a,showSpinner:!1,src:a})}let ea=e=>{let{alt:a,src:l,top:t,left:n}=e;return(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{top:t,left:n}},height:24,position:"absolute",width:24,children:(0,B.jsx)(u.Ee,{alt:a,color:"transparent",naturalHeight:24,naturalWidth:24,src:l})})},el={backgroundColor:"#000000",opacity:"0.4"};function et({closeupImageUrl:e,closeupImageDims:a,cropArea:{x:l,y:t,w:n,h:i},disableBorder:r,disableHandles:s,handleBackClick:o,onTouchEnd:d,onTouchMove:c,onTouchStart:g,pinDominantColor:m,showBackButton:h,viewParameter:_}){let y=(0,p.ZP)(),{closeupImageWidth:f,closeupImageHeight:S}=a,k=Math.floor(S*t),x=Math.floor(f*l),v=Math.floor(S*i),b=Math.floor(f*n),w=x+b,P=k+v;return(0,B.jsxs)(u.xu,{"data-test-id":"cropper-container",onTouchEnd:d,onTouchMove:c,onTouchStart:g,position:"relative",children:[(0,B.jsx)(ee,{closeupImageHeight:S,closeupImageWidth:f,pinDominantColor:m,url:e??""}),(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:el},height:k,left:!0,position:"absolute",top:!0,width:"100%"}),(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...el,top:k}},height:v,left:!0,position:"absolute",width:x}),(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...el,top:k,left:w}},height:v,position:"absolute",right:!0}),(0,B.jsx)(u.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...el,top:P}},left:!0,position:"absolute",width:"100%"}),h&&(0,B.jsx)(G,{handleBackClick:o,viewParameter:_,viewType:427}),!s&&(0,B.jsxs)(u.xu,{"data-test-id":"CropperHandles",children:[(0,B.jsx)(ea,{alt:y._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),left:x-9,src:Q,top:k-9}),(0,B.jsx)(ea,{alt:y._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),left:w-15,src:X,top:k-9}),(0,B.jsx)(ea,{alt:y._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),left:x-9,src:Y,top:P-15}),(0,B.jsx)(ea,{alt:y._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),left:w-15,src:q,top:P-15})]}),(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{top:k-2,left:x-2,border:r?void 0:"2px solid #ffffff"}},"data-test-id":"CroppedArea",height:v+4,position:"absolute",rounding:2,width:b+4})]})}var en=l(665992);function ei({auxData:e,onClick:a,shouldLogDotRender:l,showNoHalo:t,style:n,viewParameter:i,x:r,y:s}){let o=(0,p.ZP)(),d=(0,W.Z)();return(0,L.Z)(()=>{l&&d({aux_data:e,element:1221,event_type:120,view_parameter:i,view_type:72})}),(0,B.jsx)("div",{"aria-label":o._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),"data-test-id":"dot",onClick:a,onKeyPress:a,role:"button",style:{position:"absolute",top:s-16,left:r-16,outline:"none",...n},tabIndex:"0",children:(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:a?"pointer":"default"}},children:(0,B.jsx)(u.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}},display:"flex",justifyContent:"center",padding:0,position:"absolute"})})})}var er=l(934980);let es="flashlightDotPop",eo=(0,er.Ll)([`
  ${es} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]),ed=e=>{let a=parseFloat((.1*e).toFixed(2));return{animation:`${es} 0.3s ease-out ${a}s both`}};function eu({closeupImageTop:e,imageHeight:a,imageTop:l,imageWidth:t,onDotTap:n,pinId:i,pinImageSignature:r,setCropArea:s,shouldLogDotRender:d,showNoHalo:u,viewParameter:c,visualObjects:g,visualObjectToHide:p}){let m=(0,W.Z)();return(0,B.jsxs)(o.Fragment,{children:[(0,B.jsx)(P.Z,{unsafeCSS:eo}),g.map((o,h)=>{if(h===p)return null;let{x:_=0,y=0,w:f=0,h:S=0}=o,k={x:_,y,h:S,w:f},x=(0,en.Z)({cropArea:{x:_,y,w:f,h:S},scaledWidth:t,scaledHeight:a}),v=Math.floor(x.x+x.w/2),b=Math.floor(x.y+l+x.h/2),w=ed(h),P={pin_id:i,image_signature:r,visual_objects:JSON.stringify([k]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,B.jsx)(ei,{auxData:P,onClick:function(){m({aux_data:P,element:1221,event_type:102,view_parameter:c,view_type:72}),n({cropArea:k,cropSource:4,visualObjects:g}),s?.(k)},shouldLogDotRender:d,showNoHalo:u,style:w,viewParameter:c,x:v,y:b-e},JSON.stringify(k))})]})}var ec=l(696724);let eg={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function ep({closeupImageUrl:e,closeupImageDims:a,cropArea:l,handleBackClick:t,handleChangeCloseupImageTop:n,handleCropperChange:i,headerHeight:r,inUnifiedFeedExp:s,pinDominantColor:d,pinId:c,pinImageSignature:g,showBackButton:p,viewParameter:m,visualObjects:h,visualObjectToHide:_}){let y=(0,W.Z)(),f=(0,o.useRef)(),[S,k]=(0,o.useState)(0),[x,v]=(0,o.useState)(0),[b,w]=(0,o.useState)(eg.NONE),[P,T]=(0,o.useState)(l),{current:F}=(0,$.Z)(),{x:I,y:E,w:A,h:C}=P,{closeupImageTop:K,closeupImageMinTop:L,closeupImageWidth:j,closeupImageHeight:O,minCropperWidthRatio:R,minCropperHeightRatio:D}=a,M=r||0,N=(e,a)=>{let l=a-K,t=e-(f.current?f.current.getBoundingClientRect().left:0),n=O*E,i=O*(E+C),r=j*I,s=j*(A+I);if(l>n+12&&l<i-12&&t>r+12&&t<s-12)return eg.INSIDE;if(t<=r+12&&t>=r-12&&l>=n+15&&l<=i-15)return eg.LEFT_CROPPER;if(t<=s+12&&t>=s-12&&l>=n+15&&l<=i-15)return eg.RIGHT_CROPPER;if(t<=s-15&&t>=r+15&&l>=n-12&&l<=n+12)return eg.TOP_CROPPER;if(t<=s-15&&t>=r+15&&l>=i-12&&l<=i+12)return eg.BOTTOM_CROPPER;if(t<=r-9+24&&t>=r-12&&l>=n-12&&l<=n+24-9)return eg.TOP_LEFT_HANDLE;if(t<=s+12&&t>=s-15&&l>=n-12&&l<=n+24-9)return eg.TOP_RIGHT_HANDLE;else if(t<=r-9+24&&t>=r-12&&l>=i-15&&l<=i+12)return eg.BOTTOM_LEFT_HANDLE;else if(t<=s+12&&t>=s-15&&l>=i-15&&l<=i+12)return eg.BOTTOM_RIGHT_HANDLE;else return eg.OUTSIDE};return(0,B.jsx)(u.kC,{justifyContent:"center",width:"100vw",children:(0,B.jsxs)(u.xu,{ref:f,dangerouslySetInlineStyle:{__style:{top:K,touchAction:"none"}},maxWidth:ec.g6,overflow:"hidden",position:"fixed",width:"100%",children:[(0,B.jsx)(et,{closeupImageDims:a,closeupImageUrl:e,cropArea:P,handleBackClick:t,onTouchEnd:()=>{[eg.NONE,eg.OUTSIDE].includes(b)||(y({event_type:b===eg.INSIDE?7603:7604,view_parameter:m,view_type:72}),i({cropArea:P,cropSource:6,visualObjects:h}))},onTouchMove:e=>{let{clientX:a,clientY:l}=e.touches[0];if(k(a),v(l),b===eg.NONE&&w(N(a,l)),null!=R&&null!=D&&null!=L){let e=l-x,t=(a-S)/j,i=e/O,r=Math.min(I+A-R,Math.max(0,I+t)),s=A+(I-r),o=Math.min(E+C-D,Math.max(0,E+i)),d=C+(E-o),u=Math.min(1-I,Math.max(R,A+t)),c=Math.min(1-E,Math.max(D,C+i));switch(b){case eg.OUTSIDE:n(Math.floor(Math.max(L,Math.min(M,K+e))));break;case eg.INSIDE:T(e=>({...e,x:Math.max(0,Math.min(1-A,I+t)),y:Math.max(0,Math.min(1-C,E+i))}));break;case eg.LEFT_CROPPER:T(e=>({...e,x:r,w:s}));break;case eg.RIGHT_CROPPER:T(e=>({...e,w:u}));break;case eg.TOP_CROPPER:T(e=>({...e,y:o,h:d}));break;case eg.BOTTOM_CROPPER:T(e=>({...e,h:c}));break;case eg.TOP_LEFT_HANDLE:T({x:r,w:s,y:o,h:d});break;case eg.TOP_RIGHT_HANDLE:T(e=>({...e,w:u,y:o,h:d}));break;case eg.BOTTOM_LEFT_HANDLE:T(e=>({...e,h:c,x:r,w:s}));break;case eg.BOTTOM_RIGHT_HANDLE:T(e=>({...e,h:c,w:u}))}}},onTouchStart:e=>{let{clientX:a,clientY:l}=e.touches[0];k(a),v(l),w(eg.NONE)},pinDominantColor:d,showBackButton:p,viewParameter:m}),!!h.length&&0!==O&&0!==j&&(0,B.jsx)(u.xu,{"data-test-id":"FlashlightDots",children:(0,B.jsx)(eu,{closeupImageTop:K,imageHeight:O,imageTop:K,imageWidth:j,onDotTap:i,pinId:c,pinImageSignature:g,setCropArea:T,shouldLogDotRender:!F,showNoHalo:s,viewParameter:m,visualObjects:h,visualObjectToHide:_})})]})})}var em=l(732988),eh=l(682661);let e_=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var ey=l(275686),ef=l(677596),eS=l(259087),ek=l(124747),ex=l(785220),ev=l(887279),eb=l(635284),ew=l(730212),eP=l(272109),eT=l(1006),eF=l(154785),eI=l(441662);function eE(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let eA={baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}},eC={NONE:0,UP:1,DOWN:2};class eK extends o.Component{constructor(...e){super(...e),eE(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:eC.NONE,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),eE(this,"onTouchStart",e=>{let{clientY:a}=e.touches[0];this.setState({startY:a,shouldAnimate:!1,scrollDirection:eC.NONE})}),eE(this,"onTouchMove",e=>{let{clientY:a}=e.touches[0],{startY:l,currentDistanceFromTop:t}=this.state,{canMoveModal:n,maxDistanceFromTop:i}=this.props,r=a-l;n&&void 0!==i&&(r>0&&t>=0&&t<i&&window.scrollY<=0||r<0&&t<=i&&t>=0)&&this.setModalPosition(a)}),eE(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:a,canMoveModal:l}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===eC.DOWN?(this.header&&eb.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,eT.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===eC.UP&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:l,currentDistanceFromTop:a||0,shouldAnimate:!0,isAtTop:!0}),this.header&&eb.Z.addObstruction("top",this.header),e&&(0,eT.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),eE(this,"handleHandleMove",e=>{let{clientY:a}=e.touches[0],{canMoveModal:l,maxDistanceFromTop:t,minDistanceFromTop:n}=this.props,{startY:i,currentDistanceFromTop:r}=this.state;l&&r<=(n||0)&&a-i>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:t,isAtTop:!1,scrollDirection:eC.NONE,shouldAnimate:!0,startY:0}))}),eE(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:a,entryPoint:l,canMoveModal:t}=this.props,{currentDistanceFromTop:n,scrollDirection:i}=this.state;i===eC.NONE&&(n===e?(this.setState({canScrollOnChildren:t,currentDistanceFromTop:a||0,shouldAnimate:!0,isAtTop:!0}),(0,eT.My)(`mweb.${l}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,eT.My)(`mweb.${l}.sliding_modal.header_touch.snap_to_bottom`)))}),eE(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:a}=this.state,{onDismiss:l,logContextEvent:t,maxDistanceFromTop:n,viewParameter:i,viewType:r}=this.props;e.stopPropagation(),l&&(t({aux_data:{commerce_data:JSON.stringify({snapped_top:0===a})},element:75,event_type:102,view_parameter:i,view_type:r}),this.setState({currentDistanceFromTop:n,startY:0,scrollDirection:eC.NONE},()=>l(e)))}),eE(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:a,shouldAnimate:l,canScrollOnChildren:t}=this.state,{baseStyles:n}=eA;return{...n,animation:"modalReveal 0.3s ease-out both",position:t?"absolute":"fixed",top:a>-1?a:void 0,bottom:0,width:"100vw",...e&&l?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),eE(this,"setModalPosition",e=>{let{startY:a,currentDistanceFromTop:l}=this.state,{maxDistanceFromTop:t,snapToEndThreshold:n,entryPoint:i}=this.props;if(t){let r=e-a,s=Math.floor("CloseupShop"===i||"CloseUpMainPinDrawer"===i?Math.max(0,l+r):Math.min(t,Math.max(0,l+r))),o=eC.NONE;if(void 0!==n&&n>=0){let e=Math.floor(n*t),a=Math.floor((1-n)*t);r<0?o=s>a?eC.DOWN:eC.UP:r>0&&(o=s>e?eC.DOWN:eC.UP)}this.setState({startY:e,currentDistanceFromTop:s,scrollDirection:o})}})}componentDidMount(){let{isOpen:e}=this.props;e&&eb.Z.pause()}componentDidUpdate(e,a){let{domainFilters:l,priceFilters:t,cropSource:n,isOpen:i,logContextEvent:r,maxDistanceFromTop:s,setHasDraggedDrawerToFullScreen:o,minDistanceFromTop:d,entryPoint:u}=this.props,{currentDistanceFromTop:c}=this.state;i&&!e.isOpen?eb.Z.pause():!i&&e.isOpen&&eb.Z.resume(),"CloseUpMainPinDrawer"===u&&s<e.maxDistanceFromTop&&c>s&&this.handleHeaderTouch(),a.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&c===(d||0)&&o&&o(!0),l&&t&&(!(0,ex.ZP)(l,e.domainFilters)||!(0,ex.ZP)(t,e.priceFilters))&&r({event_type:13,view_parameter:"related_products"===(0,eI.Z)(n)?3455:3456,view_type:72,element:11735})}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&eb.Z.removeObstruction("top",this.header),e&&eb.Z.resume()}render(){let{children:e,headerChildren:a,heading:l,inUnifiedFeedExp:t,isOpen:n,isRTL:i,mobileAccessibilityCloseIconLabel:r,mobileHideCloseIcon:s,noDivider:o,showHandle:d}=this.props,{headerHeight:c,canScrollOnChildren:g}=this.state,p=!g&&t?"32px 32px 0 0":"0";return n?(0,B.jsx)(eP.Z,{children:(0,B.jsx)(u.xu,{"aria-label":l,role:"dialog",children:(0,B.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:p}},onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,B.jsxs)(u.iP,{accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),onTap:this.handleHeaderTouch,children:[(0,B.jsxs)(u.Le,{top:c||0,children:[d&&(0,B.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:p}},"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",onTouchMove:this.handleHandleMove,children:ev.Z}),!s&&(0,B.jsxs)(u.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,B.jsxs)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,B.jsx)(u.kC,{alignItems:"center",justifyContent:"start",children:(0,B.jsx)(u.hU,{accessibilityLabel:r||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,B.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:a}){let l=a?"marginRight":"marginLeft",t=a?"marginLeft":"marginRight";return e?{[l]:38,[t]:50,marginTop:15,marginBottom:15}:{[l]:-10,[t]:50,marginTop:15,marginBottom:15}}({isRTL:i})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,B.jsx)(u.X6,{accessibilityLevel:2,align:"center",size:"400",children:l})})]}),a||null,!o&&(0,B.jsx)(u.iz,{})]})]}),(0,B.jsx)(u.xu,{overflow:g?"auto":"visible",children:e})]})})})}):null}}function eL(e){let a=(0,p.ZP)(),l=(0,W.Z)(),{isRTL:t}=(0,ew.B)(),n=(0,eF.Z)();return(0,B.jsx)(eK,{...e,i18n:a,isRTL:t,logContextEvent:l,trackInteraction:n})}let ej=`
  html, body {
    overscroll-behavior: none;
  }
`;function eO(){return Math.min(ec.g6,window.innerWidth)}function eR(e,a){return Math.floor(eO()/a*e)}function eD(e,a){let l=0,t=0,n=0;if(e&&e.imageSpec_736x){var i,r;let a=e?e.imageSpec_736x:null;l=eO(),t=eR(a?.height??1,a?.width??1),i=a?.height??1,r=a?.width??1,n=Math.min(Math.floor(.6*window.innerHeight),eR(i,r))}return{closeupImageWidth:l,closeupImageHeight:t,closeupImageMinTop:n-t,closeupImageTop:a||0,minCropperWidthRatio:l?50/l:0,minCropperHeightRatio:t?50/t:0,modalTop:n}}function eM(e,a,l,t,n){let i=l?Number(l):.4,r=t?Number(t):.1;return e>0&&a>0&&(l||(i=(a-2*a*.1-n)/e),t||(r=.1*a/e)),{h:i,y:r}}function eN({cropArea:e,cropSource:a,headerHeight:l,inUnifiedFeedExp:t,isShopTheLookFeed:n,pin:i,pinId:r,queryH:c,queryY:g,requestParams:m,searchResourceOptions:h,setCropSource:_,setState:y,state:C,surfaceType:K,visualSearchFlashlightUnifiedResource:O}){let R=(0,p.ZP)(),{logContextEvent:H}=(0,v.v)(),V=(0,f.I0)(),W=(0,d.k6)(),{previous:$}=(0,w.Hv)(),Y=(0,d.TH)(),{isAuth:q}=(0,s.Z)(),{width:Q}=(0,x.Z)()||{},{onCarouselTouchStart:X,onCarouselTouchMove:J,onCarouselTouchEnd:ee}=function(){let[e,a]=(0,o.useState)(0),[l,t]=(0,o.useState)(0),[n,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),[d,u]=(0,o.useState)(void 0);function c(){s(!1),i(!1),u(void 0)}function g(e,a){"vertical"!==a&&e.stopPropagation()}return{onCarouselTouchStart:function(e){let{clientX:l,clientY:n}=e.touches[0];a(l),t(n),c()},onCarouselTouchMove:function(a){let{clientX:t,clientY:o}=a.touches[0],c=Math.abs(t-e);Math.abs(o-l)>10&&i(!0),c>10&&s(!0),r&&n?u(e=>e||"vertical"):r?u(e=>e||"horizontal"):n?u(e=>e||"vertical"):u(void 0),g(a,d)},onCarouselTouchEnd:function(e){g(e,d),c()}}}(),ea=(0,S.Z)(),el=(i.visualObjects??[]).filter(e=>e.isStela).map(M.Z),[et,en]=(0,o.useState)((0,j.Z)(el,e)),ei=O?.auxData?.metadata?.one_bar_modules,[er,es]=(0,o.useState)([]),eo=Y.pathname+Y.search,[ed,eu]=(0,o.useState)({}),{isCropAreaOnDotArea:ec,dotIndexToHide:eg}=et,ex=e=>V((0,ey.By)(e)),ev=e=>V(e_(e)),{data:eb,fetchMore:ew,isAtEnd:eP,isFetching:eT,isLoaded:eF}=O||{},eI=eb?.results||[],eE=eI.find(e=>"story"===e.type),eA=!!eE&&"stl"!==K,eC=eI.flatMap(e=>"pin"===e.type?e:[]),{url:eK=`/pin/${r}`,text:eO=""}=eE?.action||{},eR=R._('Shop similar', 'mobileFlashlight.productUpsellTitle', 'Shop similar products from the image.'),eN=R._('Image search', 'mobileFlashlight.organicFeedTitle', 'Search results from the image.'),eZ=R._('Shop the look', 'mobileFlashlight.shopTheLookFeedTitle', 'Shop the look for similar products from the cropped image.'),ez=n?eZ:eN,eU=R._('Visual search', 'Visual search results', 'Visual search results'),eH=t||n,{closeupImageWidth:eV,modalTop:eB}=C.closeupImageDims,eG=i?.imageSpec_736x?.url??"",eW=!Q||Q-60<eV&&eH,e$=!eW&&eH;function eY(){if(0===$.length){W.replace(`/pin/${r}/`);return}W.goBack()}let eq=(0,o.useMemo)(()=>eD(i,l),[i.entityId,l]);if((0,o.useEffect)(()=>{if(ei){let e=(0,F.Z)(I.Z,!0)(ei);eu(a=>({...a,[eo]:e}))}},[ei,eo]),(0,o.useEffect)(()=>{es(ed[eo]||[])},[ed,eo]),(0,o.useEffect)(()=>{let{closeupImageHeight:e,modalTop:a=0}=eq,t=eM(e,a,Number(c),Number(g),l||0);y(e=>({...e,closeupImageDims:eq,...t}))},[eq]),(0,L.Z)(()=>{ev(a)}),0===eB)return null;let{auxData:eQ,viewType:eX,viewParameter:eJ}=function({cropSource:e,inUnifiedFeedExp:a,isCropAreaOnDotArea:l,isProductPage:t,surfaceType:n}){let i=a||"stl"===n,r=4===e||l,s=t?"product":"stl"===n?r?"product":"organic":a&&r?"unified":"organic";return{auxData:(()=>{let e=e=>({commerce_data:JSON.stringify({is_product_only_feed:e})});return"product"===s?e(!0):"unified"===s?e(!1):i?e(!1):void 0})(),viewType:"product"===s?427:72,viewParameter:"organic"===s?3050:3462}}({cropSource:a,inUnifiedFeedExp:t,isCropAreaOnDotArea:ec,isProductPage:!1,surfaceType:K});function e0(){H({component:14339,element:179,event_type:102,view_parameter:eJ,view_type:eX})}return(0,B.jsxs)(o.Fragment,{children:[(0,B.jsx)(P.Z,{unsafeCSS:ej}),(0,B.jsx)(N.Z,{auxData:eQ,viewParameter:eJ,viewType:eX,children:(0,B.jsx)(A.Z,{view:eX,children:(0,B.jsxs)(T.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,B.jsx)(em.Z,{text:R._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,B.jsx)(u.xu,{color:"dark",height:"100vh",width:"100vw"}),(0,B.jsx)(ep,{closeupImageDims:C.closeupImageDims,closeupImageUrl:eG,cropArea:e,handleBackClick:eY,handleChangeCloseupImageTop:function(e){y(a=>({...a,closeupImageDims:{...a.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:a,visualObjects:l}){ev(a),ex(r),en((0,j.Z)(l,e)),_(a),y(a=>({...a,...e})),W.replace((0,D.Z)({cropArea:e,cropSource:a,isProductPage:!1,pinId:r,requestParams:m,surfaceType:K}))},headerHeight:l,inUnifiedFeedExp:eH,pinDominantColor:i.dominantColor||"#efefef",pinId:r,pinImageSignature:i.imageSignature,showBackButton:eW,viewParameter:eJ,visualObjects:el,visualObjectToHide:eg}),e$&&(0,B.jsx)(G,{handleBackClick:eY,viewParameter:eJ,viewType:eX}),(0,B.jsxs)(eL,{canMoveModal:!0,cropSource:a,entryPoint:"flashlight",headerHeight:l,heading:eU,inUnifiedFeedExp:eH,isOpen:!0,location:Y,maxDistanceFromTop:eB||0,minDistanceFromTop:q?60:l,mobileAccessibilityCloseIconLabel:R._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),mobileHideCloseIcon:eH,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eY,pinId:r,shouldSnapToEnds:!0,showHandle:eH,snapToEndThreshold:.3,viewParameter:eJ,viewType:eX,children:[(0,B.jsx)(u.$j,{accessibilityLabel:R._('Loading visual search results', 'mobileFlashlightPage.loadingSpinner', 'Spinner for loading the visual search result'),show:eH&&!eF}),eH&&eF&&(0,B.jsxs)(o.Fragment,{children:[ea&&4===a&&er.length>0&&(0,B.jsx)(u.xu,{marginBottom:4,paddingX:2,children:(0,B.jsx)(Z.v,{children:(0,B.jsx)(k.f,{children:(0,B.jsx)(eS.Z,{oneBarModules:er})})})}),eA&&(0,B.jsxs)(u.xu,{marginBottom:-6,children:[(0,B.jsxs)(u.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,B.jsx)(u.Tg,{href:eK,onTap:({event:e})=>{e.stopPropagation(),e0()},tapStyle:"compress",children:(0,B.jsx)(u.X6,{accessibilityLevel:2,size:"400",children:eR})}),(0,B.jsx)(u.I_,{accessibilityLabel:eO||R._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:eK,icon:"arrow-forward",iconColor:"darkGray",onClick:e0,size:"sm"})]}),(0,B.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},onTouchEnd:ee,onTouchMove:J,onTouchStart:X,children:(0,B.jsx)(E.default,{component:14339,disableHeader:!0,story:eE,storyKey:eE?{type:"deprecated",data:eE}:null,surface:"ShoppingDynamicHeightGrid",view:eX,viewParameter:eJ,width:Q})})]}),(0,B.jsx)(u.xu,{marginBottom:3,paddingX:4,children:(0,B.jsx)(u.X6,{accessibilityLevel:2,size:"400",children:ez})}),(0,B.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},paddingX:b.D6,children:(0,B.jsx)(ek.Z,{feedItems:eC,feedKey:(0,ef.J)("VisualSearchFlashlightUnifiedResource",h)??"",pagination:{loadNext:ew||(()=>void 0),hasNext:!eP,isLoadingNext:eT||!1,refetch:()=>void 0},renderFeedItem:(e,a)=>(0,B.jsx)(U.Z,{children:(0,B.jsx)(eh.ZP,{auxData:eQ,componentType:0,duploQueryRef:null,pinId:e.id??"",slotIndex:a,trackingParams:e.tracking_params||void 0,trafficSource:n?"shop_feed":void 0,viewParameter:eJ,viewType:eX})})})})]}),!eH&&(0,B.jsx)(u.xu,{color:"default",paddingX:b.D6,children:(0,B.jsx)(z.ZP,{feedItemProps:{viewParameter:eJ,viewType:eX},feedKey:(0,ef.J)("VisualLiveSearchResource",h)??"",resourceConfig:{name:"VisualLiveSearchResource",options:h},trafficSource:"flashlight"})})]})]})})})]})}function eZ(e){let{searchResourceOptions:a}=e,l=(0,_.Z)({name:"VisualSearchFlashlightUnifiedResource",options:a});return(0,B.jsx)(eN,{...e,visualSearchFlashlightUnifiedResource:l})}let ez=void 0!==t?t:t=l(149234);function eU({pinKey:e}){let{checkExperiment:a}=(0,m.F)(),l=a("mweb_flashlight_unified_feed").anyEnabled||a("mweb_unified_visual_features_expansion").anyEnabled,t=(0,d.$B)(),{pinId:n}=(0,y.Z)(t.params.id||""),i=(0,d.TH)(),u=(0,K.mB)(i.search),{cropSource:g,filters:p,hybrid_search_param:h,journey_depth:_,search_query:f,source_module_id:S,x:k,y:x,h:v,w:b,surfaceType:w,requestParams:P}=u,T=w||"flashlight",{isAuth:F}=(0,s.Z)(),I=(0,r.ZP)(),E=!F&&(0,C.x9)(I)||void 0,A=(0,c.Z)(ez,e),[L,j]=(0,o.useState)(()=>{let e=eD(A,E);e.closeupImageTop=0;let{closeupImageHeight:a,modalTop:l=0}=e,t=eM(a,l,Number(v),Number(x),E||0);return{closeupImageDims:e,x:k?Number(k):.1,w:b?Number(b):.8,y:t.y,h:t.h}}),[D,M]=(0,o.useState)(()=>(0,O.Z)(Number(g))||(k&&x&&v&&b?6:5));if(!A)return null;let N={x:L.x,y:L.y,w:L.w,h:L.h},Z="stl"===T&&4===D,z=(0,R.Z)({cropSource:D,isProductPage:!1,surfaceType:T,queryEntrypoint:u.entrypoint}),U={pin_id:n,crop:N,crop_source:D,is_shopping:Z,entry_source:Z?"shopping":"flashlight",entrypoint:z,filters:p,hybrid_search_param:h,journey_depth:parseInt(_,10)||void 0,search_query:f,source_module_id:S},H={cropArea:N,cropSource:D,headerHeight:E,inUnifiedFeedExp:l,isShopTheLookFeed:Z,pin:A,pinId:n,queryH:v,queryY:x,requestParams:P,searchResourceOptions:U,setCropSource:M,setState:j,state:L,surfaceType:T};return l||Z?(0,B.jsx)(eZ,{...H}):(0,B.jsx)(eN,{...H})}var eH=l(66560);let eV=void 0!==n?n:n=l(660036),eB=void 0!==i?i:i=l(530118);function eG(){let{checkExperiment:e}=(0,m.F)(),a=(0,d.$B)(),{pinId:l}=(0,y.Z)(a.params.id||""),t=(0,r.HG)(),n=e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled,i=(0,g.Z)({strategy:n?"GRAPHQL":"LEGACY",query:eB,variables:{pinId:l,isDesktop:t},useGetLegacyData:({pinId:e})=>{let{data:a}=(0,_.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),l=(0,eH.S6)()(e);return a??l}}),s=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,o=(0,c.Z)(eV,s);return(0,B.jsx)(eU,{pinKey:o})}function eW(){let e=(0,p.ZP)();return(0,B.jsx)(h.Z,{measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,B.jsx)(o.Suspense,{fallback:(0,B.jsx)(u.$j,{accessibilityLabel:e._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:(0,B.jsx)(eG,{})})})}var e$=l(809079),eY=l(635970);let eq=function(){let e=(0,r.HG)(),a=(0,s.Z)();return e?a.isAuth?(0,B.jsx)(eY.Z,{}):(0,B.jsx)(e$.Z,{}):(0,B.jsx)(eW,{})}},748327:(e,a,l)=>{"use strict";function t(e){let[a,l]=e.split(/\/(.*)+/);return{filepath:l||"",site:a||""}}function n(e,a){return a?`${e||""}/${a}`:`/${e||""}`}l.d(a,{ac:()=>t,ke:()=>n})},855746:(e,a,l)=>{"use strict";l.d(a,{MM:()=>r,uo:()=>s,wH:()=>i});var t=l(498490),n=l(748327);let{Provider:i,useHook:r}=(0,t.Z)("HandlerId");function s(){let e=r();return(0,n.ac)(e).site}},974556:(e,a,l)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/visual-search",function(){return l(985572).Z}])},585913:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg"},913574:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg"},49808:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_left-68937c82.svg"},957435:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg"}},e=>{var a=a=>e(e.s=a);e.O(0,[97270,83119,15787,74377,76594,83374,89820,50289,5710,168,88027,9073,32859,90917,84659,87203,81507,32815,55059,99641,58694,72372,77596],()=>a(974556)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-2c34a182077f30e7.mjs.map