"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[87203,90907,18755],{11475:(e,a,i)=>{i.r(a),i.d(a,{default:()=>t});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};n.hash="d9fe632f7481dc91f9007bbd592d44c2";let t=n},357289:(e,a,i)=>{i.r(a),i.d(a,{default:()=>t});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};n.hash="4b0c4a7a095db0d3cc7f22f3f6c85086";let t=n},384777:(e,a,i)=>{var n;i.r(a),i.d(a,{default:()=>l});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:n,storageKey:'images(spec:"170x")'}],type:"Board",abstractKey:null};t.hash="25fa66fe4860f02b2ce5d43d2db22ddd";let l=t},462812:(e,a,i)=>{i.r(a),i.d(a,{default:()=>t});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};n.hash="6016b14b2081c4349ad3f3a910cc2ea7";let t=n},511259:(e,a,i)=>{var n;i.r(a),i.d(a,{default:()=>l});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="4ffad4c63399ee2e54c9a3a86d114984";let l=t},107414:(e,a,i)=>{i.r(a),i.d(a,{default:()=>t});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="dbfca9820e0aa1302554a0137a270b16";let t=n},730490:(e,a,i)=>{i.r(a),i.d(a,{default:()=>t});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};n.hash="461a57fcc8f7958e3742c217e4cc45a2";let t=n},38370:(e,a,i)=>{var n;i.r(a),i.d(a,{default:()=>l});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="a3cbf6d55cf89d97d6e04c32195968d9";let l=t},55962:(e,a,i)=>{var n,t;i.r(a),i.d(a,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};l.hash="6588018e2880f2695fc6c4ba45aab606";let r=l},883857:(e,a,i)=>{var n;i.r(a),i.d(a,{default:()=>l});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};t.hash="b49953855cdc69f6ee2c8d4925149d23";let l=t},829196:(e,a,i)=>{i.d(a,{YS:()=>s,eF:()=>d,m_:()=>r});var n=i(431705),t=i(194093),l=i(415787);function r(e,a,i,t,r){let s=new URLSearchParams,d=a.reduce((e,a)=>{if(null!=a){let i=function(e){let a;try{a=decodeURIComponent(e)}catch(i){a=e}a.startsWith("http")?a.startsWith("http://")&&(a=a.replace("http://","https://")):a="https://"+a;try{return new URL(a).origin}catch(n){let i=a.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(a);return e.add(i)}return e},new Set);s.append(n.NR.SOURCE_EVENT_ID,e??"0"),s.append(n.NR.DESTINATION,JSON.stringify([...d])),s.append(n.NR.EXPIRY,i?n.uV:n.ug),s.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),r&&s.append(n.NR.ADVERTISER_ID,r),t&&s.append(n.NR.CAMPAIGN_ID,t),s.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(n.NR.HOSTNAME,e)}catch(e){(0,l.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}async function s(e,a,i,n,s,d,o,u,p){let c;let{appType:g,osType:m}=d||{},y="",h="";if(["Pin","pinImpressions"].includes(e)&&a&&(n||u||p)){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:g,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:g,osType:m}});return}y=r(i,[n,u,p],!1,s,o);try{h=new URL(window.location.href).hostname}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(h&&"www.pinterest.com"!==h)document.createElement("img").setAttribute("attributionsrc",y),(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:g,osType:m,hostname:h}});else if(!(c=await window.fetch(y,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:g,osType:m}})}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,t.Z)(e,"name"),message:(0,t.Z)(e,"message"),appType:g,osType:m,hostname:h,responseStatus:c&&c.status}})}}else(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:g,osType:m}})}function d(e){if(e){let a=e.toLowerCase();if(a.includes("windows"))return"windows xp"===a?1:"windows vista"===a?2:"windows 7"===a?3:"windows 8"===a?4:12;if(a.includes("mac os"))return 5;if(a.includes("android"))return 7;if(a.includes("ios"))return 6;if(a.includes("ubuntu"))return 8;if(a.includes("chromium os"))return 13}return 0}},713211:(e,a,i)=>{function n(e){return[0,24,21,26].includes(e)}function t({articleType:e,id:a,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${a}/`:`/discover/article/${n}/${a}/`}i.d(a,{x:()=>t,y:()=>n})},118755:(e,a,i)=>{i.d(a,{G6:()=>l,i7:()=>r,oi:()=>n,u$:()=>t,un:()=>d,vU:()=>s,w1:()=>o});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),t=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function l(e){return t(e)===n.SAFARI}function r(e){return t(e)===n.CHROME}function s(e){return t(e)===n.FIREFOX}function d(e){return t(e)===n.EDGE}function o(e){return t(e)===n.IE}},129666:(e,a,i)=>{i.d(a,{P:()=>h,Z:()=>y}),i(167912);var n,t,l,r,s=i(47848);let d=void 0!==n?n:n=i(38370),o=void 0!==t?t:t=i(883857);var u=i(529521),p=i(415787);let c=void 0!==l?l:l=i(55962),g=!1,m=void 0!==r?r:r=i(730490);function y(e){let a=(0,s.Z)(m,e),i=function(e){let a=(0,s.Z)(d,e);return a?.carouselData?{index:a.carouselData.index,carouselId:a.carouselData.entityId,carouselSlots:a.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}))??[]}:null}(a),n=function({pinKey:e,index:a}){let i=(0,s.Z)(c,e),n=(i?.richMetadata||i?.richSummary)?.products?.[0]||null,t=(i?.richMetadata?.products?.length??0)+(i?.richSummary?.products?.length??0);if(null!=e&&t>1&&!g){g=!0;let a=(0,u.oy)(e);(0,p.nP)("autoLegacyAdapter.overfetch.usePinProductCarouselData_pin",{sampleRate:.1,tags:{totalLength:t,isGraphQL:"GraphQL"===a}})}let l=function(e){let a=(0,s.Z)(o,e);if(!a)return[];let i={},{image236x:n,image474x:t,image564x:l,image736x:r}=a;return[[n,"236x"],[t,"474x"],[l,"564x"],[r,"736x"]].forEach(([e,a])=>{(Array.isArray(e)?e:[]).forEach(({canonicalImage:e,imageSignature:n})=>{n&&e&&(i={...i,[n]:{...i[n],[a]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,a])=>({imageSignature:e,imageSizeMap:a}))}(n);return n&&l.length?{carouselId:n.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":i?.image236x&&{height:i.image236x.height,url:i.image236x.url,width:i.image236x.width},"474x":i?.image474x&&{height:i.image474x.height,url:i.image474x.url,width:i.image474x.width},"564x":i?.image564x&&{height:i.image564x.height,url:i.image564x.url,width:i.image564x.width},"736x":i?.image736x&&{height:i.image736x.height,url:i.image736x.url,width:i.image736x.width}}},...l],index:a}:null}({pinKey:a,index:i?.index});return n?{...n,carouselSlots:n.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:i}function h({children:e,pinKey:a}){return e(y(a))}},835593:(e,a,i)=>{i.d(a,{Q:()=>r});var n=i(167912),t=i(529521),l=i(532321);function r(e,a,{useLegacyAdapter:i}){if(null==a)return{data:null,childDataKey__DEPRECATED:null};let r=(0,t.jc)(a);if("deprecated"===r.type){let{data:a}=r;return null==a?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,i)(a),childDataKey__DEPRECATED:r}}let s=(0,n.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},788388:(e,a,i)=>{i.d(a,{F:()=>_,Z:()=>h});var n=i(667294),t=i(829196),l=i(118755),r=i(573706),s=i(39260),d=i(635284),o=i(730212),u=i(410150),p=i(644797),c=i(243583),g=i(415787),m=i(855746);let y={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function h({carouselData:e,closeupImpressionType:a,closeupNavigationType:i,componentType:h,contextLogData:_,clientTrackingParams:v,duploShouldTrackPinEvents:I,elementType:S,impressionAuxFields:x,inImpressionExp:f,impressionType:P,impressionsFramework:w,isPaused:T,loggingId:b,objectIdStr:k,slotIndex:D,trackCarousel:F,viewData:E,viewParameter:L,viewType:R,isPromoted:K,storyPinProductEventData:A}){let{logContextEvent:C}=(0,r.v)(),{logMrcVideoAdEventOnPlay:G}=(0,p.r)(),{userAgent:{browserName:O}}=(0,o.B)(),{logStat:M}=(0,c.Yg)(),N=w||d.Z,j=(0,n.useRef)(null),Z=n=>{let r=y[P],s=r.idType,d={clientTrackingParams:v,endTime:n.endTime,[s]:b,slotIndex:D,time:n.startTime,renderDuration:n.endTime-n.startTime,type:a,...x,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===P){let e=[],a=n.visibleEvents||new Map,i=n.hiddenEvents||new Map;if([1,50,80,2].forEach(n=>{a.has(n)&&e.push({type:n,time:1e6*(a.get(n)||0),visible:!0}),i.has(n)&&e.push({type:n,time:1e6*(i.get(n)||0),visible:!1})}),d={...d,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,a)=>e.time-a.time)},(0,l.i7)(O)&&x&&x.isPromoted){let{attributionSourceId:e,isPromoted:a,link:i,campaignId:n,araAuxData:l,advertiserId:r,domain:s,adDestinationUrl:d}=x;(0,t.YS)(P,a??null,e??null,i??null,n??null,l??null,r??null,s??null,d??null)}}let o={component:h,object_id_str:k,view_type:R,view_data:E||{},view_parameter:L};if(F)e&&F&&C({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...d,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...o,aux_data:{..._}});else{let e={clientTrackingParams:v,event_type:r.eventType,...o,element:S,event_data:{[r.impressionType]:"Story"===P?d:[d],...A?{storyPinProductEventData:A}:{}},aux_data:{closeup_navigation_type:i,..._}};C(e),G(e)}I&&M("log_pin_impression")},{expName:B,group:H}=(0,s.Z)({skipActivation:!0}),Q=(0,u.ZP)(),U=(0,m.MM)(),{isAuthenticated:V}=(0,o.B)(),W=(0,n.useCallback)(()=>{let e=!1;try{let{current:a}=j;if(a instanceof HTMLElement&&(!K||a.getElementsByTagName("img").length>0)){let i=N.start(a);i.onExitViewport(Z).setDebugId(b||"unknown"),I&&i.onEnterViewport(()=>{M("log_pin_impression_track_enter_viewport")}),e=!0,H&&(0,g.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:Q,experimentName:B,group:H,handlerId:U,isAuthenticated:V,slotIndex:D??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}I&&M("log_pin_impression_track",{didStartTracking:e})},[j.current]);return(0,n.useEffect)(()=>(f&&!N.inExperiment&&N.setExperimentStatus(!0),T||W(),()=>{let{current:e}=j;e instanceof HTMLElement&&(!K||e.getElementsByTagName("img").length>0)&&N.stop(e)}),[T,W]),j}let _=({children:e,...a})=>e({impressionTrackerRef:h(a)})},731972:(e,a,i)=>{i.d(a,{Z:()=>n});function n(e){let a=!1;return{promise:new Promise((i,n)=>{e.then(e=>a?n({isCanceled:!0}):i(e),e=>a?n({isCanceled:!0}):n(e))}),cancel(){a=!0}}}},205906:(e,a,i)=>{i.d(a,{J:()=>n,Z:()=>t});let n=-1;function t(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},436922:(e,a,i)=>{i.d(a,{W:()=>r,Z:()=>l});var n=i(883119),t=i(785893);function l({data:e}){return(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",overflow:"auto",children:(0,t.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let r=e=>(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:10}},width:236,children:(0,t.jsx)(l,{...e})})},151958:(e,a,i)=>{i.d(a,{Y:()=>g,Z:()=>m});var n,t,l=i(667294);i(167912);var r=i(532321),s=i(835593);let d=void 0!==n?n:n=i(462812),o=void 0!==t?t:t=i(511259),u=e=>{let a=Symbol("SKIP"),i=e=>Object.entries(e).filter(([,e])=>e!==a).reduce((e,[a,i])=>({...e,[a]:i}),{});if("deprecated"!==e.type){let n=e.data;return i({...n.isEligibleForPdp||n.isOosProduct||n.isStaleProduct?{...(()=>{let e=n.richMetadata?.products?.[0];return{carousel_image_count:a,brand_signature:e?.brand?.signature||a,free_shipping_price:e?.shippingInfo?.freeShippingPrice||a,free_shipping_value:e?.shippingInfo?.freeShippingValue||a,num_variants:e?.variantSet?.variants?.length||a,total_dimension_option_count:e?.variantSet?.dimensionMetadata?.length||a,valid_dimension_option_count:a}})(),pin_show_pdp_oos:!!n.isOosProduct||a,pin_show_pdp_stale:!!n.isStaleProduct||a,pin_show_pdp:!!n.isEligibleForPdp||a}:{},pin_is_shop_the_look:!!(n.shoppingFlags?.includes(2)||n.aggregatedPinData?.isShopTheLook)||a,is_available:!!n.shoppingFlags?.includes(1)||a,is_product_pin_v2:!!n.shoppingFlags?.includes(5)||a,is_rich_product_pin:!!n.shoppingFlags?.includes(6)||a,is_organic_product_carousel:a,item_id:(n.richSummary?.products?.[0]||{}).itemId||a,item_set_id:(n.richSummary?.products?.[0]||{}).itemSetId||a,story_pin_id:n.storyPinData?n.storyPinDataId:a})}{let n=e.data;return n?i({...n.is_eligible_for_pdp||n.is_oos_product||n.is_stale_product?{...(()=>{let e=(n.rich_metadata||n.rich_summary)?.products?.[0],i=e?.additional_images?.length?(n.images?1:0)+e.additional_images.length:n.carousel_data?.carousel_slots?.length,t=n.rich_metadata?.products?.[0],l=t?.variant_set?.variants??[];return{carousel_image_count:i||a,brand_signature:t?.brand?.signature||a,free_shipping_price:t?.shipping_info?.free_shipping_price||a,free_shipping_value:t?.shipping_info?.free_shipping_value||a,num_variants:l.length||a,total_dimension_option_count:t?.variant_set?.dimension_metadata?.length||a,valid_dimension_option_count:(t?.variant_set?.dimension_metadata||[]).reduce((e,{name:a,values:i})=>e+(a&&i||[]).filter(e=>l.some(i=>i.dimensions?.[a??""]===e)).length,0)||a}})(),pin_show_pdp_oos:!!n.is_oos_product||a,pin_show_pdp_stale:!!n.is_stale_product||a,pin_show_pdp:!!n.is_eligible_for_pdp||a}:{},pin_is_shop_the_look:!!(n.shopping_flags?.includes(2)||n.aggregated_pin_data?.is_shop_the_look)||a,is_available:!!n.shopping_flags?.includes(1)||a,is_product_pin_v2:!!n.shopping_flags?.includes(5)||a,is_rich_product_pin:!!n.shopping_flags?.includes(6)||a,is_organic_product_carousel:!!(n.shopping_flags?.includes(10)||(n.product_pin_data?.items?.[0]||{}).additional_images)||a,item_id:(n.rich_summary?.products?.[0]||{}).item_id||a,item_set_id:(n.rich_summary?.products?.[0]||{}).item_set_id||a,story_pin_id:n.story_pin_data?n.story_pin_data_id:a}):{}}},p=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},c=e=>{let{childDataKey__DEPRECATED:a}=(0,s.Q)(d,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:i}=(0,r.Zm)(o,null==a?{type:"deprecated",data:null}:a,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),n=(0,l.useRef)(i);return(0,l.useEffect)(()=>{n.current=i}),(0,l.useCallback)(e=>p({...e?.default,...u(n.current),...e?.override}),[])},g=({children:e,pinKey:a})=>e(c(a)),m=c},639686:(e,a,i)=>{i.d(a,{Z:()=>l});var n=i(667294),t=i(731972);function l(){let e=(0,n.useRef)([]),a=(0,n.useRef)({});return(0,n.useEffect)(()=>()=>{[...Object.keys(a.current).map(e=>a.current[e]),...e.current].forEach(e=>e())},[]),function(i,n){if(n){let e=a.current[n];e&&(e(),delete a.current[n])}let{cancel:l,promise:r}=(0,t.Z)(i);return n?a.current[n]=l:e.current=[...e.current,l],r}}},644797:(e,a,i)=>{i.d(a,{W:()=>u,r:()=>o});var n=i(667294),t=i(573706),l=i(498490),r=i(297728),s=i(785893);let{Provider:d,useHook:o}=(0,l.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:a,logImpression:i}=(0,t.v)(),{checkExperiment:l}=(0,r.F)(),[o,u]=(0,n.useState)(!1),[p,c]=(0,n.useState)([]),[g,m]=(0,n.useState)([]),[y,h]=(0,n.useState)({}),_=l("web_ads_mrc_video_impression").anyEnabled,v=e=>{h(a=>({...a,[e]:!0}))},I=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:a}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");_&&(a||i)&&c(a=>[...a,e].slice(-1e3))}},[_]),S=(0,n.useCallback)(e=>{18===e.eventType&&_&&m(a=>[...a,e].slice(-1e3))},[_]),x=e=>{let{time:a}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:a,renderDuration:0}]}}},f=e=>{if(e.eventData){let{time:a}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:a??0}}}return null};(0,n.useEffect)(()=>{let e=p.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!y[i]||!_||(a(x(e)),!1)});e.length!==p.length&&c(e)},[p,_,a,y]),(0,n.useEffect)(()=>{let e=g.filter(e=>{let a=e.eventData?.pinIdStr;if(!a)return!1;if(y[a]&&_){let a=f(e);return a&&i(a),!1}return!0});e.length!==g.length&&m(e)},[g,_,i,y]);let P=(0,n.useMemo)(()=>({captionsEnabled:o,logMrcVideoAdImpressionOnPlay:S,logMrcVideoAdEventOnPlay:I,setCaptionsEnabled:u,setVideoPlayed:v,videosPlayed:y}),[o,I,S,y]);return(0,s.jsx)(d,{value:P,children:e})}},87416:(e,a,i)=>{i.d(a,{Cy:()=>o,HE:()=>u,Mv:()=>l,Y4:()=>p,dL:()=>t,fS:()=>c,fv:()=>s,lu:()=>g,qS:()=>d,u:()=>m,uc:()=>r});var n=i(788388);let t=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},l=e=>{let a=(0,n.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},r=e=>{let a=(0,n.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},s=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:a})},d=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},o=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},u=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},p=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},c=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:a})},g=e=>{let a=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:a})},m=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})}},740366:(e,a,i)=>{i.d(a,{Z:()=>n});function n({isDesktop:e}){return e?0:1}},845873:(e,a,i)=>{i.d(a,{bn:()=>s,fJ:()=>o,gC:()=>d});var n=i(545007),t=i(498490),l=i(785893);let{Provider:r,useHook:s}=(0,t.Z)("Boards");function d(){let e=s();return a=>e[a]}function o({children:e}){let a=(0,n.v9)(({boards:e})=>e,n.wU);return(0,l.jsx)(r,{value:a,children:e})}},464099:(e,a,i)=>{i.d(a,{Z:()=>d}),i(167912);var n,t=i(47848),l=i(410150),r=i(383399);let s=void 0!==n?n:n=i(384777),d=e=>{let a=(0,l.HG)(),i=(0,r.Z)(),n=i?.isAuth??!1,d=(0,t.Z)(s,e);return e=>{if(a&&n)return d?.coverPin?.imageUrl??d?.coverImageSpec_222x?.url??(d?.image_170x||[])[0]?.url??"";let i=d?.imageCoverHdUrl||d?.imageCoverUrl;if(i)return i;let t=d?.coverImageSpec_400x300?.url??d?.coverImageSpec_222x?.url??d?.coverImageSpec_216x146?.url??"";return e&&e>2&&t?t:d?.imageCoverUrl||""}}},243583:(e,a,i)=>{i.d(a,{Yg:()=>d,ib:()=>u,nF:()=>c,xX:()=>p});var n=i(297728),t=i(730212),l=i(410150),r=i(415787);let s=({checkExperiment:e})=>{let{group:a}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,r.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:a,...i}})}},d=()=>{let{isAuthenticated:e}=(0,t.B)(),a=(0,l.HG)(),{checkExperiment:i}=(0,n.F)();return e&&!a?s({checkExperiment:i}):{logStat:()=>{}}},o=0,u=({checkExperiment:e,isAuthMweb:a})=>{if(!a)return;let{logStat:i}=s({checkExperiment:e});(o+=1)<10&&i(`repin_${o}`)};function p({checkExperiment:e,isDesktop:a,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(a){let{anyEnabled:a}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:a,isGraphQLEnabledInGeneral:a,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:a,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:a,isGraphQLEnabledForRelatedPins:a,closeupPageSuspenseBehavior:a?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function c(){let{checkExperiment:e}=(0,n.F)(),a=(0,l.HG)(),{isAuthenticated:i}=(0,t.B)();return p({checkExperiment:e,isDesktop:a,isAuthenticated:i})}},166124:(e,a,i)=>{i.r(a),i.d(a,{default:()=>g});var n,t=i(545007);i(167912);var l=i(883119),r=i(129666),s=i(47848),d=i(115642),o=i(359422),u=i(409065),p=i(785893);let c=void 0!==n?n:n=i(11475);function g({carouselData:e,carouselIndex:a,componentType:i,contextLogData:n,enablePagination:g=!1,handleCarouselSwipe:m,isCloseup:y,isEditMode:h,itemsPerPage:_,pinKey:v,viewParameter:I,viewType:S,variant:x}){let f=(0,s.Z)(c,v),P=(0,o.Z)(f),w=(0,r.Z)(f),T=e||w&&{carouselSlots:w.carouselSlots.map(({slotId:e,title:a})=>({id:e,title:a})),entityId:w.carouselId??"",index:w.index},b=(0,t.I0)();if(!T)return null;let k=(e,a,t)=>{h||void 0===u.yR||(e.preventDefault(),e.stopPropagation(),b((0,u.yR)(f?.entityId??"",t))),void 0!==m&&m(t),P({pinId:f?.entityId??"",currentIndex:a??0,nextIndex:t,carouselData:{carouselSlots:T.carouselSlots?.map(e=>({id:e.id})),entityId:T.entityId},viewParameter:I,viewType:S,componentType:i,contextLogData:n,isEditMode:h})},{carouselSlots:D,index:F}=T,E="number"==typeof a?a:F,L=D?.length&&_?Math.ceil(D?.length/_):void 0,R="default"===x,K=R?"white":"#555",A=R?"rgba(255, 255, 255, 0.5)":"lightGray",C=(e,a)=>(0,p.jsx)(l.xu,{paddingX:1,children:(0,p.jsx)(l.iP,{accessibilityLabel:(e||{}).title??"",fullWidth:!1,onTap:({event:e})=>k(e,E,a),rounding:"circle",children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a===E?K:A}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},`${e?.id}-${a}`);return(0,p.jsx)(d.ZP.Consumer,{children:({closeupWithinMasonryEnabled:e,viewportSize:a})=>"sm"===a&&(e&&14339!==i&&14394!==i||!e)?null:D&&(0,p.jsx)(l.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:y?"end":"center",paddingY:h?1:0,children:g?_&&[...Array(L).keys()].map(e=>C(D[e*_],e*_)):[...Array(D.length).keys()].map(e=>C(D[e],e))})})}},993422:(e,a,i)=>{i.r(a),i.d(a,{default:()=>h});var n,t=i(545007);i(167912);var l=i(883119),r=i(129666),s=i(47848),d=i(144326),o=i(166124),u=i(359422),p=i(409065),c=i(785893);let g={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},m=(e,a,i,n,t,l)=>{l||void 0===n||(e.preventDefault(),e.stopPropagation(),n(a,i)),void 0!==t&&t(i)},y=void 0!==n?n:n=i(357289);function h({addEllipsis:e,alwaysShowNavigationArrows:a,carouselIndex:i,carouselData:n,ellipsisVariant:h,handleCarouselSwipe:_,height:v,isShowingLastSlide:I,pinKey:S,contextLogData:x,viewParameter:f,viewType:P,componentType:w,isEditMode:T,storyType:b,itemsPerPage:k,forwardNode:D,backNode:F,sliderStyleOverride:E,hideNavigationArrows:L}){let R=(0,d.ZP)(),K=(0,t.I0)(),A=(0,s.Z)(y,S),C=(0,u.Z)(A),G=(0,r.Z)(A),O=n||G&&{carouselSlots:G.carouselSlots.map(({slotId:e,title:a})=>({id:e,title:a})),entityId:G.carouselId??"",index:G.index};if(!O)return null;let M=(e,a)=>K((0,p.yR)(e,a)),{carouselSlots:N,index:j}=O,Z=void 0!==i?i:j??0,B=Math.max(0,Z-(k??1)),H=Math.min((N??[]).length-1,Z+(k??1)),Q=0===Z,U=I||Z===(N??[]).length-1,V=(e,a)=>{let i=a<Z?9315:9316,n="search_3p_ad_only_module"===b;m(e,A?.entityId??"",a,M,_,T),C({pinId:A?.entityId??"",currentIndex:Z,nextIndex:a,carouselData:{carouselSlots:N?.map(({id:e})=>({id:e})),entityId:O.entityId},viewParameter:f,viewType:P,storyType:b,componentType:w,contextLogData:x,isEditMode:T,isEligibleForPdp:A?.isEligibleForPdp??!1,swipeEvent:n?i:108})},W=F||(0,c.jsx)(l.JO,{accessibilityLabel:R._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:"inverse",icon:"arrow-back"}),$=L?null:D||(0,c.jsx)(l.JO,{accessibilityLabel:R._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:"inverse",icon:"arrow-forward"});return(0,c.jsxs)(l.xu,{alignItems:"center",bottom:!v,"data-test-id":"carousel-sliders",display:"flex",height:v,justifyContent:L?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!L&&(0,c.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:e=>{V(e,B)},onKeyUp:e=>{V(e,B)},role:"presentation",style:{...g,...E,pointerEvents:Q?"none":"auto"},children:(0,c.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Q&&!a?"hidden":"visible",opacity:Q&&a?"50%":"100%"}},"data-test-id":"carousel-slider-left-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:W})}),e&&(0,c.jsx)(o.default,{carouselData:{carouselSlots:O.carouselSlots?.map(({id:e,title:a})=>({id:e,title:a})),entityId:O.entityId,index:O.index},carouselIndex:i,componentType:w,handleCarouselSwipe:_,itemsPerPage:k,pinKey:A,variant:h||"default",viewParameter:f,viewType:P}),!L&&(0,c.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:e=>{V(e,H)},onKeyUp:e=>{V(e,H)},role:"presentation",style:{...g,...E,pointerEvents:U?"none":"auto"},children:(0,c.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:U&&!a?"hidden":"visible",opacity:U&&a?"50%":"100%"}},"data-test-id":"carousel-slider-right-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:$})})]})}},359422:(e,a,i)=>{i.d(a,{Z:()=>d}),i(167912);var n,t=i(573706),l=i(47848),r=i(151958);let s=void 0!==n?n:n=i(107414);function d(e){let{logContextEvent:a}=(0,t.v)(),i=(0,l.Z)(s,e),n=(0,r.Z)(i);return function({pinId:e,currentIndex:i,nextIndex:t,carouselData:l,viewParameter:r,viewType:s,storyType:d,componentType:o,contextLogData:u,isEditMode:p,swipeEvent:c}){if(!p){let{carouselSlots:p,entityId:g}=l,{objectIdStr:m,...y}=u??{};a({event_type:c??108,object_id_str:e??m,component:o,view_type:s,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:p?.[i]&&Number(p[i].id),carouselDataId:Number(g),carouselSlotIndex:i,toCarouselSlotIndex:t}},aux_data:{story_type:d,...y,...n()}})}}}},798920:(e,a,i)=>{i.d(a,{G9:()=>r,SY:()=>d,kk:()=>l,mb:()=>o,s:()=>s});var n=i(679482),t=i(740366);let l=({isDesktop:e})=>{let a=(0,t.Z)({isDesktop:e});return a?-a:0},r=-2,s=({trafficSource:e,deviceType:a,experimentalGutter:i})=>{let t=i??4*n.jC;return"desktop"===a?t:"board"===e?4:void 0},d=({deviceType:e,customMWebColumnWidth:a,experimentalColumnWidth:i})=>{let t=i??n.yF;return"desktop"===e?t:a||200},o=({gutterWidth:e,itemWidth:a,className:i,minColumns:t=n.yc,maxColumns:l=n.g5})=>{let r=a+e;return Array.from({length:l+1-t},(e,a)=>a+t).map(a=>({minWidth:a===t?0:a*r,maxWidth:a===l?null:(a+1)*r-1,styles:`
      .${i} {
        max-width: ${a*r-e}px;
      }
      `})).map(({minWidth:e,maxWidth:a,styles:i})=>`
    @media (min-width: ${e}px) ${a?`and (max-width: ${a}px)`:""} {
      ${i}
    }
  `).join("")}},409065:(e,a,i)=>{function n(e,a){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:a}}}function t(e,a){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:a}}}function l(e){return{type:"PIN_SAVE",payload:e}}function r(e,a){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:a}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function d({id:e,nodeId:a}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:a}}}function o({id:e,text:a,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:a,nodeId:i}}}function u({id:e,nodeId:a}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:a}}}function p({id:e,nodeId:a}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:a}}}function c(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function g(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(a,{Gb:()=>r,I1:()=>d,Ib:()=>u,Ur:()=>l,Vw:()=>s,b9:()=>c,i0:()=>p,mO:()=>t,q1:()=>o,yR:()=>n,yj:()=>g})},74665:(e,a,i)=>{i.d(a,{Z:()=>t});let n={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},t=(e,a)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:i,featuredBoardStoryId:n,feed:t,feedStoryId:l,footerStoryId:r},s,d)=>{let o="story"===s.type&&a[s.id]?.story_type,u="board_ideas_feed"===o,p="board_ideas_preview_detailed"===o,c=!1;if("board_shop_tool_module"===o){let e=a[s.id];c=!!e.custom_properties?.is_full_width}return{feed:t.concat(p||u||c?[]:[s]),featuredBoardStoryId:"featured_boards"===o?s.id:n,feedStoryId:u?s.id:l,footerStoryId:p?s.id:r,boardShopModuleId:c?s.id:e,boardShopModuleIndex:c?d:i}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):n}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/87203-8c926098eab74456.mjs.map